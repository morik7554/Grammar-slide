<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中学英語 文法学習ナビ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: #f1f5f9; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans selection:bg-blue-200 h-screen overflow-hidden flex flex-col">

    <div id="app" class="max-w-6xl mx-auto w-full h-full flex flex-col p-2 md:p-4">
        <!-- ヘッダー -->
        <header class="flex justify-between items-center py-2 border-b border-slate-200 mb-2 flex-shrink-0">
            <h1 class="text-lg font-bold text-slate-700 flex items-center gap-2 cursor-pointer" onclick="goToMenu()">
                <i data-lucide="book-open" class="w-5 h-5 text-blue-500"></i>
                <span id="header-title">中学英語 学習ナビ</span>
            </h1>
            <div id="status-area" class="text-xs text-slate-500 font-medium"></div>
        </header>

        <!-- メインコンテンツ -->
        <main id="main-container" class="flex-grow flex flex-col justify-center relative bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden">
            <div id="slide-wrapper" class="w-full h-full overflow-y-auto custom-scroll p-2 md:p-6 flex flex-col justify-center"></div>
        </main>

        <!-- ナビゲーション -->
        <footer id="nav-footer" class="py-2 mt-2 flex justify-between items-center flex-shrink-0 hidden">
            <div class="flex items-center gap-2">
                <button id="btn-prev" class="flex items-center gap-1 px-4 py-2 rounded-full bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed text-sm">
                    <i data-lucide="arrow-left" class="w-4 h-4"></i>
                    <span>戻る</span>
                </button>
                <!-- リンクコピーボタン -->
                <button id="btn-copy-link" onclick="copyCurrentLink()" class="flex items-center gap-1 px-3 py-2 rounded-full bg-slate-100 text-slate-500 hover:bg-blue-100 hover:text-blue-600 transition-colors text-xs border border-transparent">
                    <i data-lucide="link" class="w-3.5 h-3.5"></i>
                    <span id="copy-text">リンクをコピー</span>
                </button>
            </div>
            <div class="flex gap-1 overflow-hidden px-2" id="dots-container"></div>
            <button id="btn-next" class="flex items-center gap-1 px-4 py-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 transition-colors shadow-md disabled:opacity-50 disabled:cursor-not-allowed text-sm">
                <span>次へ</span>
                <i data-lucide="arrow-right" class="w-4 h-4"></i>
            </button>
        </footer>
    </div>

<script>
/**
 * --------------------------------------------------------------------------
 * LESSONS_DB
 * --------------------------------------------------------------------------
 */
const LESSONS_DB = {
    "be-verb-i-am": {
        id: "be-verb-i-am",
        grade: 1,
        menuTitle: "I am ～ (私は～です)",
        intro: {
            title: "自分のことを言おう",
            subtitle: "意味：私は～です",
            goals: [
                "I の時は必ず am を使うことを覚える",
                "名前、身分（学生など）、状態を言えるようにする",
                "短縮形 I'm の書き方と発音に慣れる"
            ]
        },
        grammar: {
            formula: [
                { text: "I", type: "box" },
                { text: "+", type: "text" },
                { text: "am", type: "red" },
                { text: "+", type: "text" },
                { text: "名前・名詞・形容詞", type: "blue" }
            ],
            text: "自分の名前や、「私は～という状態です」と説明する時に使います。I と am は最強のコンビです。",
            items: [
                { title: "I am", desc: "自分について話す時の決まり文句", icon: "user", color: "blue" },
                { title: "短縮形 I'm", desc: "おしゃべりでは I'm (アイム) と短くすることが多い", icon: "scissors", color: "rose" },
                { title: "am の役割", desc: "「I ＝ 後ろの言葉」というイコールの記号", icon: "equal", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I is Ken. / Am I student.",
            goodExample: "<strong>I am</strong> Ken. / <strong>I'm</strong> a student.",
            description: "I の後ろに is や are を置いてはいけません。また、文の最初は必ず大文字の I で書き始めます。"
        },
        examples: [
            {
                engDisplay: '<span class="text-red-600 font-bold">I am</span> a student.',
                engRead: "I am a student.",
                jp: "私は学生です。",
                icon: "graduation-cap",
                color: "blue"
            },
            {
                engDisplay: '<span class="text-red-600 font-bold">I am</span> hungry.',
                engRead: "I am hungry.",
                jp: "私はお腹が空いています。",
                icon: "utensils",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-red-600 font-bold">I\'m</span> from Tokyo.',
                engRead: "I'm from Tokyo.",
                jp: "私は東京出身です。",
                icon: "map-pin",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I (　　　) a tennis player.",
                options: ["am", "are", "is", "be"],
                correctIndex: 0,
                explanation: "主語が I なので、be動詞は am 一択です。"
            },
            {
                id: "qA2",
                subQuestion: "I (　　　) happy.",
                options: ["am", "are", "is", "be"],
                correctIndex: 0,
                explanation: "「私は幸せです」という状態を伝える時も I am を使います。"
            },
            {
                id: "qA3",
                subQuestion: "I (　　　) thirsty.",
                options: ["am", "are", "is", "be"],
                correctIndex: 0,
                explanation: "喉が渇いている状態(thirsty)を I am でつなぎます。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私はユミです。",
                sentenceParts: ["{slot}", "{slot}", "Yumi."],
                words: ["I", "am", "You", "are"],
                correctOrder: ["I", "am"],
                explanation: "自分の名前を名乗る時の基本の形です。"
            },
            {
                id: "qB2",
                subQuestion: "私は中学生です。",
                sentenceParts: ["{slot}", "a junior high school student."],
                words: ["I'm", "I", "am", "You're"],
                correctOrder: ["I'm"],
                explanation: "短縮形を使って「アイム」と表現します。"
            },
            {
                id: "qB3",
                subQuestion: "私は元気です。",
                sentenceParts: ["{slot}", "{slot}", "fine."],
                words: ["I", "am", "is", "are"],
                correctOrder: ["I", "am"],
                explanation: "How are you? への返事でもおなじみの形です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "私は日本出身です。",
                words: ["I", "am", "from", "Japan"],
                explanation: "I + am + from ～ の順番で並べます。"
            },
            {
                id: "qC2",
                subQuestion: "私は背が高いです。",
                words: ["I", "am", "tall"],
                explanation: "「I ＝ tall（高い）」という関係を作ります。"
            }
        ],
        summary: [
            "主語が I (私は) の時の be動詞は必ず am",
            "名前、出身、職業、今の状態を説明できる",
            "短縮して I'm と言うのがとても一般的"
        ]
    },
    "be-verb-you-are": {
        id: "be-verb-you-are",
        grade: 1,
        menuTitle: "You are ～ (あなたは～です)",
        intro: {
            title: "相手のことを言おう",
            subtitle: "意味：あなたは～です",
            goals: [
                "You の時は are を使うことを覚える",
                "相手の名前や状態を説明できるようになる",
                "短縮形 You're の書き方と発音に慣れる"
            ]
        },
        grammar: {
            formula: [
                { text: "You", type: "box" },
                { text: "+", type: "text" },
                { text: "are", type: "red" },
                { text: "+", type: "text" },
                { text: "名前・名詞・形容詞", type: "blue" }
            ],
            text: "目の前にいる相手に対して、「あなたは～ですね」と言う時に使います。",
            items: [
                { title: "You are", desc: "話し相手について言う時の形", icon: "user", color: "rose" },
                { title: "短縮形 You're", desc: "短くして You're (ユア) と言うことが多い", icon: "scissors", color: "blue" },
                { title: "are の役割", desc: "「You ＝ 後ろの言葉」というイコールの記号", icon: "equal", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "You am Ken. / You is a teacher.",
            goodExample: "<strong>You are</strong> Ken. / <strong>You're</strong> a teacher.",
            description: "You に am や is を使ってはいけません。You are はセットで覚えましょう。"
        },
        examples: [
            {
                engDisplay: '<span class="text-red-600 font-bold">You are</span> my friend.',
                engRead: "You are my friend.",
                jp: "あなたは私の友達です。",
                icon: "users",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-red-600 font-bold">You are</span> a good singer.',
                engRead: "You are a good singer.",
                jp: "あなたは歌が上手です。",
                icon: "music",
                color: "blue"
            },
            {
                engDisplay: '<span class="text-red-600 font-bold">You\'re</span> very kind.',
                engRead: "You're very kind.",
                jp: "あなたはとても親切です。",
                icon: "smile",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "You (　　　) a soccer fan.",
                options: ["am", "are", "is", "be"],
                correctIndex: 1,
                explanation: "主語が You なので、be動詞は are を選びます。"
            },
            {
                id: "qA2",
                subQuestion: "You (　　　) from Canada.",
                options: ["am", "are", "is", "be"],
                correctIndex: 1,
                explanation: "相手の出身を言う時も You are です。"
            },
            {
                id: "qA3",
                subQuestion: "You (　　　) a teacher.",
                options: ["am", "are", "is", "be"],
                correctIndex: 1,
                explanation: "職業を説明する時も are を使います。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "あなたはタナカ・サトシです。",
                sentenceParts: ["{slot}", "{slot}", "Tanaka Satoshi."],
                words: ["You", "are", "I", "am"],
                correctOrder: ["You", "are"],
                explanation: "相手の名前を確認したり紹介したりする時の形です。"
            },
            {
                id: "qB2",
                subQuestion: "あなたは私の先生です。",
                sentenceParts: ["{slot}", "my teacher."],
                words: ["You're", "You", "are", "I'm"],
                correctOrder: ["You're"],
                explanation: "短縮形の You're を使ってスマートに言ってみましょう。"
            },
            {
                id: "qB3",
                subQuestion: "あなたはとても忙しいですね。",
                sentenceParts: ["{slot}", "{slot}", "very busy."],
                words: ["You", "are", "am", "is"],
                correctOrder: ["You", "are"],
                explanation: "形容詞(busy)を使って相手の状態を説明します。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "あなたはいい人です。",
                words: ["You", "are", "a", "good", "person"],
                explanation: "You + are + 名詞 の語順で並べます。"
            },
            {
                id: "qC2",
                subQuestion: "あなたは私のクラスメイトです。",
                words: ["You", "are", "my", "classmate"],
                explanation: "「You ＝ classmate」という関係を作ります。"
            }
        ],
        summary: [
            "主語が You (あなたは) の時の be動詞は必ず are",
            "相手の名前、職業、特徴を説明できる",
            "短縮して You're と言うのが一般的"
        ]
    },
    "be-verb-he-she-is": {
        id: "be-verb-he-she-is",
        grade: 1,
        menuTitle: "He/She is ～ (彼は/彼女は～です)",
        intro: {
            title: "第三者を紹介しよう",
            subtitle: "意味：彼は～です / 彼女は～です",
            goals: [
                "男性には He、女性には She を使う",
                "どちらも be動詞は is を使うことを覚える",
                "短縮形 He's / She's に慣れる"
            ]
        },
        grammar: {
            formula: [
                { text: "He / She", type: "box" },
                { text: "+", type: "text" },
                { text: "is", type: "red" },
                { text: "+", type: "text" },
                { text: "名前・職業・形容詞", type: "blue" }
            ],
            text: "自分(I)と相手(You)以外の、男の人や女の人について話す時に使います。",
            items: [
                { title: "He is", desc: "男の人（父、兄、ケンなど）の代わり", icon: "user", color: "blue" },
                { title: "She is", desc: "女の人（母、姉、ユミなど）の代わり", icon: "user", color: "rose" },
                { title: "共通点", desc: "どちらも相棒は is (短縮は He's / She's)", icon: "link", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "He am Ken. / She are my teacher.",
            goodExample: "He <strong>is</strong> Ken. / She <strong>is</strong> my teacher.",
            description: "He も She も、一人の人を指すときは必ず is を使います。"
        },
        examples: [
            {
                engDisplay: '<span class="text-blue-600 font-bold">He is</span> my brother.',
                engRead: "He is my brother.",
                jp: "彼は私の兄です。",
                icon: "user",
                color: "blue"
            },
            {
                engDisplay: '<span class="text-rose-600 font-bold">She is</span> very kind.',
                engRead: "She is very kind.",
                jp: "彼女はとても親切です。",
                icon: "smile",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-orange-600 font-bold">He\'s</span> from Canada.',
                engRead: "He's from Canada.",
                jp: "彼はカナダ出身です。",
                icon: "map-pin",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "He (　　　) a soccer player.",
                options: ["is", "am", "are", "be"],
                correctIndex: 0,
                explanation: "主語が He なので is を選びます。"
            },
            {
                id: "qA2",
                subQuestion: "She (　　　) my sister.",
                options: ["am", "are", "is", "be"],
                correctIndex: 2,
                explanation: "主語が She の時も is を使います。"
            },
            {
                id: "qA3",
                subQuestion: "He (　　　) cool.",
                options: ["am", "is", "are", "be"],
                correctIndex: 1,
                explanation: "「彼はかっこいい」という状態を表す文です。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "彼はケンです。",
                sentenceParts: ["{slot}", "{slot}", "Ken."],
                words: ["He", "is", "I", "am"],
                correctOrder: ["He", "is"],
                explanation: "男性を紹介する時は He is を使います。"
            },
            {
                id: "qB2",
                subQuestion: "彼女は看護師です。",
                sentenceParts: ["{slot}", "a nurse."],
                words: ["She's", "He's", "She", "is"],
                correctOrder: ["She's"],
                explanation: "She is の短縮形 She's を使います。"
            },
            {
                id: "qB3",
                subQuestion: "彼女は幸せです。",
                sentenceParts: ["{slot}", "{slot}", "happy."],
                words: ["She", "is", "He", "are"],
                correctOrder: ["She", "is"],
                explanation: "女性の気持ちや状態を説明する文です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "彼は私の先生です。",
                words: ["He", "is", "my", "teacher"],
                explanation: "He + is + 誰 の語順で並べます。"
            },
            {
                id: "qC2",
                subQuestion: "彼女はかわいいです。",
                words: ["She", "is", "cute"],
                explanation: "She + is + どんな状態 の語順です。"
            }
        ],
        summary: [
            "男性は He、女性は She を使う",
            "be動詞はどちらも is を選ぶ",
            "短縮形は He's / She's"
        ]
    },
    "be-verb-this-that": {
        id: "be-verb-this-that",
        grade: 1,
        menuTitle: "This is ～ / That is ～",
        intro: {
            title: "近くの物と遠くの物",
            subtitle: "意味：これは～です / あれは～です",
            goals: [
                "近くの物は This、遠くの物は That を使う",
                "be動詞は is を使うことを覚える",
                "短縮形 That's に慣れる（This is の短縮はない！）"
            ]
        },
        grammar: {
            formula: [
                { text: "This / That", type: "box" },
                { text: "+", type: "text" },
                { text: "is", type: "red" },
                { text: "+", type: "text" },
                { text: "名詞（物・人）", type: "blue" }
            ],
            text: "指をさして「これは～」「あれは～」と物を紹介する時に使います。人を他人に紹介する時にも使えます。",
            items: [
                { title: "This is", desc: "自分の近くにある（いる）ものを指す時", icon: "arrow-down-circle", color: "rose" },
                { title: "That is", desc: "相手の近くや、遠くにある（いる）ものを指す時", icon: "arrow-up-right", color: "blue" },
                { title: "注意点", desc: "That is → That's と短縮できるが、This is は短縮しない", icon: "alert-triangle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "This are a pen. / This's a book.",
            goodExample: "This <strong>is</strong> a pen. / <strong>That's</strong> a book.",
            description: "This も That も単数（1つ）なので、be動詞は is です。This's という書き方はしません。"
        },
        examples: [
            {
                engDisplay: '<span class="text-rose-600 font-bold">This is</span> my bag.',
                engRead: "This is my bag.",
                jp: "これは私のかばんです。",
                icon: "briefcase",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-blue-600 font-bold">That is</span> a bird.',
                engRead: "That is a bird.",
                jp: "あれは鳥です。",
                icon: "feather",
                color: "blue"
            },
            {
                engDisplay: '<span class="text-blue-600 font-bold">That\'s</span> my bike.',
                engRead: "That's my bike.",
                jp: "あれは私の自転車です。",
                icon: "bike",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "This (　　　) a pen.",
                options: ["is", "am", "are", "be"],
                correctIndex: 0,
                explanation: "This は単数（ひとつ）なので、be動詞は is を使います。"
            },
            {
                id: "qA2",
                subQuestion: "That (　　　) my house.",
                options: ["am", "are", "is", "be"],
                correctIndex: 2,
                explanation: "That も単数なので、is を選びます。"
            },
            {
                id: "qA3",
                subQuestion: "(　　　) is an apple.",
                options: ["This", "I", "You", "They"],
                correctIndex: 0,
                explanation: "「これはリンゴです」と物を指す This を選びます。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "これは私の本です。",
                sentenceParts: ["{slot}", "{slot}", "my book."],
                words: ["This", "is", "That", "are"],
                correctOrder: ["This", "is"],
                explanation: "近くの物を指す時は This is です。"
            },
            {
                id: "qB2",
                subQuestion: "あれはあなたの机です。",
                sentenceParts: ["{slot}", "your desk."],
                words: ["That's", "This's", "That", "is"],
                correctOrder: ["That's"],
                explanation: "That is の短縮形 That's を使います。"
            },
            {
                id: "qB3",
                subQuestion: "こちらはケンです（紹介）。",
                sentenceParts: ["{slot}", "{slot}", "Ken."],
                words: ["This", "is", "He", "am"],
                correctOrder: ["This", "is"],
                explanation: "人を誰かに紹介する時も This is ～ を使います。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "これは素敵な写真です。",
                words: ["This", "is", "a", "nice", "picture"],
                explanation: "This + is + 名詞 の語順で並べます。"
            },
            {
                id: "qC2",
                subQuestion: "あれは私たちの学校です。",
                words: ["That", "is", "our", "school"],
                explanation: "「あれは～です」は That is ～ です。"
            }
        ],
        summary: [
            "近くは This is、遠くは That is",
            "be動詞はどちらも is",
            "That is は That's と短縮できる（This is はダメ）"
        ]
    },
    "be-verb-usage": {
        id: "be-verb-usage",
        grade: 1,
        menuTitle: "be動詞の使い分け (am / are / is)",
        intro: {
            title: "be動詞マスターになろう",
            subtitle: "意味：～です／～だ（イコール）",
            goals: [
                "主語によって am / are / is を瞬時に選べるようにする",
                "単数（is）と複数（are）の感覚をつかむ",
                "My father (=He) のように主語を置き換えて考える"
            ]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "am / are / is", type: "red" },
                { text: "+", type: "text" },
                { text: "～", type: "blue" }
            ],
            text: "be動詞は主語との相性が決まっています。グループ分けして覚えましょう。",
            items: [
                { title: "am グループ", desc: "I (私) だけ！", icon: "user", color: "blue" },
                { title: "are グループ", desc: "You (あなた) と 複数 (We, They, Tom and Kenなど)", icon: "users", color: "rose" },
                { title: "is グループ", desc: "I と You 以外の単数 (He, She, This, Ken, The dogなど)", icon: "user-check", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "Ken and I am friends.",
            goodExample: "Ken and I <strong>are</strong> friends.",
            description: "「Ken and I」は2人（複数）なので、am ではなく are を使います。I の隣だからといって am に飛びつかないように！"
        },
        examples: [
            {
                engDisplay: 'My father <span class="text-red-600 font-bold">is</span> a doctor.',
                engRead: "My father is a doctor.",
                jp: "私の父（＝He）は医者です。",
                icon: "activity",
                color: "blue"
            },
            {
                engDisplay: 'We <span class="text-rose-600 font-bold">are</span> happy.',
                engRead: "We are happy.",
                jp: "私たち（＝複数）は幸せです。",
                icon: "smile",
                color: "rose"
            },
            {
                engDisplay: 'Tom and Ken <span class="text-rose-600 font-bold">are</span> classmates.',
                engRead: "Tom and Ken are classmates.",
                jp: "トムとケン（＝複数）は同級生です。",
                icon: "users",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "My mother (　　　) kind.",
                options: ["is", "am", "are", "be"],
                correctIndex: 0,
                explanation: "My mother は She（彼女）と同じ扱い（三人称単数）なので is です。"
            },
            {
                id: "qA2",
                subQuestion: "You and I (　　　) good friends.",
                options: ["am", "are", "is", "be"],
                correctIndex: 1,
                explanation: "「あなたと私」は2人（複数）なので are を使います。"
            },
            {
                id: "qA3",
                subQuestion: "The dog (　　　) cute.",
                options: ["am", "are", "is", "be"],
                correctIndex: 2,
                explanation: "The dog は It（それ）と同じ扱い（単数）なので is です。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "その車は新しいです。",
                sentenceParts: ["The car", "{slot}", "new."],
                words: ["is", "are", "am", "isn't"],
                correctOrder: ["is"],
                explanation: "The car は単数（1つ）なので is を使います。"
            },
            {
                id: "qB2",
                subQuestion: "彼らはサッカー選手です。",
                sentenceParts: ["They", "{slot}", "soccer players."],
                words: ["are", "is", "am", "be"],
                correctOrder: ["are"],
                explanation: "They（彼ら）は複数なので are です。"
            },
            {
                id: "qB3",
                subQuestion: "東京は大きいです。",
                sentenceParts: ["Tokyo", "{slot}", "big."],
                words: ["is", "are", "am", "in"],
                correctOrder: ["is"],
                explanation: "地名（Tokyo）は単数扱いなので is を使います。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "ケンとメグは忙しいです。",
                words: ["Ken", "and", "Meg", "are", "busy"],
                explanation: "2人いる場合は複数形なので are を使います。"
            },
            {
                id: "qC2",
                subQuestion: "この本はおもしろいです。",
                words: ["This", "book", "is", "interesting"],
                explanation: "This book は単数なので is を使います。"
            }
        ],
        summary: [
            "I には am、You と複数には are",
            "それ以外の単数（一人・一つ）には is",
            "主語を He/She/It/They に置き換えて考えるとわかりやすい"
        ]
    },
    "be-verb-negative": {
        id: "be-verb-negative",
        grade: 1,
        menuTitle: "be動詞の否定文",
        intro: {
            title: "～ではありません",
            subtitle: "意味：～ではない（否定）",
            goals: [
                "be動詞の後ろに not を置くルールを覚える",
                "短縮形（isn't, aren't）を使えるようにする",
                "am not には短縮形（amn't）がないことを知る"
            ]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "be動詞", type: "red" },
                { text: "+", type: "text" },
                { text: "not", type: "red" },
                { text: "+", type: "text" },
                { text: "～", type: "blue" }
            ],
            text: "「～ではありません」と打ち消す時は、be動詞のすぐ後ろに not を入れます。",
            items: [
                { title: "is not", desc: "短縮形は isn't (イズント)", icon: "x-circle", color: "blue" },
                { title: "are not", desc: "短縮形は aren't (アーント)", icon: "x-circle", color: "rose" },
                { title: "am not", desc: "amn't は無い！ I'm not と主語の方を縮める", icon: "alert-octagon", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I am not a student. -> I amn't a student.",
            goodExample: "I am not a student. -> <strong>I'm not</strong> a student.",
            description: "am not を1語に縮めることはできません。I am を縮めて I'm not にするのが普通です。"
        },
        examples: [
            {
                engDisplay: 'I <span class="text-red-600 font-bold">am not</span> a teacher.',
                engRead: "I am not a teacher.",
                jp: "私は先生ではありません。",
                icon: "user-x",
                color: "blue"
            },
            {
                engDisplay: 'You <span class="text-rose-600 font-bold">aren\'t</span> old.',
                engRead: "You aren't old.",
                jp: "あなたは年をとっていません。",
                icon: "smile",
                color: "rose"
            },
            {
                engDisplay: 'He <span class="text-orange-600 font-bold">isn\'t</span> from Tokyo.',
                engRead: "He isn't from Tokyo.",
                jp: "彼は東京出身ではありません。",
                icon: "map-pin",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "She (　　　) my sister.",
                options: ["is not", "not is", "no is", "not"],
                correctIndex: 0,
                explanation: "否定文は be動詞 + not の順序です。"
            },
            {
                id: "qA2",
                subQuestion: "They (　　　) busy.",
                options: ["aren't", "isn't", "amn't", "not"],
                correctIndex: 0,
                explanation: "They are not の短縮形 aren't を選びます。"
            },
            {
                id: "qA3",
                subQuestion: "I (　　　) hungry.",
                options: ["am not", "amn't", "isn't", "not am"],
                correctIndex: 0,
                explanation: "I am の否定は am not です。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "これは私のペンではありません。",
                sentenceParts: ["This", "{slot}", "my pen."],
                words: ["is not", "not is", "no"],
                correctOrder: ["is not"],
                explanation: "be動詞(is)の後ろに not を置きます。"
            },
            {
                id: "qB2",
                subQuestion: "私たちは学生ではありません。",
                sentenceParts: ["We", "{slot}", "students."],
                words: ["aren't", "isn't", "not", "am not"],
                correctOrder: ["aren't"],
                explanation: "We are not の短縮形 aren't を使います。"
            },
            {
                id: "qB3",
                subQuestion: "私は医者ではありません。",
                sentenceParts: ["I", "{slot}", "a doctor."],
                words: ["am not", "amn't", "don't", "not"],
                correctOrder: ["am not"],
                explanation: "I am not を選びます（amn'tはないので注意）。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "あれは私の自転車ではありません。",
                words: ["That", "is", "not", "my", "bike"],
                explanation: "That is + not + ～ の語順で並べます。"
            },
            {
                id: "qC2",
                subQuestion: "彼は親切ではありません。",
                words: ["He", "is", "not", "kind"],
                explanation: "be動詞の後ろに not を入れて否定します。"
            }
        ],
        summary: [
            "be動詞の後ろに not を置くだけ",
            "is not = isn't, are not = aren't",
            "am not の短縮形はない（I'm not を使う）"
        ]
    },
    "be-verb-question": {
        id: "be-verb-question",
        grade: 1,
        menuTitle: "be動詞の疑問文",
        intro: {
            title: "～ですか？",
            subtitle: "意味：～ですか？（質問）",
            goals: [
                "be動詞を主語の前に出す語順を覚える",
                "文末にクエスチョンマーク（?）をつける",
                "Yes, I am. / No, I'm not. などの答え方をマスターする"
            ]
        },
        grammar: {
            formula: [
                { text: "be動詞", type: "red" },
                { text: "+", type: "text" },
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "～", type: "blue" },
                { text: "?", type: "text" }
            ],
            text: "「～ですか？」と聞く時は、be動詞を文の先頭に移動させます。最後は上がり調子で読みます。",
            items: [
                { title: "Are you ～?", desc: "「あなたは～ですか？」→ Yes, I am. で答える", icon: "help-circle", color: "blue" },
                { title: "Is he ～?", desc: "「彼は～ですか？」→ Yes, he is. で答える", icon: "user", color: "rose" },
                { title: "Is this ～?", desc: "「これは～ですか？」→ Yes, it is. (Itで受ける！)", icon: "box", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "You are a student? / Are you a student.",
            goodExample: "<strong>Are you</strong> a student?",
            description: "語順を変えずに「？」だけつけても疑問文にはなりません（会話では通じますが、テストでは×）。be動詞を前に出し、必ず「？」をつけましょう。"
        },
        examples: [
            {
                engDisplay: '<span class="text-red-600 font-bold">Are you</span> hungry?',
                engRead: "Are you hungry?",
                jp: "あなたはお腹が空いていますか？",
                icon: "utensils",
                color: "blue"
            },
            {
                engDisplay: '<span class="text-rose-600 font-bold">Is he</span> your brother?',
                engRead: "Is he your brother?",
                jp: "彼はあなたの兄ですか？",
                icon: "user",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-orange-600 font-bold">Is this</span> your pen?',
                engRead: "Is this your pen?",
                jp: "これはあなたのペンですか？",
                icon: "edit-3",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "(　　　) you from Japan?",
                options: ["Are", "Am", "Is", "Do"],
                correctIndex: 0,
                explanation: "主語が You なので Are で始めます。"
            },
            {
                id: "qA2",
                subQuestion: "Is she kind? --- Yes, she (　　　).",
                options: ["is", "am", "are", "do"],
                correctIndex: 0,
                explanation: "Is she...? で聞かれたら、she is で答えます。"
            },
            {
                id: "qA3",
                subQuestion: "(　　　) that a dog?",
                options: ["Is", "Are", "Am", "Do"],
                correctIndex: 0,
                explanation: "That（あれ）は単数なので Is で始めます。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "あなたは学生ですか？",
                sentenceParts: ["{slot}", "{slot}", "a student?"],
                words: ["Are", "you", "Is", "he"],
                correctOrder: ["Are", "you"],
                explanation: "You are... の are を前に出します。"
            },
            {
                id: "qB2",
                subQuestion: "彼は忙しいですか？",
                sentenceParts: ["{slot}", "he busy?"],
                words: ["Is", "Are", "Am", "Do"],
                correctOrder: ["Is"],
                explanation: "He is... の is を前に出します。"
            },
            {
                id: "qB3",
                subQuestion: "これは魚ですか？ --- いいえ、違います。",
                sentenceParts: ["Is this a fish? --- No, {slot}", "{slot}", "."],
                words: ["it", "isn't", "is", "not"],
                correctOrder: ["it", "isn't"],
                explanation: "This（これ）で聞かれたら It（それ）で答えるのが鉄則です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "あなたは先生ですか？",
                words: ["Are", "you", "a", "teacher", "?"],
                explanation: "Are you + 名詞? の語順です。"
            },
            {
                id: "qC2",
                subQuestion: "彼女は幸せですか？",
                words: ["Is", "she", "happy", "?"],
                explanation: "be動詞を文頭に出して疑問文にします。"
            }
        ],
        summary: [
            "be動詞を主語の前に出すだけで疑問文になる",
            "文末に必ず「？」をつける",
            "答えは Yes, I am. / No, it isn't. など、be動詞を使って答える"
        ]
    },
    "be-verb-summary": {
        id: "be-verb-summary",
        grade: 1,
        menuTitle: "be動詞のまとめ (肯定・否定・疑問)",
        intro: {
            title: "be動詞マスター",
            subtitle: "意味：～です／～だ",
            goals: [
                "am / are / is の使い分けを完璧にする",
                "not の位置（否定）と be動詞の移動（疑問）を整理する",
                "Yes / No での答え方を復習する"
            ]
        },
        grammar: {
            formula: [
                { text: "肯定：主語 + be", type: "blue" },
                { text: " / ", type: "text" },
                { text: "否定：be + not", type: "red" },
                { text: " / ", type: "text" },
                { text: "疑問：Be + 主語 ?", type: "orange" }
            ],
            text: "be動詞の変化は「主語」で決まり、文の種類は「語順」で決まります。",
            items: [
                { title: "使い分け", desc: "I am / You are / 他の単数は is / 複数は are", icon: "users", color: "blue" },
                { title: "否定文", desc: "be動詞の後ろに not を置く (is not / aren't)", icon: "x-circle", color: "rose" },
                { title: "疑問文", desc: "be動詞を主語の前に出す (Are you...? / Is he...?)", icon: "help-circle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "He are not busy. / You is a student?",
            goodExample: "He <strong>is not</strong> busy. / <strong>Are you</strong> a student?",
            description: "まずは主語を見て am/are/is を正しく選ぶこと。次に、否定なら not、疑問なら入れ替えを行います。"
        },
        examples: [
            {
                engDisplay: 'I <span class="text-blue-600 font-bold">am</span> a student.',
                engRead: "I am a student.",
                jp: "私は学生です。（肯定文）",
                icon: "user",
                color: "blue"
            },
            {
                engDisplay: 'He <span class="text-rose-600 font-bold">is not</span> (isn\'t) tired.',
                engRead: "He is not tired.",
                jp: "彼は疲れていません。（否定文）",
                icon: "frown",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-orange-600 font-bold">Are you</span> free?',
                engRead: "Are you free?",
                jp: "あなたは暇ですか？（疑問文）",
                icon: "help-circle",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "My father (　　　) a teacher.",
                options: ["is", "am", "are", "be"],
                correctIndex: 0,
                explanation: "My father（私の父）は三人称単数（Heと同じ）なので is を使います。"
            },
            {
                id: "qA2",
                subQuestion: "They (　　　) busy today.",
                options: ["aren't", "isn't", "amn't", "not"],
                correctIndex: 0,
                explanation: "They（彼ら）は複数なので are を使い、否定文なら aren't です。"
            },
            {
                id: "qA3",
                subQuestion: "(　　　) this your bag?",
                options: ["Is", "Are", "Am", "Do"],
                correctIndex: 0,
                explanation: "This（これ）は単数なので Is で質問を始めます。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私は東京出身ではありません。",
                sentenceParts: ["I", "{slot}", "{slot}", "from Tokyo."],
                words: ["am", "not", "no", "is"],
                correctOrder: ["am", "not"],
                explanation: "I am の否定は am not です（短縮形は I'm not）。"
            },
            {
                id: "qB2",
                subQuestion: "ケンとメグは友達ですか？",
                sentenceParts: ["{slot}", "Ken and Meg", "{slot}", "?"],
                words: ["Are", "friends", "Is", "friend"],
                correctOrder: ["Are", "friends"],
                explanation: "主語が2人（複数）なので Are で始め、名詞も複数形(friends)にします。"
            },
            {
                id: "qB3",
                subQuestion: "彼女は幸せです。",
                sentenceParts: ["{slot}", "{slot}", "happy."],
                words: ["She", "is", "He", "are"],
                correctOrder: ["She", "is"],
                explanation: "基本の肯定文です。She には is を合わせます。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "あなたは医者ではありません。",
                words: ["You", "are", "not", "a", "doctor"],
                explanation: "否定文は be動詞の後ろに not を置きます。"
            },
            {
                id: "qC2",
                subQuestion: "あれは鳥ですか？",
                words: ["Is", "that", "a", "bird", "?"],
                explanation: "疑問文は be動詞(Is) を主語(that)の前に出します。"
            }
        ],
        summary: [
            "I am / You are / 単数は is / 複数は are",
            "否定文は be動詞 ＋ not",
            "疑問文は be動詞 ＋ 主語 ...?"
        ]
    },
    "general-verb-intro": {
        id: "general-verb-intro",
        grade: 1,
        menuTitle: "一般動詞とは？ (肯定文)",
        intro: {
            title: "動作や状態を表す言葉",
            subtitle: "意味：～する／～が好きだ",
            goals: [
                "be動詞以外の動詞（play, like, eatなど）を覚える",
                "「誰が・どうする・何を」の語順（SVO）に慣れる",
                "be動詞と一般動詞を一緒に使わないルールを知る"
            ]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "一般動詞", type: "red" },
                { text: "+", type: "text" },
                { text: "目的語など", type: "blue" }
            ],
            text: "「スポーツをする」「音楽を聴く」「～が好き」など、動作や気持ちを表す言葉です。",
            items: [
                { title: "動作動詞", desc: "play, eat, run, study など、動きがあるもの", icon: "activity", color: "blue" },
                { title: "状態動詞", desc: "like, want, know, live など、気持ちや状態を表すもの", icon: "heart", color: "rose" },
                { title: "絶対ルール", desc: "1つの文に be動詞と一般動詞を混ぜてはいけない！", icon: "alert-triangle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I am play tennis. / You are like soccer.",
            goodExample: "I <strong>play</strong> tennis. / You <strong>like</strong> soccer.",
            description: "「私は～です」のつもりで am を入れたくなりますが、一般動詞がある時は am/are/is は使いません。"
        },
        examples: [
            {
                engDisplay: 'I <span class="text-red-600 font-bold">play</span> soccer.',
                engRead: "I play soccer.",
                jp: "私はサッカーをします。",
                icon: "award",
                color: "blue"
            },
            {
                engDisplay: 'You <span class="text-rose-600 font-bold">like</span> cats.',
                engRead: "You like cats.",
                jp: "あなたは猫が好きです。",
                icon: "heart",
                color: "rose"
            },
            {
                engDisplay: 'I <span class="text-orange-600 font-bold">want</span> a new bike.',
                engRead: "I want a new bike.",
                jp: "私は新しい自転車が欲しいです。",
                icon: "shopping-cart",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I (　　　) tennis.",
                options: ["play", "am play", "plays", "playing"],
                correctIndex: 0,
                explanation: "「テニスをする」は play tennis。am は不要です。"
            },
            {
                id: "qA2",
                subQuestion: "You (　　　) English.",
                options: ["study", "are study", "studies", "studying"],
                correctIndex: 0,
                explanation: "「勉強する」は study。You study English. となります。"
            },
            {
                id: "qA3",
                subQuestion: "I (　　　) in Tokyo.",
                options: ["live", "am live", "lives", "living"],
                correctIndex: 0,
                explanation: "「住んでいる」は live です。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私はピアノを弾きます。",
                sentenceParts: ["I", "{slot}", "the piano."],
                words: ["play", "am", "playing", "plays"],
                correctOrder: ["play"],
                explanation: "楽器を演奏する時も play を使います。"
            },
            {
                id: "qB2",
                subQuestion: "あなたはリンゴが好きです。",
                sentenceParts: ["You", "{slot}", "apples."],
                words: ["like", "are", "liking", "likes"],
                correctOrder: ["like"],
                explanation: "「好き」という気持ちを表す一般動詞 like です。"
            },
            {
                id: "qB3",
                subQuestion: "私は車を持っています。",
                sentenceParts: ["I", "{slot}", "a car."],
                words: ["have", "am", "has", "having"],
                correctOrder: ["have"],
                explanation: "「持っている」は have を使います。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "私は毎日走ります。",
                words: ["I", "run", "every", "day"],
                explanation: "「誰が(I) → どうする(run)」の順です。"
            },
            {
                id: "qC2",
                subQuestion: "あなたは上手に歌います。",
                words: ["You", "sing", "well"],
                explanation: "well（上手に）は文の最後に置きます。"
            }
        ],
        summary: [
            "be動詞以外はすべて「一般動詞」",
            "「主語 ＋ 一般動詞」の順で文を作る",
            "I am play... のように be動詞と一緒に使わない！"
        ]
    },
    "general-verb-negative": {
        id: "general-verb-negative",
        grade: 1,
        menuTitle: "一般動詞の否定文",
        intro: {
            title: "～しません / ～ではありません",
            subtitle: "意味：～しない（否定）",
            goals: [
                "don't (do not) を動詞の前に置くルールを覚える",
                "be動詞の否定文（notのみ）との違いを理解する",
                "I don't know. などの決まり文句を使えるようにする"
            ]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "don't", type: "red" },
                { text: "+", type: "text" },
                { text: "一般動詞", type: "blue" }
            ],
            text: "一般動詞の文を否定する時は、動詞の前に don't (do not) を入れます。",
            items: [
                { title: "don't", desc: "do not の短縮形。会話では don't が普通。", icon: "x-circle", color: "rose" },
                { title: "置く場所", desc: "必ず「動詞の前」に置く！ (play don't X)", icon: "arrow-left", color: "blue" },
                { title: "意味", desc: "「～しない」「～ではない（好きではない等）」", icon: "slash", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I play not tennis. / I not play tennis.",
            goodExample: "I <strong>don't play</strong> tennis.",
            description: "一般動詞の後ろに not を置いてもダメです。必ず don't を動詞の前に置くサンドイッチ構造を作りましょう。"
        },
        examples: [
            {
                engDisplay: 'I <span class="text-red-600 font-bold">don\'t like</span> natto.',
                engRead: "I don't like natto.",
                jp: "私は納豆が好きではありません。",
                icon: "frown",
                color: "blue"
            },
            {
                engDisplay: 'You <span class="text-rose-600 font-bold">don\'t know</span> him.',
                engRead: "You don't know him.",
                jp: "あなたは彼を知りません。",
                icon: "help-circle",
                color: "rose"
            },
            {
                engDisplay: 'I <span class="text-orange-600 font-bold">do not</span> speak French.',
                engRead: "I do not speak French.",
                jp: "私はフランス語を話しません（強調）。",
                icon: "message-square",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I (　　　) play baseball.",
                options: ["don't", "not", "am not", "no"],
                correctIndex: 0,
                explanation: "play（一般動詞）の否定なので don't を使います。"
            },
            {
                id: "qA2",
                subQuestion: "You (　　　) eat sushi.",
                options: ["don't", "aren't", "not", "no"],
                correctIndex: 0,
                explanation: "eat（食べる）の前には don't を置きます。"
            },
            {
                id: "qA3",
                subQuestion: "I (　　　) have a cat.",
                options: ["don't", "am not", "not", "no"],
                correctIndex: 0,
                explanation: "have（持っている）の否定は don't have です。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私はテニスをしません。",
                sentenceParts: ["I", "{slot}", "{slot}", "tennis."],
                words: ["don't", "play", "not", "am not"],
                correctOrder: ["don't", "play"],
                explanation: "play の前に don't を置きます。"
            },
            {
                id: "qB2",
                subQuestion: "あなたは先生ではありません（be動詞）。",
                sentenceParts: ["You", "{slot}", "a teacher."],
                words: ["aren't", "don't", "not", "no"],
                correctOrder: ["aren't"],
                explanation: "これは「～です」の否定なので be動詞の否定 aren't を使います。ひっかけ問題です！"
            },
            {
                id: "qB3",
                subQuestion: "私はその歌を知りません。",
                sentenceParts: ["I", "{slot}", "{slot}", "the song."],
                words: ["don't", "know", "not", "no"],
                correctOrder: ["don't", "know"],
                explanation: "「知らない」は don't know と言います。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "私は牛乳を飲みません。",
                words: ["I", "don't", "drink", "milk"],
                explanation: "I + don't + drink... の語順です。"
            },
            {
                id: "qC2",
                subQuestion: "あなたはテレビを見ません。",
                words: ["You", "don't", "watch", "TV"],
                explanation: "watch の前に don't を入れます。"
            }
        ],
        summary: [
            "一般動詞の否定は don't を使う",
            "必ず「動詞の前」に don't を置く",
            "be動詞の文（notのみ）と混同しないように注意"
        ]
    },
    "general-verb-question": {
        id: "general-verb-question",
        grade: 1,
        menuTitle: "一般動詞の疑問文",
        intro: {
            title: "～しますか？",
            subtitle: "意味：～しますか？（質問）",
            goals: [
                "Do you ...? という形の作り方を覚える",
                "Yes, I do. / No, I don't. の答え方をマスターする",
                "Be動詞（Are you ...?）と混同しないようにする"
            ]
        },
        grammar: {
            formula: [
                { text: "Do", type: "red" },
                { text: "+", type: "text" },
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "一般動詞", type: "blue" },
                { text: "?", type: "text" }
            ],
            text: "一般動詞の文を疑問文にする時は、文の先頭に Do を置きます。",
            items: [
                { title: "Do you ...?", desc: "「あなたは～しますか？」と聞く基本形", icon: "help-circle", color: "blue" },
                { title: "答え方", desc: "Do で聞かれたら do で答える (Yes, I do. / No, I don't.)", icon: "message-square", color: "rose" },
                { title: "動詞は原形", desc: "Do の後ろの動詞は必ず元の形（原形）", icon: "refresh-cw", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "Play you tennis? / Are you play tennis?",
            goodExample: "<strong>Do you</strong> play tennis?",
            description: "一般動詞を前に出したり、Are を使ったりしてはいけません。必ず Do という助っ人を文頭に呼びます。"
        },
        examples: [
            {
                engDisplay: '<span class="text-red-600 font-bold">Do you</span> like soccer?',
                engRead: "Do you like soccer?",
                jp: "あなたはサッカーが好きですか？",
                icon: "heart",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-blue-600 font-bold">Do you</span> play the piano?',
                engRead: "Do you play the piano?",
                jp: "あなたはピアノを弾きますか？",
                icon: "music",
                color: "blue"
            },
            {
                engDisplay: 'Yes, I <span class="text-orange-600 font-bold">do</span>.',
                engRead: "Yes, I do.",
                jp: "はい、そうです（します/好きです）。",
                icon: "check",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "(　　　) you speak English?",
                options: ["Do", "Are", "Is", "Am"],
                correctIndex: 0,
                explanation: "speak（話す）は一般動詞なので、疑問文は Do で始めます。"
            },
            {
                id: "qA2",
                subQuestion: "Do you know him? --- No, I (　　　).",
                options: ["don't", "am not", "not", "no"],
                correctIndex: 0,
                explanation: "Do で聞かれたら don't (do not) で否定します。"
            },
            {
                id: "qA3",
                subQuestion: "(　　　) you busy now?",
                options: ["Are", "Do", "Is", "Am"],
                correctIndex: 0,
                explanation: "busy（忙しい）は動作ではない（形容詞）ので、be動詞の Are を使います。ひっかけ問題！"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "あなたは納豆を食べますか？",
                sentenceParts: ["{slot}", "{slot}", "eat natto?"],
                words: ["Do", "you", "Are", "play"],
                correctOrder: ["Do", "you"],
                explanation: "一般動詞 eat の疑問文は Do you で始めます。"
            },
            {
                id: "qB2",
                subQuestion: "あなたは車を持っていますか？",
                sentenceParts: ["{slot}", "you", "{slot}", "a car?"],
                words: ["Do", "have", "Are", "has"],
                correctOrder: ["Do", "have"],
                explanation: "「持っている」は have です。"
            },
            {
                id: "qB3",
                subQuestion: "あなたはテニスが好きですか？ --- いいえ。",
                sentenceParts: ["Do you like tennis? --- No, {slot}", "{slot}", "."],
                words: ["I", "don't", "am", "not"],
                correctOrder: ["I", "don't"],
                explanation: "No の答え方は No, I don't. です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "あなたは毎日走りますか？",
                words: ["Do", "you", "run", "every", "day", "?"],
                explanation: "Do you + 動詞の原形...? の語順です。"
            },
            {
                id: "qC2",
                subQuestion: "あなたは料理をしますか？",
                words: ["Do", "you", "cook", "?"],
                explanation: "cook（料理する）を使って聞きます。"
            }
        ],
        summary: [
            "一般動詞の疑問文は Do you ...?",
            "答えは Yes, I do. / No, I don't.",
            "Are you ...?（be動詞）と間違えないように注意"
        ]
    },
    "general-verb-summary": {
        id: "general-verb-summary",
        grade: 1,
        menuTitle: "一般動詞のまとめ (肯定・否定・疑問)",
        intro: {
            title: "一般動詞マスター",
            subtitle: "意味：～する／～が好きだ",
            goals: [
                "be動詞との違いを完璧にする（混ぜない！）",
                "肯定・否定・疑問の語順を整理する",
                "Do / Don't の使いどころをマスターする"
            ]
        },
        grammar: {
            formula: [
                { text: "肯定", type: "blue" },
                { text: "主語 + 動詞", type: "text" },
                { text: " / ", type: "text" },
                { text: "否定", type: "red" },
                { text: "don't + 動詞", type: "text" },
                { text: " / ", type: "text" },
                { text: "疑問", type: "orange" },
                { text: "Do + 主語...?", type: "text" }
            ],
            text: "be動詞(is/am/are)を使わず、動詞そのものや Do/Don't を使って文を作ります。",
            items: [
                { title: "肯定文", desc: "I play soccer.（そのまま並べる）", icon: "check", color: "blue" },
                { title: "否定文", desc: "I don't play.（動詞の前に don't）", icon: "x-circle", color: "rose" },
                { title: "疑問文", desc: "Do you play?（文頭に Do）", icon: "help-circle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I am play tennis. / Play you tennis?",
            goodExample: "I <strong>play</strong> tennis. / <strong>Do you</strong> play tennis?",
            description: "be動詞と一般動詞を混ぜないのが最大のルールです。「～です」につられて am/are/is を入れないように！"
        },
        examples: [
            {
                engDisplay: 'I <span class="text-blue-600 font-bold">like</span> music.',
                engRead: "I like music.",
                jp: "私は音楽が好きです。（肯定）",
                icon: "music",
                color: "blue"
            },
            {
                engDisplay: 'I <span class="text-rose-600 font-bold">don\'t eat</span> natto.',
                engRead: "I don't eat natto.",
                jp: "私は納豆を食べません。（否定）",
                icon: "frown",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-orange-600 font-bold">Do you</span> know him?',
                engRead: "Do you know him?",
                jp: "あなたは彼を知っていますか？（疑問）",
                icon: "help-circle",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I (　　　) baseball.",
                options: ["play", "am play", "plays", "playing"],
                correctIndex: 0,
                explanation: "be動詞(am)は不要です。主語＋動詞で並べます。"
            },
            {
                id: "qA2",
                subQuestion: "(　　　) you speak Japanese?",
                options: ["Do", "Are", "Is", "Am"],
                correctIndex: 0,
                explanation: "speak（一般動詞）の疑問文なので Do で始めます。"
            },
            {
                id: "qA3",
                subQuestion: "I (　　　) like snakes.",
                options: ["don't", "not", "am not", "no"],
                correctIndex: 0,
                explanation: "一般動詞(like)の否定は don't を使います。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私は英語を勉強します。",
                sentenceParts: ["I", "{slot}", "English."],
                words: ["study", "am", "studying", "studies"],
                correctOrder: ["study"],
                explanation: "「勉強する」は study です。"
            },
            {
                id: "qB2",
                subQuestion: "私は車を持っていません。",
                sentenceParts: ["I", "{slot}", "{slot}", "a car."],
                words: ["don't", "have", "not", "am not"],
                correctOrder: ["don't", "have"],
                explanation: "「持っていない」は don't have です。"
            },
            {
                id: "qB3",
                subQuestion: "あなたはペンが欲しいですか？",
                sentenceParts: ["{slot}", "you", "{slot}", "a pen?"],
                words: ["Do", "want", "Are", "is"],
                correctOrder: ["Do", "want"],
                explanation: "「欲しい」は want。疑問文は Do you want...? となります。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "私はテレビを見ません。",
                words: ["I", "don't", "watch", "TV"],
                explanation: "否定の don't は動詞(watch)の前に置きます。"
            },
            {
                id: "qC2",
                subQuestion: "あなたはピアノを弾きますか？",
                words: ["Do", "you", "play", "the", "piano", "?"],
                explanation: "Do you + 動詞...? の語順です。"
            }
        ],
        summary: [
            "be動詞は使わない！",
            "否定は don't、疑問は Do を使う",
            "動詞は必ず原形（元の形）"
        ]
    },
    "question-what": {
        id: "question-what",
        grade: 1,
        menuTitle: "疑問詞 what の文",
        intro: {
            title: "What (何)",
            subtitle: "意味：何ですか / 何をしますか",
            goals: [
                "What is ...?（これは何ですか）の形を覚える",
                "What do you ...?（あなたは何を～しますか）の形を覚える",
                "Yes/No で答えられない質問に慣れる"
            ]
        },
        grammar: {
            formula: [
                { text: "What", type: "red" },
                { text: "+", type: "text" },
                { text: "疑問文の語順", type: "blue" },
                { text: "?", type: "text" }
            ],
            text: "「何？」と聞きたい時は、一番最初に What を置きます。その後は be動詞や Do が続きます。",
            items: [
                { title: "What is ...?", desc: "「～は何ですか？」名前や正体を聞くとき", icon: "box", color: "blue" },
                { title: "What do you ...?", desc: "「何を～しますか？」好きなものや動作の内容を聞くとき", icon: "activity", color: "rose" },
                { title: "答え方", desc: "It is... や I like... のように具体的に答える（Yes/Noはダメ）", icon: "message-circle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "What this is? / What you like?",
            goodExample: "What <strong>is this</strong>? / What <strong>do you</strong> like?",
            description: "What の後ろは必ず疑問文の語順（is this / do you）になります。"
        },
        examples: [
            {
                engDisplay: '<span class="text-red-600 font-bold">What is</span> this?',
                engRead: "What is this?",
                jp: "これは何ですか？",
                icon: "help-circle",
                color: "blue"
            },
            {
                engDisplay: '<span class="text-red-600 font-bold">What do</span> you like?',
                engRead: "What do you like?",
                jp: "あなたは何が好きですか？",
                icon: "heart",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-orange-600 font-bold">What time</span> is it?',
                engRead: "What time is it?",
                jp: "何時ですか？（What + 名詞 のパターン）",
                icon: "clock",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "(　　　) is that?",
                options: ["What", "Who", "Where", "When"],
                correctIndex: 0,
                explanation: "物の名前を聞くときは What を使います。"
            },
            {
                id: "qA2",
                subQuestion: "What (　　　) you want?",
                options: ["do", "are", "is", "does"],
                correctIndex: 0,
                explanation: "want（一般動詞）の疑問文なので do you want となります。"
            },
            {
                id: "qA3",
                subQuestion: "What is this? --- (　　　) a pen.",
                options: ["It is", "This is", "Yes, it is", "I am"],
                correctIndex: 0,
                explanation: "Thisで聞かれたら It で答えます。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "あれは何ですか？",
                sentenceParts: ["{slot}", "{slot}", "that?"],
                words: ["What", "is", "do", "are"],
                correctOrder: ["What", "is"],
                explanation: "「～は何ですか」は What is ...? です。"
            },
            {
                id: "qB2",
                subQuestion: "あなたは何を勉強しますか？",
                sentenceParts: ["{slot}", "{slot}", "you study?"],
                words: ["What", "do", "is", "are"],
                correctOrder: ["What", "do"],
                explanation: "動作の内容を聞くときは What do you ...? です。"
            },
            {
                id: "qB3",
                subQuestion: "これは何ですか？ --- カメラです。",
                sentenceParts: ["What is this? --- {slot}", "{slot}", "a camera."],
                words: ["It", "is", "It's", "not"],
                correctOrder: ["It", "is"],
                explanation: "具体的に「それは～です」と答えます。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "あなたの名前は何ですか？",
                words: ["What", "is", "your", "name", "?"],
                explanation: "What is ...? の基本形です。"
            },
            {
                id: "qC2",
                subQuestion: "あなたは何を持っていますか？",
                words: ["What", "do", "you", "have", "?"],
                explanation: "What do you + 一般動詞? の語順です。"
            }
        ],
        summary: [
            "What is ...? ＝ ～は何ですか？",
            "What do you ...? ＝ 何を～しますか？",
            "文の先頭に What を置き、後ろは疑問文の語順"
        ]
    },
    "question-who": {
        id: "question-who",
        grade: 1,
        menuTitle: "疑問詞 who の文",
        intro: {
            title: "Who (だれ)",
            subtitle: "意味：だれですか",
            goals: [
                "Who is ...?（あの人は誰ですか）の形を覚える",
                "Who are you?（あなたは誰ですか）を使えるようにする",
                "人について尋ねる表現に慣れる"
            ]
        },
        grammar: {
            formula: [
                { text: "Who", type: "red" },
                { text: "+", type: "text" },
                { text: "be動詞", type: "blue" },
                { text: "+", type: "text" },
                { text: "主語", type: "box" },
                { text: "?", type: "text" }
            ],
            text: "「誰？」と人について聞くときは、一番最初に Who を置きます。",
            items: [
                { title: "Who is he/she?", desc: "「彼/彼女は誰ですか？」第三者について聞く", icon: "user", color: "blue" },
                { title: "Who are you?", desc: "「あなたは誰ですか？」相手に名前などを聞く", icon: "users", color: "rose" },
                { title: "Who is that...?", desc: "「あの少年は誰？」のように that boy なども使える", icon: "help-circle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "Who he is? / Who that boy?",
            goodExample: "Who <strong>is he</strong>? / Who <strong>is that boy</strong>?",
            description: "Who の後ろも疑問文の語順（is he / are you）になります。be動詞を忘れずに！"
        },
        examples: [
            {
                engDisplay: '<span class="text-red-600 font-bold">Who is</span> that girl?',
                engRead: "Who is that girl?",
                jp: "あの女の子は誰ですか？",
                icon: "user",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-blue-600 font-bold">Who is</span> he?',
                engRead: "Who is he?",
                jp: "彼は誰ですか？",
                icon: "help-circle",
                color: "blue"
            },
            {
                engDisplay: 'He is my <span class="text-orange-600 font-bold">brother</span>.',
                engRead: "He is my brother.",
                jp: "彼は私の兄です（答え方）。",
                icon: "smile",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "(　　　) is that boy?",
                options: ["Who", "What", "Where", "When"],
                correctIndex: 0,
                explanation: "人（あの少年）について聞いているので Who を使います。"
            },
            {
                id: "qA2",
                subQuestion: "Who (　　　) you?",
                options: ["are", "is", "am", "do"],
                correctIndex: 0,
                explanation: "主語が you なので are を使います。"
            },
            {
                id: "qA3",
                subQuestion: "Who is she? --- (　　　) is my teacher.",
                options: ["She", "He", "It", "That"],
                correctIndex: 0,
                explanation: "She（彼女）について聞かれたら She で答えます。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "あの男の人は誰ですか？",
                sentenceParts: ["{slot}", "{slot}", "that man?"],
                words: ["Who", "is", "What", "are"],
                correctOrder: ["Who", "is"],
                explanation: "「誰ですか」は Who is ...? です。"
            },
            {
                id: "qB2",
                subQuestion: "彼は誰ですか？ --- 彼はケンです。",
                sentenceParts: ["Who is he? --- {slot}", "{slot}", "Ken."],
                words: ["He", "is", "She", "It"],
                correctOrder: ["He", "is"],
                explanation: "He is ... で名前や関係を答えます。"
            },
            {
                id: "qB3",
                subQuestion: "こちらは誰ですか？",
                sentenceParts: ["{slot}", "{slot}", "this?"],
                words: ["Who", "is", "What", "are"],
                correctOrder: ["Who", "is"],
                explanation: "近くの人を紹介してもらう時も Who is this? と聞けます。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "あの女性は誰ですか？",
                words: ["Who", "is", "that", "woman", "?"],
                explanation: "Who + is + 主語? の語順です。"
            },
            {
                id: "qC2",
                subQuestion: "あなたは誰ですか？",
                words: ["Who", "are", "you", "?"],
                explanation: "相手の身元を尋ねる表現です。"
            }
        ],
        summary: [
            "Who is ...? ＝ ～は誰ですか？",
            "Who are ...? ＝ あなた（たち）は誰ですか？",
            "答えは He is... / She is... などで、名前や関係を言う"
        ]
    },
    "question-when": {
        id: "question-when",
        grade: 1,
        menuTitle: "疑問詞 when の文",
        intro: {
            title: "When (いつ)",
            subtitle: "意味：いつですか / いつ～しますか",
            goals: [
                "When is ...?（誕生日はいつ？など）の形を覚える",
                "When do you ...?（いつ～しますか）の形を覚える",
                "時を表す答え方（at 7, on Sundayなど）に慣れる"
            ]
        },
        grammar: {
            formula: [
                { text: "When", type: "red" },
                { text: "+", type: "text" },
                { text: "疑問文の語順", type: "blue" },
                { text: "?", type: "text" }
            ],
            text: "「いつ？」と時間を聞くときは、一番最初に When を置きます。",
            items: [
                { title: "When is ...?", desc: "「～はいつですか？」誕生日や行事の日付を聞く", icon: "calendar", color: "blue" },
                { title: "When do you ...?", desc: "「いつ～しますか？」動作の時間を聞く", icon: "clock", color: "rose" },
                { title: "答え方", desc: "It is... や I study... のように、具体的な時を答える", icon: "message-circle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "When your birthday? / When you study?",
            goodExample: "When <strong>is your birthday</strong>? / When <strong>do you study</strong>?",
            description: "What や Who と同じく、When の後ろも疑問文の語順（is ... / do you ...）になります。"
        },
        examples: [
            {
                engDisplay: '<span class="text-red-600 font-bold">When is</span> your birthday?',
                engRead: "When is your birthday?",
                jp: "あなたの誕生日はいつですか？",
                icon: "gift",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-blue-600 font-bold">When do</span> you study?',
                engRead: "When do you study?",
                jp: "あなたはいつ勉強しますか？",
                icon: "book-open",
                color: "blue"
            },
            {
                engDisplay: 'I study <span class="text-orange-600 font-bold">at night</span>.',
                engRead: "I study at night.",
                jp: "私は夜に勉強します（答え方）。",
                icon: "moon",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "(　　　) is the party?",
                options: ["When", "Who", "Where", "What"],
                correctIndex: 0,
                explanation: "パーティーの「時間」を聞いているので When を使います。"
            },
            {
                id: "qA2",
                subQuestion: "When (　　　) you play soccer?",
                options: ["do", "are", "is", "does"],
                correctIndex: 0,
                explanation: "play（一般動詞）の疑問文なので do you play となります。"
            },
            {
                id: "qA3",
                subQuestion: "When is the festival? --- (　　　) is in August.",
                options: ["It", "That", "He", "This"],
                correctIndex: 0,
                explanation: "イベントの日時を答えるときは It is ... を使います。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "夏休みはいつですか？",
                sentenceParts: ["{slot}", "{slot}", "summer vacation?"],
                words: ["When", "is", "What", "are"],
                correctOrder: ["When", "is"],
                explanation: "「～はいつですか」は When is ...? です。"
            },
            {
                id: "qB2",
                subQuestion: "あなたはいつテレビを見ますか？",
                sentenceParts: ["{slot}", "{slot}", "you watch TV?"],
                words: ["When", "do", "Where", "are"],
                correctOrder: ["When", "do"],
                explanation: "動作の時間を聞くときは When do you ...? です。"
            },
            {
                id: "qB3",
                subQuestion: "日曜日にテニスをします。",
                sentenceParts: ["I play tennis", "{slot}", "{slot}", "."],
                words: ["on", "Sunday", "in", "at"],
                correctOrder: ["on", "Sunday"],
                explanation: "曜日には on を使います（on Sunday, on Monday）。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "クリスマスはいつですか？",
                words: ["When", "is", "Christmas", "?"],
                explanation: "When is + 行事? の語順です。"
            },
            {
                id: "qC2",
                subQuestion: "あなたはいつ昼食を食べますか？",
                words: ["When", "do", "you", "eat", "lunch", "?"],
                explanation: "When do you + 一般動詞? の語順です。"
            }
        ],
        summary: [
            "When is ...? ＝ ～はいつですか？",
            "When do you ...? ＝ いつ～しますか？",
            "答えには at, on, in などの前置詞がよく使われる"
        ]
    },
    "question-where": {
        id: "question-where",
        grade: 1,
        menuTitle: "疑問詞 where の文",
        intro: {
            title: "Where (どこ)",
            subtitle: "意味：どこですか / どこで～しますか",
            goals: [
                "Where is ...?（～はどこにありますか）の形を覚える",
                "Where do you ...?（どこで～しますか）の形を覚える",
                "場所を表す答え方（in, on, under, atなど）に慣れる"
            ]
        },
        grammar: {
            formula: [
                { text: "Where", type: "red" },
                { text: "+", type: "text" },
                { text: "疑問文の語順", type: "blue" },
                { text: "+", type: "text" },
                { text: "?", type: "text" }
            ],
            text: "「どこ？」と場所を聞くときは、一番最初に Where を置きます。",
            items: [
                { title: "Where is ...?", desc: "「～はどこですか？」人や物の居場所を聞く", icon: "map-pin", color: "blue" },
                { title: "Where do you ...?", desc: "「どこで～しますか？」動作を行う場所を聞く", icon: "activity", color: "rose" },
                { title: "答え方", desc: "in the box, at school, under the table などを文末につける", icon: "box", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "Where my bag? / Where you live?",
            goodExample: "Where <strong>is my bag</strong>? / Where <strong>do you live</strong>?",
            description: "Where の後ろも疑問文の語順（is ... / do you ...）になります。"
        },
        examples: [
            {
                engDisplay: '<span class="text-red-600 font-bold">Where is</span> my bag?',
                engRead: "Where is my bag?",
                jp: "私のかばんはどこですか？",
                icon: "briefcase",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-blue-600 font-bold">Where do</span> you live?',
                engRead: "Where do you live?",
                jp: "あなたはどこに住んでいますか？",
                icon: "home",
                color: "blue"
            },
            {
                engDisplay: 'It is <span class="text-orange-600 font-bold">under the desk</span>.',
                engRead: "It is under the desk.",
                jp: "それは机の下にあります（答え方）。",
                icon: "arrow-down",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "(　　　) is the station?",
                options: ["Where", "When", "Who", "What"],
                correctIndex: 0,
                explanation: "駅の「場所」を聞いているので Where を使います。"
            },
            {
                id: "qA2",
                subQuestion: "Where (　　　) you play tennis?",
                options: ["do", "are", "is", "does"],
                correctIndex: 0,
                explanation: "play（一般動詞）の疑問文なので do you play となります。"
            },
            {
                id: "qA3",
                subQuestion: "Where is Ken? --- (　　　) is in the park.",
                options: ["He", "She", "It", "That"],
                correctIndex: 0,
                explanation: "Ken（男性）の居場所を聞かれたら He is ... で答えます。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "トイレはどこですか？",
                sentenceParts: ["{slot}", "{slot}", "the restroom?"],
                words: ["Where", "is", "What", "are"],
                correctOrder: ["Where", "is"],
                explanation: "場所を尋ねる基本表現 Where is ...? です。"
            },
            {
                id: "qB2",
                subQuestion: "あなたはどこで野球をしますか？",
                sentenceParts: ["{slot}", "{slot}", "you play baseball?"],
                words: ["Where", "do", "When", "are"],
                correctOrder: ["Where", "do"],
                explanation: "動作の場所を聞くときは Where do you ...? です。"
            },
            {
                id: "qB3",
                subQuestion: "あなたの本は机の上にあります。",
                sentenceParts: ["Your book is", "{slot}", "{slot}", "desk."],
                words: ["on", "the", "in", "at"],
                correctOrder: ["on", "the"],
                explanation: "「～の上に」は on を使います。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "私のペンはどこですか？",
                words: ["Where", "is", "my", "pen", "?"],
                explanation: "Where is + 探しているもの? の語順です。"
            },
            {
                id: "qC2",
                subQuestion: "あなたはどこに行きますか？",
                words: ["Where", "do", "you", "go", "?"],
                explanation: "Where do you + 一般動詞? の語順です。"
            }
        ],
        summary: [
            "Where is ...? ＝ ～はどこですか？",
            "Where do you ...? ＝ どこで～しますか？",
            "答えには in, on, at, under, by などの前置詞を使う"
        ]
    },
    "plural-nouns": {
        id: "plural-nouns",
        grade: 1,
        menuTitle: "名詞の複数形 (s/es)",
        intro: {
            title: "2つ以上のものを表す形",
            subtitle: "意味：～たち / 複数の～",
            goals: [
                "語尾に s をつける基本ルールを覚える",
                "es をつける場合（s, sh, ch, x, o）を覚える",
                "y を i に変えて es をつける場合を覚える"
            ]
        },
        grammar: {
            formula: [
                { text: "名詞", type: "box" },
                { text: "+", type: "text" },
                { text: "s / es", type: "red" }
            ],
            text: "英語では、物が2つ以上あるとき、名詞の形を変えて「複数」であることをはっきりさせます。",
            items: [
                { title: "基本 (+s)", desc: "多くの単語はそのまま s をつける (cat→cats, book→books)", icon: "copy", color: "blue" },
                { title: "es をつける", desc: "語尾が s, sh, ch, x, o の時 (bus→buses, box→boxes)", icon: "plus-square", color: "rose" },
                { title: "y を i に (+es)", desc: "子音字+y の時は y を i に変える (city→cities)", icon: "refresh-cw", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "two book / many boxs / three citys",
            goodExample: "two <strong>books</strong> / many <strong>boxes</strong> / three <strong>cities</strong>",
            description: "数を表す言葉（two, many, someなど）が来たら、後ろの名詞を必ず複数形にします。"
        },
        examples: [
            {
                engDisplay: 'I have two <span class="text-blue-600 font-bold">cats</span>.',
                engRead: "I have two cats.",
                jp: "私は猫を2匹飼っています。",
                icon: "smile",
                color: "blue"
            },
            {
                engDisplay: 'He has three <span class="text-rose-600 font-bold">boxes</span>.',
                engRead: "He has three boxes.",
                jp: "彼は箱を3つ持っています。",
                icon: "box",
                color: "rose"
            },
            {
                engDisplay: 'There are many <span class="text-orange-600 font-bold">countries</span>.',
                engRead: "There are many countries.",
                jp: "たくさんの国があります。",
                icon: "globe",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I have two (　　　).",
                options: ["pen", "pens", "penes", "penns"],
                correctIndex: 1,
                explanation: "pen は基本ルール通り s をつけて pens にします。"
            },
            {
                id: "qA2",
                subQuestion: "She likes (　　　).",
                options: ["peach", "peachs", "peaches", "peachies"],
                correctIndex: 2,
                explanation: "peach（桃）は ch で終わるので es をつけて peaches にします。"
            },
            {
                id: "qA3",
                subQuestion: "They are (　　　).",
                options: ["babys", "babies", "babyes", "baby"],
                correctIndex: 1,
                explanation: "baby（赤ちゃん）は「子音字+y」なので、yをiに変えてesをつけます。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私は犬を3匹飼っています。",
                sentenceParts: ["I have three", "{slot}", "."],
                words: ["dogs", "dog", "doges", "dogs'"],
                correctOrder: ["dogs"],
                explanation: "dog に s をつける基本パターンです。"
            },
            {
                id: "qB2",
                subQuestion: "私たちは毎日バスを使います。",
                sentenceParts: ["We use", "{slot}", "every day."],
                words: ["buses", "bus", "buss", "busses"],
                correctOrder: ["buses"],
                explanation: "bus は s で終わるので es をつけます。"
            },
            {
                id: "qB3",
                subQuestion: "京都には古いお寺がたくさんあります。",
                sentenceParts: ["Kyoto has many old", "{slot}", "."],
                words: ["temples", "temple", "templess", "temple's"],
                correctOrder: ["temples"],
                explanation: "temple（寺）は e で終わっていますが、そのまま s をつけます。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "私はいくつかオレンジを持っています。",
                words: ["I", "have", "some", "oranges"],
                explanation: "some（いくつか）の後ろは複数形にします。"
            },
            {
                id: "qC2",
                subQuestion: "彼は2つの時計を持っています。",
                words: ["He", "has", "two", "watches"],
                explanation: "watch（時計）は ch で終わるので es をつけます。"
            }
        ],
        summary: [
            "2つ以上あるときは複数形にする",
            "基本は s をつけるだけ",
            "s, sh, ch, x, o で終わる語は es をつける",
            "子音字+y は y を i に変えて es"
        ]
    },
    "imperative-sentence": {
        id: "imperative-sentence",
        grade: 1,
        menuTitle: "命令文の作り方",
        intro: {
            title: "相手に動作を促す文",
            subtitle: "意味：～しなさい / ～してはいけない",
            goals: [
                "動詞の原形で文を始めるルールを覚える",
                "Be ... （～でありなさい）の形を知る",
                "Don't ... （～してはいけない）の禁止をマスターする"
            ]
        },
        grammar: {
            formula: [
                { text: "(Don't)", type: "red" },
                { text: "+", type: "text" },
                { text: "動詞の原形", type: "blue" },
                { text: "+", type: "text" },
                { text: "～", type: "text" },
                { text: "!", type: "text" }
            ],
            text: "主語（You）を省略し、いきなり動詞から始めることで「命令・依頼・禁止」を表します。",
            items: [
                { title: "肯定命令", desc: "動詞の原形で始める。「～しなさい」", icon: "check-circle", color: "blue" },
                { title: "否定命令", desc: "Don't + 原形で始める。「～してはいけない」", icon: "x-circle", color: "rose" },
                { title: "丁寧にする", desc: "Please をつけると「～してください」になる", icon: "smile", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "You open the door. / Opens the door.",
            goodExample: "<strong>Open</strong> the door. / <strong>Be</strong> careful.",
            description: "主語(You)は書きません。be動詞の文（You are careful.）を命令文にする時は、Are ではなく原形の Be を使います。"
        },
        examples: [
            {
                engDisplay: '<span class="text-blue-600 font-bold">Open</span> your book.',
                engRead: "Open your book.",
                jp: "本を開きなさい。",
                icon: "book-open",
                color: "blue"
            },
            {
                engDisplay: '<span class="text-rose-600 font-bold">Don\'t swim</span> here.',
                engRead: "Don't swim here.",
                jp: "ここで泳いではいけません。",
                icon: "slash",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-orange-600 font-bold">Be</span> ambitious.',
                engRead: "Be ambitious.",
                jp: "大志を抱け（野心的であれ）。",
                icon: "star",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "(　　　) this room.",
                options: ["Clean", "Cleans", "Cleaning", "You clean"],
                correctIndex: 0,
                explanation: "命令文は動詞の原形で始めます。"
            },
            {
                id: "qA2",
                subQuestion: "(　　　) run in the classroom.",
                options: ["Don't", "Not", "No", "Aren't"],
                correctIndex: 0,
                explanation: "「～するな」という禁止は Don't で始めます。"
            },
            {
                id: "qA3",
                subQuestion: "(　　　) quiet, please.",
                options: ["Be", "Are", "Is", "Do"],
                correctIndex: 0,
                explanation: "「静かにしなさい」は Be quiet. です。be動詞の原形を使います。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "座ってください。",
                sentenceParts: ["{slot}", "down, please."],
                words: ["Sit", "Sits", "Sitting", "Seat"],
                correctOrder: ["Sit"],
                explanation: "Please があっても動詞は原形です。"
            },
            {
                id: "qB2",
                subQuestion: "このケーキを食べてはいけません。",
                sentenceParts: ["{slot}", "{slot}", "this cake."],
                words: ["Don't", "eat", "Not", "eating"],
                correctOrder: ["Don't", "eat"],
                explanation: "Don't + 動詞の原形 で禁止を表します。"
            },
            {
                id: "qB3",
                subQuestion: "いい子にしてなさい。",
                sentenceParts: ["{slot}", "a good boy."],
                words: ["Be", "Are", "Is", "Do"],
                correctOrder: ["Be"],
                explanation: "「（いい子で）あれ」という意味で Be を使います。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "窓を開けてください。",
                words: ["Please", "open", "the", "window"],
                explanation: "Please + 動詞の原形 の語順です。"
            },
            {
                id: "qC2",
                subQuestion: "遅れてはいけません。",
                words: ["Don't", "be", "late"],
                explanation: "late（遅刻して）は形容詞なので、be動詞の原形 Be を使います。"
            }
        ],
        summary: [
            "主語を省いて、動詞の原形で始める",
            "否定（禁止）は Don't で始める",
            "形容詞（quiet, kindなど）の前には Be を置く"
        ]
    },
    "pronoun-chart": {
        id: "pronoun-chart",
        grade: 1,
        menuTitle: "代名詞の変化表 (I my me mine)",
        intro: {
            title: "代名詞の格変化",
            subtitle: "意味：私は / 私の / 私を / 私のもの",
            goals: [
                "「～は・～の・～を・～のもの」の4つの変化を覚える",
                "主格・所有格・目的格・所有代名詞の違いを理解する",
                "I my me mine のリズムで暗記する"
            ]
        },
        grammar: {
            formula: [
                { text: "主格(は)", type: "blue" },
                { text: "→", type: "text" },
                { text: "所有格(の)", type: "rose" },
                { text: "→", type: "text" },
                { text: "目的格(を/に)", type: "orange" },
                { text: "→", type: "text" },
                { text: "所有代名詞(のもの)", type: "blue" }
            ],
            text: "代名詞は文の中での役割によって形を変えます。表を丸暗記するのが近道です。",
            items: [
                { title: "1人称", desc: "I - my - me - mine / We - our - us - ours", icon: "user", color: "blue" },
                { title: "2人称", desc: "You - your - you - yours（単数・複数同じ）", icon: "users", color: "rose" },
                { title: "3人称", desc: "He - his - him - his / She - her - her - hers / They - their - them - theirs", icon: "user-check", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "This is me pen. / I like he.",
            goodExample: "This is <strong>my</strong> pen. / I like <strong>him</strong>.",
            description: "「～の」と言いたい時は2番目(my)、「～を」と言いたい時は3番目(him)を使います。"
        },
        examples: [
            {
                engDisplay: 'This is <span class="text-rose-600 font-bold">my</span> pen.',
                engRead: "This is my pen.",
                jp: "これは「私の」ペンです。（所有格）",
                icon: "edit-3",
                color: "rose"
            },
            {
                engDisplay: 'I know <span class="text-orange-600 font-bold">him</span>.',
                engRead: "I know him.",
                jp: "私は「彼を」知っています。（目的格）",
                icon: "user",
                color: "orange"
            },
            {
                engDisplay: 'That bag is <span class="text-blue-600 font-bold">hers</span>.',
                engRead: "That bag is hers.",
                jp: "あのかばんは「彼女のもの」です。（所有代名詞）",
                icon: "shopping-bag",
                color: "blue"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "This is (　　　) house.",
                options: ["my", "I", "me", "mine"],
                correctIndex: 0,
                explanation: "「私の」家なので、2番目の my を使います。"
            },
            {
                id: "qA2",
                subQuestion: "She teaches (　　　) English.",
                options: ["us", "we", "our", "ours"],
                correctIndex: 0,
                explanation: "「私たちに」教えるので、3番目の us（目的格）を使います。"
            },
            {
                id: "qA3",
                subQuestion: "Is this pen (　　　)?",
                options: ["yours", "you", "your", "you're"],
                correctIndex: 0,
                explanation: "「あなたのもの」ですか？なので、4番目の yours を使います。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私は彼が好きです。",
                sentenceParts: ["I like", "{slot}", "."],
                words: ["him", "he", "his", "himself"],
                correctOrder: ["him"],
                explanation: "動詞の後ろ（～を）は3番目の目的格(him)を使います。"
            },
            {
                id: "qB2",
                subQuestion: "あれは彼女の車です。",
                sentenceParts: ["That is", "{slot}", "car."],
                words: ["her", "she", "hers", "she's"],
                correctOrder: ["her"],
                explanation: "「彼女の」は2番目の her です。"
            },
            {
                id: "qB3",
                subQuestion: "これらの本は彼らのものです。",
                sentenceParts: ["These books are", "{slot}", "."],
                words: ["theirs", "their", "them", "they"],
                correctOrder: ["theirs"],
                explanation: "「彼らのもの」は4番目の theirs です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "彼の名前はケンです。",
                words: ["His", "name", "is", "Ken"],
                explanation: "His（彼の）を文頭に使います。"
            },
            {
                id: "qC2",
                subQuestion: "私の父は私たちが大好きです。",
                words: ["My", "father", "loves", "us"],
                explanation: "「私たちを」は us を使います。"
            }
        ],
        summary: [
            "主格（～は）→ 所有格（～の）→ 目的格（～を）→ 所有代名詞（～のもの）",
            "動詞の後ろは「目的格」を使う",
            "名詞の前は「所有格」を使う"
        ]
    },
    "present-continuous": {
        id: "present-continuous",
        grade: 1,
        menuTitle: "現在進行形 (be + ing)",
        intro: {
            title: "今まさにしていること",
            subtitle: "意味：(今)～しているところです",
            goals: [
                "be動詞 + 動詞のing形 の形を覚える",
                "ingの付け方のルール（running, makingなど）を知る",
                "「今～している」というライブ感を表現する"
            ]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "be動詞", type: "red" },
                { text: "+", type: "text" },
                { text: "動詞のing形", type: "blue" }
            ],
            text: "「普段～する」ではなく、「今この瞬間～している最中だ」という時に使います。",
            items: [
                { title: "ing", desc: "play→playing / make→making (eを取る) / run→running (重ねる)", icon: "refresh-cw", color: "blue" },
                { title: "be動詞", desc: "主語に合わせて am / is / are を忘れないこと！", icon: "alert-circle", color: "rose" },
                { title: "now", desc: "文末に now（今）をつけることが多い", icon: "clock", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I playing soccer. / I am play soccer.",
            goodExample: "I <strong>am playing</strong> soccer.",
            description: "be動詞と ing形はセットです。どちらか片方だけでは進行形になりません。"
        },
        examples: [
            {
                engDisplay: 'I <span class="text-red-600 font-bold">am studying</span> English now.',
                engRead: "I am studying English now.",
                jp: "私は今、英語を勉強しているところです。",
                icon: "book-open",
                color: "blue"
            },
            {
                engDisplay: 'He <span class="text-rose-600 font-bold">is running</span> in the park.',
                engRead: "He is running in the park.",
                jp: "彼は公園を走っています。",
                icon: "activity",
                color: "rose"
            },
            {
                engDisplay: 'They <span class="text-orange-600 font-bold">are eating</span> lunch.',
                engRead: "They are eating lunch.",
                jp: "彼らは昼食を食べています。",
                icon: "utensils",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "She (　　　) cooking now.",
                options: ["is", "am", "are", "does"],
                correctIndex: 0,
                explanation: "ing形の前には必ず be動詞が必要です。She なので is。"
            },
            {
                id: "qA2",
                subQuestion: "I am (　　　) a letter.",
                options: ["writing", "writeing", "write", "writes"],
                correctIndex: 0,
                explanation: "write のように e で終わる語は、e を取って ing をつけます。"
            },
            {
                id: "qA3",
                subQuestion: "They (　　　) swimming.",
                options: ["are", "is", "am", "do"],
                correctIndex: 0,
                explanation: "swim は m を重ねて swimming。主語が They なので are を使います。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私はテレビを見ています。",
                sentenceParts: ["I", "{slot}", "{slot}", "TV."],
                words: ["am", "watching", "watch", "is"],
                correctOrder: ["am", "watching"],
                explanation: "I am watching... で「見ているところ」を表します。"
            },
            {
                id: "qB2",
                subQuestion: "ケンは本を読んでいます。",
                sentenceParts: ["Ken", "{slot}", "{slot}", "a book."],
                words: ["is", "reading", "read", "are"],
                correctOrder: ["is", "reading"],
                explanation: "Ken(He) なので is reading となります。"
            },
            {
                id: "qB3",
                subQuestion: "あなたは何をしていますか？",
                sentenceParts: ["What", "{slot}", "you", "{slot}", "?"],
                words: ["are", "doing", "do", "is"],
                correctOrder: ["are", "doing"],
                explanation: "What are you doing? は決まり文句です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "彼は今、寝ています。",
                words: ["He", "is", "sleeping", "now"],
                explanation: "be動詞(is) + ing形(sleeping) の語順です。"
            },
            {
                id: "qC2",
                subQuestion: "私たちはテニスをしています。",
                words: ["We", "are", "playing", "tennis"],
                explanation: "We なので are playing となります。"
            }
        ],
        summary: [
            "形は「be動詞 ＋ 動詞のing形」",
            "意味は「今～しているところ」",
            "eを取る(making)、重ねる(running)などのスペルに注意"
        ]
    },
    "ing-form-rules": {
        id: "ing-form-rules",
        grade: 1,
        menuTitle: "動詞のing形の作り方",
        intro: {
            title: "ing形のスペルルール",
            subtitle: "意味：～している（進行形の材料）",
            goals: [
                "そのまま ing をつける基本パターンを覚える",
                "e で終わる語のルール（eを取る）を覚える",
                "最後の文字を重ねるルール（run→runningなど）を覚える"
            ]
        },
        grammar: {
            formula: [
                { text: "動詞", type: "box" },
                { text: "→", type: "text" },
                { text: "ルールに従って ing", type: "red" }
            ],
            text: "多くの動詞はそのまま ing をつけますが、スペルが変わる特別な動詞があります。",
            items: [
                { title: "e を取る", desc: "語尾が e の時は、e を取って ing (make → making)", icon: "scissors", color: "rose" },
                { title: "重ねる", desc: "「短母音＋子音字」の時は、最後を重ねて ing (run → running)", icon: "copy", color: "blue" },
                { title: "注意", desc: "see → seeing（eeはそのまま）、die → dying（ieはyに）などの例外もある", icon: "alert-triangle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "makeing / writeing / runing / swiming",
            goodExample: "<strong>making</strong> / <strong>writing</strong> / <strong>running</strong> / <strong>swimming</strong>",
            description: "make や write の e は発音しないので取ります。run や swim は「跳ねるリズム」の語なので文字を重ねます。"
        },
        examples: [
            {
                engDisplay: 'play → <span class="text-blue-600 font-bold">playing</span>',
                engRead: "play - playing",
                jp: "遊ぶ（そのままつける）",
                icon: "check",
                color: "blue"
            },
            {
                engDisplay: 'come → <span class="text-rose-600 font-bold">coming</span>',
                engRead: "come - coming",
                jp: "来る（eを取ってing）",
                icon: "scissors",
                color: "rose"
            },
            {
                engDisplay: 'swim → <span class="text-orange-600 font-bold">swimming</span>',
                engRead: "swim - swimming",
                jp: "泳ぐ（mを重ねてing）",
                icon: "copy",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "use (使う) のing形は？",
                options: ["using", "useing", "ussing", "useeing"],
                correctIndex: 0,
                explanation: "語尾の e を取って ing をつけます (use → using)。"
            },
            {
                id: "qA2",
                subQuestion: "run (走る) のing形は？",
                options: ["running", "runing", "runeing", "runn"],
                correctIndex: 0,
                explanation: "短母音＋子音字なので、n を重ねて running にします。"
            },
            {
                id: "qA3",
                subQuestion: "study (勉強する) のing形は？",
                options: ["studying", "studing", "studiing", "studyying"],
                correctIndex: 0,
                explanation: "y で終わる語は、そのまま ing をつけます (study → studying)。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "write (書く) をing形にしなさい。",
                sentenceParts: ["I am", "{slot}", "a letter."],
                words: ["writing", "writeing", "writting"],
                correctOrder: ["writing"],
                explanation: "e を取って writing です（t は重ねません）。"
            },
            {
                id: "qB2",
                subQuestion: "cut (切る) をing形にしなさい。",
                sentenceParts: ["She is", "{slot}", "paper."],
                words: ["cutting", "cuting", "cuteing"],
                correctOrder: ["cutting"],
                explanation: "短母音＋子音字なので、t を重ねて cutting です。"
            },
            {
                id: "qB3",
                subQuestion: "dance (踊る) をing形にしなさい。",
                sentenceParts: ["They are", "{slot}", "."],
                words: ["dancing", "danceing", "dancying"],
                correctOrder: ["dancing"],
                explanation: "e を取って dancing です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "sit (座る) のing形を選びなさい。",
                words: ["sitting"],
                explanation: "t を重ねて sitting です。"
            },
            {
                id: "qC2",
                subQuestion: "have (持っている/食べる) のing形を選びなさい。",
                words: ["having"],
                explanation: "e を取って having です。"
            }
        ],
        summary: [
            "基本はそのまま ing (play → playing)",
            "e で終わる語は e を取って ing (come → coming)",
            "短母音＋子音字は重ねて ing (run → running)"
        ]
    },
    "auxiliary-can": {
        id: "auxiliary-can",
        grade: 1,
        menuTitle: "助動詞 can (肯定文)",
        intro: {
            title: "～できる",
            subtitle: "意味：～することができる（能力・可能）",
            goals: [
                "can + 動詞の原形 の語順を覚える",
                "主語が何であっても can の形は変わらないことを知る",
                "能力（できる）を表す表現に慣れる"
            ]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "can", type: "red" },
                { text: "+", type: "text" },
                { text: "動詞の原形", type: "blue" }
            ],
            text: "「～できる」と言いたい時は、動詞の前に助っ人の can を置きます。動詞は必ず元の形（原形）に戻ります。",
            items: [
                { title: "助動詞", desc: "動詞を助ける言葉。can, will, must などがある", icon: "plus-circle", color: "blue" },
                { title: "ルール1", desc: "can の後ろは絶対「動詞の原形」 (plays → play)", icon: "alert-triangle", color: "rose" },
                { title: "ルール2", desc: "主語が He や She でも can に s はつけない", icon: "check-circle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "He can plays tennis. / I can swimming.",
            goodExample: "He <strong>can play</strong> tennis. / I <strong>can swim</strong>.",
            description: "can が入ると、s も ing も消えて、動詞はすっぴん（原形）になります。"
        },
        examples: [
            {
                engDisplay: 'I <span class="text-red-600 font-bold">can swim</span> fast.',
                engRead: "I can swim fast.",
                jp: "私は速く泳ぐことができます。",
                icon: "activity",
                color: "blue"
            },
            {
                engDisplay: 'He <span class="text-blue-600 font-bold">can speak</span> English.',
                engRead: "He can speak English.",
                jp: "彼は英語を話すことができます。",
                icon: "message-circle",
                color: "rose"
            },
            {
                engDisplay: 'You <span class="text-orange-600 font-bold">can use</span> this pen.',
                engRead: "You can use this pen.",
                jp: "あなたはこのペンを使ってもいいですよ（許可）。",
                icon: "edit-3",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "She (　　　) play the piano.",
                options: ["can", "cans", "is can", "can to"],
                correctIndex: 0,
                explanation: "助動詞 can に s はつきません。そのまま can を使います。"
            },
            {
                id: "qA2",
                subQuestion: "I can (　　　) sushi.",
                options: ["make", "makes", "making", "to make"],
                correctIndex: 0,
                explanation: "can の後ろは動詞の原形です。"
            },
            {
                id: "qA3",
                subQuestion: "He can (　　　) fast.",
                options: ["run", "runs", "running", "ran"],
                correctIndex: 0,
                explanation: "主語が He でも、can があれば動詞は原形(run)になります。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私はスキーができます。",
                sentenceParts: ["I", "{slot}", "{slot}", "."],
                words: ["can", "ski", "skies", "skiing"],
                correctOrder: ["can", "ski"],
                explanation: "「～できる」は can + 動詞の原形 です。"
            },
            {
                id: "qB2",
                subQuestion: "私の父は上手に料理ができます。",
                sentenceParts: ["My father", "{slot}", "{slot}", "well."],
                words: ["can", "cook", "cooks", "cooking"],
                correctOrder: ["can", "cook"],
                explanation: "My father(He)でも cooks にはしません。"
            },
            {
                id: "qB3",
                subQuestion: "鳥は空を飛べます。",
                sentenceParts: ["Birds", "{slot}", "{slot}", "in the sky."],
                words: ["can", "fly", "flies", "flying"],
                correctOrder: ["can", "fly"],
                explanation: "can の後ろは原形 fly を使います。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "彼女は漢字を書くことができます。",
                words: ["She", "can", "write", "kanji"],
                explanation: "She + can + 原形 の語順です。"
            },
            {
                id: "qC2",
                subQuestion: "私たちは英語を読めます。",
                words: ["We", "can", "read", "English"],
                explanation: "We + can + read... とつなげます。"
            }
        ],
        summary: [
            "can ＋ 動詞の原形で「～できる」",
            "主語が何でも can の形は変わらない",
            "動詞についている s や ing は外す"
        ]
    },
    "auxiliary-can-neg-q": {
        id: "auxiliary-can-neg-q",
        grade: 1,
        menuTitle: "can の否定文・疑問文",
        intro: {
            title: "できない / できますか",
            subtitle: "意味：～できない / ～できますか",
            goals: [
                "cannot (can't) の形と位置を覚える",
                "Can you ...? の疑問文を作れるようにする",
                "Yes, I can. / No, I can't. の答え方をマスターする"
            ]
        },
        grammar: {
            formula: [
                { text: "否定", type: "red" },
                { text: "can't + 原形", type: "text" },
                { text: " / ", type: "text" },
                { text: "疑問", type: "blue" },
                { text: "Can + 主語 + 原形?", type: "text" }
            ],
            text: "be動詞と似ています。否定は後ろに not、疑問は can を前に出します。",
            items: [
                { title: "否定文", desc: "can not または can't を動詞の前に置く", icon: "slash", color: "rose" },
                { title: "疑問文", desc: "Can を文の先頭に出す", icon: "help-circle", color: "blue" },
                { title: "答え方", desc: "Can で聞かれたら can で答える", icon: "message-square", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I don't can swim. / Do you can swim?",
            goodExample: "I <strong>cannot (can't)</strong> swim. / <strong>Can you</strong> swim?",
            description: "助動詞 can がある時は、do や don't は使いません。can 自身が変化したり移動したりします。"
        },
        examples: [
            {
                engDisplay: 'I <span class="text-rose-600 font-bold">cannot (can\'t)</span> sing well.',
                engRead: "I cannot sing well.",
                jp: "私は上手に歌えません。",
                icon: "mic-off",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-blue-600 font-bold">Can you</span> play the guitar?',
                engRead: "Can you play the guitar?",
                jp: "あなたはギターを弾けますか？",
                icon: "music",
                color: "blue"
            },
            {
                engDisplay: 'No, I <span class="text-orange-600 font-bold">can\'t</span>.',
                engRead: "No, I can't.",
                jp: "いいえ、できません。",
                icon: "x",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I (　　　) ride a bike.",
                options: ["can't", "don't can", "not can", "no can"],
                correctIndex: 0,
                explanation: "「できない」は can't (cannot) を使います。"
            },
            {
                id: "qA2",
                subQuestion: "(　　　) you cook?",
                options: ["Can", "Do", "Are", "Is"],
                correctIndex: 0,
                explanation: "能力を聞く「できますか」なので Can で始めます。"
            },
            {
                id: "qA3",
                subQuestion: "Can he swim? --- Yes, he (　　　).",
                options: ["can", "is", "does", "cans"],
                correctIndex: 0,
                explanation: "Can で聞かれたら can で答えます。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私はピアノが弾けません。",
                sentenceParts: ["I", "{slot}", "{slot}", "the piano."],
                words: ["can't", "play", "don't", "can"],
                correctOrder: ["can't", "play"],
                explanation: "can not の短縮形 can't を使います。"
            },
            {
                id: "qB2",
                subQuestion: "あなたは車を運転できますか？",
                sentenceParts: ["{slot}", "you", "{slot}", "a car?"],
                words: ["Can", "drive", "Do", "driving"],
                correctOrder: ["Can", "drive"],
                explanation: "Can you + 動詞の原形...? です。"
            },
            {
                id: "qB3",
                subQuestion: "彼は英語を話せません。",
                sentenceParts: ["He", "{slot}", "{slot}", "English."],
                words: ["cannot", "speak", "don't", "speaking"],
                correctOrder: ["cannot", "speak"],
                explanation: "cannot は1語でつづります（can not と分けることもあります）。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "私は速く走れません。",
                words: ["I", "can't", "run", "fast"],
                explanation: "I can't + 動詞の原形 の語順です。"
            },
            {
                id: "qC2",
                subQuestion: "あなたはこの箱を開けられますか？",
                words: ["Can", "you", "open", "this", "box", "?"],
                explanation: "Can you...? を使って相手の能力を尋ねます。"
            }
        ],
        summary: [
            "否定は can't (cannot) ＋ 原形",
            "疑問は Can ＋ 主語 ＋ 原形 ...?",
            "助動詞の文では do/don't は使わない"
        ]
    },
    "past-tense-sentence": {
        id: "past-tense-sentence",
        grade: 1,
        menuTitle: "一般動詞の過去形 (文の作り方)",
        intro: {
            title: "過去のことを話そう",
            subtitle: "意味：～しました / ～した",
            goals: [
                "「主語 ＋ 動詞の過去形」の語順を覚える",
                "yesterday（昨日）や last（この前）などのキーワードを知る",
                "主語が何でも動詞の形は同じ（sはつかない）ことを理解する"
            ]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "動詞の過去形", type: "red" },
                { text: "+", type: "text" },
                { text: "～", type: "blue" }
            ],
            text: "「～した」と過去の事実を伝える文です。動詞を過去形にするだけで、主語による変化はありません。",
            items: [
                { title: "語順", desc: "現在形と同じ。動詞だけを過去形に変える", icon: "arrow-right", color: "blue" },
                { title: "キーワード", desc: "yesterday, last night, two days ago などがよくつく", icon: "calendar", color: "rose" },
                { title: "主語", desc: "I でも He でも They でも、過去形はみんな同じ形！", icon: "users", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I play tennis yesterday. / He plays tennis yesterday.",
            goodExample: "I <strong>played</strong> tennis yesterday. / He <strong>played</strong> tennis yesterday.",
            description: "「昨日」などの言葉があったら、必ず動詞を過去形にします。s をつけてはいけません。"
        },
        examples: [
            {
                engDisplay: 'I <span class="text-red-600 font-bold">watched</span> TV yesterday.',
                engRead: "I watched TV yesterday.",
                jp: "私は昨日テレビを見ました。",
                icon: "tv",
                color: "blue"
            },
            {
                engDisplay: 'He <span class="text-rose-600 font-bold">went</span> to the park.',
                engRead: "He went to the park.",
                jp: "彼は公園へ行きました。",
                icon: "map-pin",
                color: "rose"
            },
            {
                engDisplay: 'We <span class="text-orange-600 font-bold">studied</span> English last night.',
                engRead: "We studied English last night.",
                jp: "私たちは昨夜、英語を勉強しました。",
                icon: "book",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I (　　　) soccer yesterday.",
                options: ["played", "play", "playing", "plays"],
                correctIndex: 0,
                explanation: "yesterday（昨日）があるので過去形 played を選びます。"
            },
            {
                id: "qA2",
                subQuestion: "She (　　　) lunch an hour ago.",
                options: ["ate", "eat", "eats", "eating"],
                correctIndex: 0,
                explanation: "ago（～前）は過去を表す言葉です。eat の過去形 ate を使います。"
            },
            {
                id: "qA3",
                subQuestion: "They (　　　) busy last week.",
                options: ["were", "are", "was", "is"],
                correctIndex: 0,
                explanation: "be動詞の過去形も「～でした」という意味で使われます。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私は昨日、その本を読みました。",
                sentenceParts: ["I", "{slot}", "the book yesterday."],
                words: ["read", "readed", "reading"],
                correctOrder: ["read"],
                explanation: "read の過去形はつづりは同じ read です（発音はレッド）。"
            },
            {
                id: "qB2",
                subQuestion: "ケンは先週、新しい自転車を買いました。",
                sentenceParts: ["Ken", "{slot}", "a new bike last week."],
                words: ["bought", "buy", "buys", "buying"],
                correctOrder: ["bought"],
                explanation: "buy の過去形 bought を使います。"
            },
            {
                id: "qB3",
                subQuestion: "私たちは楽しみました。",
                sentenceParts: ["We", "{slot}", "ourselves."],
                words: ["enjoyed", "enjoys", "enjoy", "enjoying"],
                correctOrder: ["enjoyed"],
                explanation: "過去のことなので ed をつけます。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "私は昨日、早く起きました。",
                words: ["I", "got", "up", "early", "yesterday"],
                explanation: "get up の過去形 got up を使います。"
            },
            {
                id: "qC2",
                subQuestion: "彼は3年前にここに住んでいました。",
                words: ["He", "lived", "here", "three", "years", "ago"],
                explanation: "ago（～前）は文の最後に置きます。"
            }
        ],
        summary: [
            "動詞を過去形にするだけで「～した」になる",
            "yesterday（昨日）, last（この前）, ago（～前）を見逃さない",
            "主語が何であっても動詞の形は変わらない"
        ]
    },
    "past-tense-verb-forms": {
        id: "past-tense-verb-forms",
        grade: 1,
        menuTitle: "過去形の動詞 (edの付け方・不規則)",
        intro: {
            title: "動詞の変化ルール",
            subtitle: "edの付け方と不規則変化",
            goals: [
                "規則動詞のedの付け方（4パターン）を覚える",
                "不規則に変化する動詞があることを知る",
                "5つのパターンを整理して頭に入れる"
            ]
        },
        grammar: {
            formula: [
                { text: "規則動詞", type: "blue" },
                { text: "→", type: "text" },
                { text: "ルール通りにed", type: "red" },
                { text: " / ", type: "text" },
                { text: "不規則動詞", type: "blue" },
                { text: "→", type: "text" },
                { text: "暗記！", type: "red" }
            ],
            text: "過去形の作り方は、大きく分けて5つのパターンがあります。",
            items: [
                { title: "+ed (基本)", desc: "一番多いパターン。そのまま ed をつける (play→played)", icon: "plus", color: "blue" },
                { title: "+d (eで終わる)", desc: "語尾が e なら d だけつける (like→liked)", icon: "scissors", color: "rose" },
                { title: "y → ied", desc: "「子音字+y」は y を i に変えて ed (study→studied)", icon: "refresh-cw", color: "orange" },
                { title: "重ねて ed", desc: "「短母音+子音字」は最後の文字を重ねて ed (stop→stopped)", icon: "copy", color: "blue" },
                { title: "不規則変化", desc: "形が全然違う！覚えるしかない (go→went, have→had)", icon: "alert-triangle", color: "rose" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "studyed / stoped / goed",
            goodExample: "<strong>studied</strong> / <strong>stopped</strong> / <strong>went</strong>",
            description: "yの前の文字が「あいうえお(母音)」ならそのままed (play→played)。不規則動詞にedをつけてはいけません。"
        },
        examples: [
            {
                engDisplay: 'study → <span class="text-blue-600 font-bold">studied</span>',
                engRead: "study - studied",
                jp: "勉強する（yをiに変えてed）",
                icon: "book",
                color: "blue"
            },
            {
                engDisplay: 'stop → <span class="text-rose-600 font-bold">stopped</span>',
                engRead: "stop - stopped",
                jp: "止まる（最後の文字を重ねてed）",
                icon: "octagon",
                color: "rose"
            },
            {
                engDisplay: 'go → <span class="text-orange-600 font-bold">went</span>',
                engRead: "go - went",
                jp: "行く（不規則変化）",
                icon: "arrow-right-circle",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "cry (泣く) の過去形は？",
                options: ["cried", "cryed", "cryied", "cryd"],
                correctIndex: 0,
                explanation: "子音字+y なので、y を i に変えて ed をつけます。"
            },
            {
                id: "qA2",
                subQuestion: "stop (止まる) の過去形は？",
                options: ["stopped", "stoped", "stopbed", "stopt"],
                correctIndex: 0,
                explanation: "短母音+子音字なので、p を重ねて stopped にします。"
            },
            {
                id: "qA3",
                subQuestion: "have (持っている) の過去形は？",
                options: ["had", "haved", "has", "haves"],
                correctIndex: 0,
                explanation: "have は不規則動詞です。had に変化します。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私は昨日、英語を勉強しました。",
                sentenceParts: ["I", "{slot}", "English yesterday."],
                words: ["studied", "studyed", "study"],
                correctOrder: ["studied"],
                explanation: "study の過去形は studied です。"
            },
            {
                id: "qB2",
                subQuestion: "彼は公園へ行きました。",
                sentenceParts: ["He", "{slot}", "to the park."],
                words: ["went", "go", "goed", "goes"],
                correctOrder: ["went"],
                explanation: "go の過去形は went です（不規則変化）。"
            },
            {
                id: "qB3",
                subQuestion: "彼女はバッグを落としました。",
                sentenceParts: ["She", "{slot}", "her bag."],
                words: ["dropped", "droped", "drop"],
                correctOrder: ["dropped"],
                explanation: "drop は p を重ねて dropped にします。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "私たちは昨夜、楽しみました。",
                words: ["We", "enjoyed", "ourselves", "last", "night"],
                explanation: "enjoy は母音+y なので、そのまま ed をつけます。"
            },
            {
                id: "qC2",
                subQuestion: "私は朝食を食べました。",
                words: ["I", "ate", "breakfast"],
                explanation: "eat の過去形は ate（不規則変化）です。"
            }
        ],
        summary: [
            "基本は ed、eで終われば d、子音+y は ied",
            "短母音+子音字は重ねて ed (stop→stopped)",
            "不規則変化 (go→wentなど) は覚えるしかない！"
        ]
    },
    "passive-voice-basic": {
        id: "passive-voice-basic",
        grade: 3,
        menuTitle: "受け身 (受動態) の文",
        intro: {
            title: "～される / ～された",
            subtitle: "意味：(主語が)～される",
            goals: [
                "be動詞 ＋ 過去分詞 の形を覚える",
                "「～される」という受け身の意味を理解する",
                "by ～（～によって）の使い方をマスターする"
            ]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "be動詞", type: "red" },
                { text: "+", type: "text" },
                { text: "過去分詞", type: "blue" },
                { text: "+ (by ～)", type: "text" }
            ],
            text: "主語が動作を「する」のではなく、「される」側になるときの表現です。",
            items: [
                { title: "be動詞", desc: "主語や時制(現在・過去)に合わせて変化させる (is/are/was/were)", icon: "refresh-cw", color: "blue" },
                { title: "過去分詞", desc: "動詞の3番目の形。規則変化(ed)と不規則変化がある", icon: "list", color: "rose" },
                { title: "by ～", desc: "「～によって」と動作主（した人）を表すときに使う", icon: "user", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "This book read by him. / The cake was make.",
            goodExample: "This book <strong>is read</strong> by him. / The cake <strong>was made</strong>.",
            description: "be動詞を忘れてはいけません。また、不規則動詞の過去分詞（make→made, write→writtenなど）は暗記必須です！"
        },
        examples: [
            {
                engDisplay: 'This letter <span class="text-red-600 font-bold">was written</span> by Ken.',
                engRead: "This letter was written by Ken.",
                jp: "この手紙はケンによって書かれました。",
                icon: "mail",
                color: "blue"
            },
            {
                engDisplay: 'English <span class="text-red-600 font-bold">is spoken</span> in many countries.',
                engRead: "English is spoken in many countries.",
                jp: "英語は多くの国で話されています。",
                icon: "globe",
                color: "rose"
            },
            {
                engDisplay: 'These cars <span class="text-red-600 font-bold">are made</span> in Japan.',
                engRead: "These cars are made in Japan.",
                jp: "これらの車は日本で作られています。",
                icon: "truck",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "This room is (　　　) every day.",
                options: ["clean", "cleaned", "cleaning", "cleans"],
                correctIndex: 1,
                explanation: "「掃除される」なので受動態（be + 過去分詞）にします。"
            },
            {
                id: "qA2",
                subQuestion: "The picture (　　　) taken by my father.",
                options: ["was", "is", "were", "are"],
                correctIndex: 0,
                explanation: "過去分詞 taken があるので受動態。「撮られた」という過去のことなので was を選びます。"
            },
            {
                id: "qA3",
                subQuestion: "This song is loved (　　　) many people.",
                options: ["by", "with", "for", "to"],
                correctIndex: 0,
                explanation: "「～によって」と動作主を示すときは by を使います。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "この本は夏目漱石によって書かれました。",
                sentenceParts: ["This book", "{slot}", "{slot}", "by Natsume Soseki."],
                words: ["was", "written", "wrote", "is"],
                correctOrder: ["was", "written"],
                explanation: "「書かれた（過去）」なので was + written (writeの過去分詞) です。"
            },
            {
                id: "qB2",
                subQuestion: "その店は10時に開店します（開けられます）。",
                sentenceParts: ["The store", "{slot}", "{slot}", "at ten."],
                words: ["is", "opened", "opens", "was"],
                correctOrder: ["is", "opened"],
                explanation: "現在の習慣的なことなので is opened を使います。"
            },
            {
                id: "qB3",
                subQuestion: "これらの写真は彼によって撮られました。",
                sentenceParts: ["These pictures", "{slot}", "{slot}", "by him."],
                words: ["were", "taken", "took", "was"],
                correctOrder: ["were", "taken"],
                explanation: "主語が複数(pictures)で過去のことなので were taken です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "このケーキは私の母によって作られました。",
                words: ["This", "cake", "was", "made", "by", "my", "mother"],
                explanation: "be動詞(was) + 過去分詞(made) + by ～ の語順です。"
            },
            {
                id: "qC2",
                subQuestion: "多くの星が夜に見られます。",
                words: ["Many", "stars", "are", "seen", "at", "night"],
                explanation: "「見られる」は be seen と表します。"
            }
        ],
        summary: [
            "受動態は「be動詞 ＋ 過去分詞」",
            "意味は「～される / ～された」",
            "動作をした人は「by ～」で表す"
        ]
    },
    "passive-voice-neg-q": {
        id: "passive-voice-neg-q",
        grade: 3,
        menuTitle: "受け身の否定文・疑問文",
        intro: {
            title: "～されません / ～されますか",
            subtitle: "意味：～されない / ～されますか",
            goals: [
                "否定文は be動詞の後ろに not を置く",
                "疑問文は be動詞を主語の前に出す",
                "When や Where を使った受動態の疑問文に慣れる"
            ]
        },
        grammar: {
            formula: [
                { text: "否定：be + not", type: "red" },
                { text: "+ 過去分詞", type: "text" },
                { text: " / ", type: "text" },
                { text: "疑問：Be + 主語", type: "blue" },
                { text: "+ 過去分詞 ?", type: "text" }
            ],
            text: "be動詞を使っているので、ルールは「be動詞の文」と全く同じです。",
            items: [
                { title: "否定文", desc: "「～されません」→ isn't / aren't / wasn't / weren't + 過去分詞", icon: "x-circle", color: "rose" },
                { title: "疑問文", desc: "「～されますか？」→ be動詞を文頭へ", icon: "help-circle", color: "blue" },
                { title: "疑問詞", desc: "Where is it made?（どこで作られましたか）の形も重要", icon: "map-pin", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "This car doesn't made in Japan. / Do you invited?",
            goodExample: "This car <strong>isn't made</strong> in Japan. / <strong>Were you invited</strong>?",
            description: "受動態の文には一般動詞（の過去分詞）がありますが、否定・疑問を作るのは「be動詞」の役割です。Do/Does/Did は使いません。"
        },
        examples: [
            {
                engDisplay: 'This flower <span class="text-rose-600 font-bold">is not (isn\'t) seen</span> in winter.',
                engRead: "This flower is not seen in winter.",
                jp: "この花は冬には見られません。",
                icon: "flower",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-blue-600 font-bold">Was</span> this bag <span class="text-blue-600 font-bold">found</span> here?',
                engRead: "Was this bag found here?",
                jp: "このかばんはここで見つかりましたか？",
                icon: "help-circle",
                color: "blue"
            },
            {
                engDisplay: '<span class="text-orange-600 font-bold">When was</span> this temple <span class="text-orange-600 font-bold">built</span>?',
                engRead: "When was this temple built?",
                jp: "このお寺はいつ建てられましたか？",
                icon: "calendar",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "English (　　　) spoken here.",
                options: ["isn't", "don't", "doesn't", "didn't"],
                correctIndex: 0,
                explanation: "受動態の否定文は be動詞 + not なので isn't を選びます。"
            },
            {
                id: "qA2",
                subQuestion: "(　　　) this letter written by Tom?",
                options: ["Was", "Did", "Does", "Has"],
                correctIndex: 0,
                explanation: "受動態の疑問文は be動詞で始めます。"
            },
            {
                id: "qA3",
                subQuestion: "Where was the camera (　　　)?",
                options: ["made", "make", "making", "makes"],
                correctIndex: 0,
                explanation: "be動詞(was)があるので、後ろは過去分詞(made)にします。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "その部屋は使われていません。",
                sentenceParts: ["The room", "{slot}", "{slot}", "."],
                words: ["is", "not", "used", "doesn't"],
                correctOrder: ["is", "not", "used"],
                explanation: "受動態の否定文です。is not used とします。"
            },
            {
                id: "qB2",
                subQuestion: "あなたはパーティーに招待されましたか？",
                sentenceParts: ["{slot}", "you", "{slot}", "to the party?"],
                words: ["Were", "invited", "Did", "invite"],
                correctOrder: ["Were", "invited"],
                explanation: "過去の受動態の疑問文なので Were ... invited? となります。"
            },
            {
                id: "qB3",
                subQuestion: "この車はどこで作られましたか？",
                sentenceParts: ["{slot}", "{slot}", "this car", "{slot}", "?"],
                words: ["Where", "was", "made", "did"],
                correctOrder: ["Where", "was", "made"],
                explanation: "疑問詞 Where + be動詞 + 主語 + 過去分詞 の語順です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "この本は図書館では売られていません。",
                words: ["This", "book", "is", "not", "sold", "at", "the", "library"],
                explanation: "sell（売る）の過去分詞 sold を使います。"
            },
            {
                id: "qC2",
                subQuestion: "その窓はケンによって壊されたのですか？",
                words: ["Was", "the", "window", "broken", "by", "Ken", "?"],
                explanation: "break（壊す）の過去分詞 broken を使います。"
            }
        ],
        summary: [
            "否定文は be動詞 ＋ not ＋ 過去分詞",
            "疑問文は be動詞 ＋ 主語 ＋ 過去分詞",
            "ルールは普通の be動詞の文と同じ！"
        ]
    },
    "passive-voice-idioms": {
        id: "passive-voice-idioms",
        grade: 3,
        menuTitle: "受動態で by を使わないパターン",
        intro: {
            title: "受動態の連語",
            subtitle: "意味：～に興味がある / ～で覆われている 等",
            goals: [
                "by 以外の前置詞（in, with, at, of, from, to）を使う表現を覚える",
                "be interested in ～（興味がある）などの重要連語をマスターする",
                "材料・原料を表す be made of / from の違いを知る"
            ]
        },
        grammar: {
            formula: [
                { text: "be動詞", type: "red" },
                { text: "+", type: "text" },
                { text: "過去分詞", type: "blue" },
                { text: "+", type: "text" },
                { text: "特定の前置詞", type: "orange" }
            ],
            text: "「～によって」以外の意味（状態や感情など）を表す場合、by 以外の前置詞とセットで使われます。",
            items: [
                { title: "in", desc: "be interested in ～ (～に興味がある)", icon: "heart", color: "rose" },
                { title: "with", desc: "be covered with ～ (～で覆われている) / be filled with (～で一杯だ)", icon: "layers", color: "blue" },
                { title: "at / to", desc: "be surprised at (～に驚く) / be known to (～に知られている)", icon: "alert-circle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I am interested by music. / The mountain is covered by snow.",
            goodExample: "I am <strong>interested in</strong> music. / The mountain is <strong>covered with</strong> snow.",
            description: "これらの表現は「熟語（セット）」として丸暗記しましょう。by を使うと不自然になります。"
        },
        examples: [
            {
                engDisplay: 'I am <span class="text-rose-600 font-bold">interested in</span> history.',
                engRead: "I am interested in history.",
                jp: "私は歴史に興味があります。",
                icon: "book",
                color: "rose"
            },
            {
                engDisplay: 'The ground was <span class="text-blue-600 font-bold">covered with</span> snow.',
                engRead: "The ground was covered with snow.",
                jp: "地面は雪で覆われていました。",
                icon: "cloud-snow",
                color: "blue"
            },
            {
                engDisplay: 'This desk is <span class="text-orange-600 font-bold">made of</span> wood.',
                engRead: "This desk is made of wood.",
                jp: "この机は木でできています（材料：見てわかる）。",
                icon: "box",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I was surprised (　　　) the news.",
                options: ["at", "by", "in", "to"],
                correctIndex: 0,
                explanation: "be surprised at ～ で「～に驚く」です。"
            },
            {
                id: "qA2",
                subQuestion: "Mt. Fuji is known (　　　) everyone.",
                options: ["to", "for", "with", "by"],
                correctIndex: 0,
                explanation: "be known to ～ で「～（人）に知られている」です。"
            },
            {
                id: "qA3",
                subQuestion: "Butter is made (　　　) milk.",
                options: ["from", "of", "in", "by"],
                correctIndex: 0,
                explanation: "原料（見てわからない変化）の場合は be made from を使います。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "彼は科学に興味があります。",
                sentenceParts: ["He is", "{slot}", "{slot}", "science."],
                words: ["interested", "in", "interesting", "at"],
                correctOrder: ["interested", "in"],
                explanation: "be interested in ～ は最も重要な連語の一つです。"
            },
            {
                id: "qB2",
                subQuestion: "その山は木々で覆われています。",
                sentenceParts: ["The mountain is", "{slot}", "{slot}", "trees."],
                words: ["covered", "with", "cover", "by"],
                correctOrder: ["covered", "with"],
                explanation: "be covered with ～ で「～で覆われている」です。"
            },
            {
                id: "qB3",
                subQuestion: "その箱は本でいっぱいでした。",
                sentenceParts: ["The box was", "{slot}", "{slot}", "books."],
                words: ["filled", "with", "full", "of"],
                correctOrder: ["filled", "with"],
                explanation: "be filled with ～ (＝ be full of) で「～で満たされている」です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "私はその結果に驚きました。",
                words: ["I", "was", "surprised", "at", "the", "result"],
                explanation: "be surprised at ～ で「～に驚く」です。"
            },
            {
                id: "qC2",
                subQuestion: "日本は美しい自然で知られています。",
                words: ["Japan", "is", "known", "for", "its", "beautiful", "nature"],
                explanation: "be known for ～ で「～（特徴など）で知られている（有名だ）」です。"
            }
        ],
        summary: [
            "be interested in（興味がある）",
            "be covered with（覆われている）",
            "be surprised at（驚く） など、セットで覚える！"
        ]
    },
    "svoc-sentences": {
        id: "svoc-sentences",
        grade: 3,
        menuTitle: "call / make (SVOCの文)",
        intro: {
            title: "AをBと呼ぶ / AをBにする",
            subtitle: "意味：O ＝ C の関係を作る文",
            goals: [
                "call A B（AをBと呼ぶ）の形を覚える",
                "make A B（AをBにする）の形を覚える",
                "AとBがイコール（A＝B）の関係になることを理解する"
            ]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "動詞(call/make)", type: "red" },
                { text: "+", type: "text" },
                { text: "A (目的語)", type: "blue" },
                { text: "+", type: "text" },
                { text: "B (補語)", type: "orange" }
            ],
            text: "「AをBと呼ぶ」「AをB（の状態）にする」という文です。AとBがイコール（A＝B）になるのが特徴です。",
            items: [
                { title: "call A B", desc: "AをBと呼ぶ (We call him Ken.)", icon: "message-circle", color: "blue" },
                { title: "make A B", desc: "AをB（の状態）にする (It made me happy.)", icon: "smile", color: "rose" },
                { title: "name A B", desc: "AをBと名付ける (They named the cat Tama.)", icon: "tag", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "We call Ken is our leader.",
            goodExample: "We <strong>call Ken our leader</strong>.",
            description: "間に is や as は不要です。動詞の後ろに「A（人・物）」「B（名前・状態）」を並べるだけです。"
        },
        examples: [
            {
                engDisplay: 'We <span class="text-blue-600 font-bold">call</span> the dog <span class="text-orange-600 font-bold">Pochi</span>.',
                engRead: "We call the dog Pochi.",
                jp: "私たちはその犬をポチと呼びます。",
                icon: "message-circle",
                color: "blue"
            },
            {
                engDisplay: 'The news <span class="text-rose-600 font-bold">made</span> me <span class="text-orange-600 font-bold">sad</span>.',
                engRead: "The news made me sad.",
                jp: "その知らせは私を悲しくさせました。",
                icon: "frown",
                color: "rose"
            },
            {
                engDisplay: 'They <span class="text-orange-600 font-bold">named</span> their baby <span class="text-orange-600 font-bold">Eren</span>.',
                engRead: "They named their baby Eren.",
                jp: "彼らは赤ちゃんをエレンと名付けました。",
                icon: "tag",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "Please (　　　) me Mike.",
                options: ["call", "make", "name", "say"],
                correctIndex: 0,
                explanation: "「私をマイクと呼んで」なので call A B を使います。"
            },
            {
                id: "qA2",
                subQuestion: "His letter made me (　　　).",
                options: ["happy", "happily", "happiness", "to happy"],
                correctIndex: 0,
                explanation: "make A B の B には形容詞（happy）が入ります。「私＝幸せ」にします。"
            },
            {
                id: "qA3",
                subQuestion: "We named the planet (　　　).",
                options: ["Earth", "at Earth", "is Earth", "to Earth"],
                correctIndex: 0,
                explanation: "name A B で「AをBと名付ける」です。前置詞は不要です。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私のことをケンと呼んでください。",
                sentenceParts: ["Please", "{slot}", "{slot}", "Ken."],
                words: ["call", "me", "my", "is"],
                correctOrder: ["call", "me"],
                explanation: "call me Ken で「私＝ケンと呼ぶ」となります。"
            },
            {
                id: "qB2",
                subQuestion: "この歌はいつも私を元気にします。",
                sentenceParts: ["This song always", "{slot}", "{slot}", "happy."],
                words: ["makes", "me", "make", "my"],
                correctOrder: ["makes", "me"],
                explanation: "make A B の形です。主語が歌(単数)なので makes にします。"
            },
            {
                id: "qB3",
                subQuestion: "私たちは彼をキャプテンに選びました。",
                sentenceParts: ["We elected", "{slot}", "{slot}", "."],
                words: ["him", "captain", "he", "is"],
                correctOrder: ["him", "captain"],
                explanation: "elect（選ぶ）もこの形で使えます。目的格 him を使います。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "人々は彼女を天使と呼びます。",
                words: ["People", "call", "her", "an", "angel"],
                explanation: "call A B の語順です。"
            },
            {
                id: "qC2",
                subQuestion: "あなたは何がきっかけで医者になったのですか？（何があなたを医者にしたのですか？）",
                words: ["What", "made", "you", "a", "doctor", "?"],
                explanation: "What made you a doctor? は英語らしい表現です。"
            }
        ],
        summary: [
            "call A B （AをBと呼ぶ）",
            "make A B （AをBの状態にする）",
            "A ＝ B の関係が成り立つのがポイント"
        ]
    },
    "present-perfect-continuous": {
        id: "present-perfect-continuous",
        grade: 3,
        menuTitle: "現在完了形 (継続)",
        intro: {
            title: "ずっと～している",
            subtitle: "意味：(過去から現在まで)ずっと～だ",
            goals: [
                "have / has ＋ 過去分詞 の形を覚える",
                "for（～の間）と since（～から）の使い分けをマスターする",
                "How long ～?（どのくらいの間）で期間を尋ねる"
            ]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "have / has", type: "red" },
                { text: "+", type: "text" },
                { text: "過去分詞", type: "blue" },
                { text: "+", type: "text" },
                { text: "for / since ～", type: "orange" }
            ],
            text: "過去のある時点から「今」まで、ずっと続いている状態を表します。",
            items: [
                { title: "for + 期間", desc: "「～の間」 (for three years, for a long time)", icon: "clock", color: "blue" },
                { title: "since + 過去", desc: "「～から(以来)」 (since yesterday, since 2010)", icon: "calendar", color: "rose" },
                { title: "have / has", desc: "主語が三人称単数なら has、それ以外は have", icon: "user", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I live here for ten years. / I am busy since yesterday.",
            goodExample: "I <strong>have lived</strong> here for ten years. / I <strong>have been</strong> busy since yesterday.",
            description: "「今も～だ」からといって現在形にしてはいけません。「過去から今までつながっている」ので現在完了形を使います。"
        },
        examples: [
            {
                engDisplay: 'I <span class="text-red-600 font-bold">have lived</span> in Tokyo <span class="text-orange-600 font-bold">for</span> ten years.',
                engRead: "I have lived in Tokyo for ten years.",
                jp: "私は10年間ずっと東京に住んでいます。",
                icon: "map-pin",
                color: "blue"
            },
            {
                engDisplay: 'She <span class="text-red-600 font-bold">has been</span> sick <span class="text-orange-600 font-bold">since</span> last week.',
                engRead: "She has been sick since last week.",
                jp: "彼女は先週からずっと病気です。",
                icon: "activity",
                color: "rose"
            },
            {
                engDisplay: 'We <span class="text-red-600 font-bold">have known</span> him <span class="text-orange-600 font-bold">for</span> a long time.',
                engRead: "We have known him for a long time.",
                jp: "私たちは彼を長い間知っています。",
                icon: "users",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I have (　　　) in this house since 2015.",
                options: ["lived", "live", "living", "lives"],
                correctIndex: 0,
                explanation: "have + 過去分詞の形にします。"
            },
            {
                id: "qA2",
                subQuestion: "He has been busy (　　　) three days.",
                options: ["for", "since", "from", "in"],
                correctIndex: 0,
                explanation: "「3日間」という期間を表すときは for を使います。"
            },
            {
                id: "qA3",
                subQuestion: "We have known each other (　　　) we were children.",
                options: ["since", "for", "from", "when"],
                correctIndex: 0,
                explanation: "「子供だった時から」という起点を表すときは since を使います。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私は昨日からずっと忙しいです。",
                sentenceParts: ["I", "{slot}", "{slot}", "busy since yesterday."],
                words: ["have", "been", "am", "was"],
                correctOrder: ["have", "been"],
                explanation: "be動詞(am)の過去分詞 been を使います。"
            },
            {
                id: "qB2",
                subQuestion: "ケンは長い間、自分の部屋にいます。",
                sentenceParts: ["Ken", "{slot}", "{slot}", "in his room for a long time."],
                words: ["has", "been", "is", "have"],
                correctOrder: ["has", "been"],
                explanation: "Ken(He)なので has been となります。"
            },
            {
                id: "qB3",
                subQuestion: "あなたはどのくらいの間、彼を知っていますか？",
                sentenceParts: ["{slot}", "{slot}", "have you known him?"],
                words: ["How", "long", "When", "What"],
                correctOrder: ["How", "long"],
                explanation: "期間を尋ねる疑問詞 How long を使います。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "私は彼を5年間知っています。",
                words: ["I", "have", "known", "him", "for", "five", "years"],
                explanation: "I have known him + for 期間 の語順です。"
            },
            {
                id: "qC2",
                subQuestion: "彼女は朝からずっとここにいます。",
                words: ["She", "has", "been", "here", "since", "morning"],
                explanation: "She has been here + since 起点 の語順です。"
            }
        ],
        summary: [
            "have / has ＋ 過去分詞 で「ずっと～だ」",
            "for は「期間（～間）」、since は「起点（～から）」",
            "be動詞の過去分詞は been"
        ]
    },
    "present-perfect-experience": {
        id: "present-perfect-experience",
        grade: 3,
        menuTitle: "現在完了形 (経験)",
        intro: {
            title: "～したことがある",
            subtitle: "意味：(今までに)～したことがある",
            goals: [
                "「～したことがある」という経験の言い方を覚える",
                "have been to（行ったことがある）の表現を知る",
                "ever（今までに）、never（一度も～ない）などの位置を覚える"
            ]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "have / has", type: "red" },
                { text: "+", type: "text" },
                { text: "過去分詞", type: "blue" },
                { text: "+", type: "text" },
                { text: "回数など", type: "orange" }
            ],
            text: "過去の体験を「今の話題（経験）」として話すときに使います。",
            items: [
                { title: "回数", desc: "once(1回), twice(2回), three times(3回)...", icon: "hash", color: "blue" },
                { title: "否定(never)", desc: "not の代わりに never を使うと「一度も～ない」", icon: "x-circle", color: "rose" },
                { title: "疑問(ever)", desc: "Have you ever ...? で「今までに～したことある？」", icon: "help-circle", color: "orange" }
            ]
        },
        points: {
            badExample: "I went to Kyoto twice. / I have gone to Kyoto.",
            goodExample: "I <strong>have been to</strong> Kyoto twice.",
            description: "「行ったことがある」は have been to を使います。have gone to だと「行ってしまった（もうここにはいない）」になるので注意！"
        },
        examples: [
            {
                engDisplay: 'I <span class="text-red-600 font-bold">have seen</span> the movie twice.',
                engRead: "I have seen the movie twice.",
                jp: "私はその映画を2回見たことがあります。",
                icon: "film",
                color: "blue"
            },
            {
                engDisplay: 'I <span class="text-rose-600 font-bold">have never eaten</span> natto.',
                engRead: "I have never eaten natto.",
                jp: "私は一度も納豆を食べたことがありません。",
                icon: "frown",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-orange-600 font-bold">Have you ever</span> been to Hawaii?',
                engRead: "Have you ever been to Hawaii?",
                jp: "あなたは今までにハワイへ行ったことがありますか？",
                icon: "map-pin",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I have (　　　) to London once.",
                options: ["been", "gone", "went", "go"],
                correctIndex: 0,
                explanation: "「行ったことがある」は have been to です。"
            },
            {
                id: "qA2",
                subQuestion: "Have you (　　　) visited Kyoto?",
                options: ["ever", "never", "before", "yet"],
                correctIndex: 0,
                explanation: "疑問文で「今までに」と聞くときは ever を入れます。"
            },
            {
                id: "qA3",
                subQuestion: "I have read this book (　　　).",
                options: ["three times", "three time", "third times", "thrice"],
                correctIndex: 0,
                explanation: "3回以上は 数字 + times で表します。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私はこの歌を以前聞いたことがあります。",
                sentenceParts: ["I", "{slot}", "{slot}", "this song before."],
                words: ["have", "heard", "hear", "am"],
                correctOrder: ["have", "heard"],
                explanation: "hear の過去分詞 heard を使います。before は文末に。"
            },
            {
                id: "qB2",
                subQuestion: "私は一度も彼に会ったことがありません。",
                sentenceParts: ["I", "{slot}", "{slot}", "met him."],
                words: ["have", "never", "don't", "not"],
                correctOrder: ["have", "never"],
                explanation: "「一度も～ない」は have never 過去分詞 の順です。"
            },
            {
                id: "qB3",
                subQuestion: "あなたは富士山に登ったことがありますか？",
                sentenceParts: ["{slot}", "you", "{slot}", "climbed Mt. Fuji?"],
                words: ["Have", "ever", "Do", "never"],
                correctOrder: ["Have", "ever"],
                explanation: "Have you ever ...? で経験を尋ねます。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "私はパリに2回行ったことがあります。",
                words: ["I", "have", "been", "to", "Paris", "twice"],
                explanation: "have been to 場所 + 回数 の語順です。"
            },
            {
                id: "qC2",
                subQuestion: "あなたは以前ここに来たことがありますか？",
                words: ["Have", "you", "been", "here", "before", "?"],
                explanation: "here や there の前には to はつきません（have been here）。"
            }
        ],
        summary: [
            "have / has ＋ 過去分詞 で「～したことがある」",
            "「行ったことがある」は have been to",
            "once, twice, before, ever, never などの語句と一緒に使う"
        ]
    },
    "present-perfect-completion": {
        id: "present-perfect-completion",
        grade: 3,
        menuTitle: "現在完了形 (完了)",
        intro: {
            title: "～したところだ / もう～した",
            subtitle: "意味：(ちょうど)～し終えた",
            goals: [
                "「完了」の意味（ちょうど終わった・してしまった）を理解する",
                "just（ちょうど）と already（すでに）の位置を覚える",
                "疑問文・否定文での yet（もう / まだ）の使い方をマスターする"
            ]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "have / has", type: "red" },
                { text: "+", type: "text" },
                { text: "just / already", type: "orange" },
                { text: "+", type: "text" },
                { text: "過去分詞", type: "blue" }
            ],
            text: "動作が完了したことを強調する表現です。yet は文末に置きます。",
            items: [
                { title: "just", desc: "「ちょうど～したところ」 have の直後に置く", icon: "check-circle", color: "blue" },
                { title: "already", desc: "「すでに～してしまった」 have の直後に置く", icon: "fast-forward", color: "rose" },
                { title: "yet", desc: "疑問文で「もう」、否定文で「まだ」。文の最後に置く", icon: "help-circle", color: "orange" }
            ]
        },
        points: {
            badExample: "I have finished my homework yet. / I already have finished.",
            goodExample: "I <strong>have finished</strong> my homework. / I <strong>have already finished</strong>.",
            description: "yet は疑問文か否定文で使います。肯定文では already を使います。置く場所に注意しましょう。"
        },
        examples: [
            {
                engDisplay: 'I <span class="text-red-600 font-bold">have just finished</span> lunch.',
                engRead: "I have just finished lunch.",
                jp: "私はちょうど昼食を終えたところです。",
                icon: "utensils",
                color: "blue"
            },
            {
                engDisplay: 'He <span class="text-rose-600 font-bold">has already gone</span> home.',
                engRead: "He has already gone home.",
                jp: "彼はすでに家に帰ってしまいました。",
                icon: "home",
                color: "rose"
            },
            {
                engDisplay: '<span class="text-orange-600 font-bold">Have</span> you finished <span class="text-orange-600 font-bold">yet</span>?',
                engRead: "Have you finished yet?",
                jp: "あなたはもう終わりましたか？",
                icon: "help-circle",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I have (　　　) cleaned my room.",
                options: ["already", "yet", "ever", "ago"],
                correctIndex: 0,
                explanation: "肯定文で「すでに～した」と言うときは already を使います。"
            },
            {
                id: "qA2",
                subQuestion: "I haven't read the book (　　　).",
                options: ["yet", "already", "just", "never"],
                correctIndex: 0,
                explanation: "否定文の文末に置く「まだ」は yet です。"
            },
            {
                id: "qA3",
                subQuestion: "The train has (　　　) left.",
                options: ["just", "yet", "ever", "now"],
                correctIndex: 0,
                explanation: "「ちょうど出発したところ」は have just 過去分詞 です。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "ケンはまだ来ていません。",
                sentenceParts: ["Ken", "{slot}", "{slot}", "yet."],
                words: ["hasn't", "come", "isn't", "came"],
                correctOrder: ["hasn't", "come"],
                explanation: "否定文なので hasn't (has not) + 過去分詞(come) です。"
            },
            {
                id: "qB2",
                subQuestion: "私はすでに宿題をしました。",
                sentenceParts: ["I", "{slot}", "{slot}", "done my homework."],
                words: ["have", "already", "has", "yet"],
                correctOrder: ["have", "already"],
                explanation: "have + already + 過去分詞 の順です。"
            },
            {
                id: "qB3",
                subQuestion: "あなたはもう手紙を書きましたか？",
                sentenceParts: ["{slot}", "you", "{slot}", "the letter yet?"],
                words: ["Have", "written", "Did", "wrote"],
                correctOrder: ["Have", "written"],
                explanation: "疑問文の文末の yet は「もう」と訳します。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "駅へのバスはちょうど到着したところです。",
                words: ["The", "bus", "to", "the", "station", "has", "just", "arrived"],
                explanation: "has just arrived で「ちょうど着いた」を表します。"
            },
            {
                id: "qC2",
                subQuestion: "彼らはまだ夕食を食べていません。",
                words: ["They", "haven't", "eaten", "dinner", "yet"],
                explanation: "haven't + 過去分詞 ... yet の語順です。"
            }
        ],
        summary: [
            "just（ちょうど）と already（すでに）は have の後ろ",
            "yet は文末に置き、疑問文では「もう」、否定文では「まだ」",
            "完了した結果、今どうなっているかを含んでいる"
        ]
    },
    "present-perfect-summary": {
        id: "present-perfect-summary",
        grade: 3,
        menuTitle: "現在完了形まとめ (継続・経験・完了)",
        intro: {
            title: "現在完了形マスター",
            subtitle: "3つの用法を見分けよう",
            goals: [
                "継続・経験・完了のキーワード（for, ever, just等）を覚える",
                "文脈からどの用法かを見分ける",
                "have been to（経験）と have gone to（完了・結果）の違いを理解する"
            ]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "have / has", type: "red" },
                { text: "+", type: "text" },
                { text: "過去分詞", type: "blue" }
            ],
            text: "形はすべて同じ「have + 過去分詞」ですが、一緒に使う語句（キーワード）で意味が変わります。",
            items: [
                { title: "① 継続", desc: "「ずっと～だ」 for（期間）, since（起点）と一緒に使う", icon: "clock", color: "blue" },
                { title: "② 経験", desc: "「～したことがある」 ever, never, once, twice, before", icon: "star", color: "orange" },
                { title: "③ 完了", desc: "「～したところだ」 just, already, yet（否定・疑問）", icon: "check-circle", color: "rose" }
            ]
        },
        points: {
            badExample: "I have gone to Kyoto. (私は京都に行ったことがある)",
            goodExample: "I <strong>have been to</strong> Kyoto. (行ったことがある)",
            description: "「行ったことがある（経験）」は have been to です。have gone to は「行ってしまった（もうここにはいない）」という意味になります。"
        },
        examples: [
            {
                engDisplay: 'I <span class="text-blue-600 font-bold">have lived</span> here <span class="text-blue-600 font-bold">for</span> ten years.',
                engRead: "I have lived here for ten years.",
                jp: "私は10年間ずっとここに住んでいます。（継続）",
                icon: "home",
                color: "blue"
            },
            {
                engDisplay: 'I <span class="text-orange-600 font-bold">have been to</span> Hawaii <span class="text-orange-600 font-bold">twice</span>.',
                engRead: "I have been to Hawaii twice.",
                jp: "私はハワイに2回行ったことがあります。（経験）",
                icon: "map-pin",
                color: "orange"
            },
            {
                engDisplay: 'I <span class="text-rose-600 font-bold">have just finished</span> my homework.',
                engRead: "I have just finished my homework.",
                jp: "私はちょうど宿題を終えたところです。（完了）",
                icon: "edit",
                color: "rose"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I have (　　　) seen a panda.",
                options: ["never", "ever", "yet", "since"],
                correctIndex: 0,
                explanation: "「一度も～ない」という経験の否定は never を使います。"
            },
            {
                id: "qA2",
                subQuestion: "He has lived in Osaka (　　　) last year.",
                options: ["since", "for", "from", "before"],
                correctIndex: 0,
                explanation: "「昨年から」という起点を表す継続のキーワードは since です。"
            },
            {
                id: "qA3",
                subQuestion: "Have you cleaned your room (　　　)?",
                options: ["yet", "already", "just", "ever"],
                correctIndex: 0,
                explanation: "完了形の疑問文で文末に置く「もう」は yet です。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私はその映画を3回見たことがあります。",
                sentenceParts: ["I", "{slot}", "{slot}", "the movie three times."],
                words: ["have", "seen", "saw", "see"],
                correctOrder: ["have", "seen"],
                explanation: "経験を表す have seen です。3回は three times。"
            },
            {
                id: "qB2",
                subQuestion: "ケンはまだ来ていません。",
                sentenceParts: ["Ken", "{slot}", "{slot}", "yet."],
                words: ["hasn't", "come", "isn't", "came"],
                correctOrder: ["hasn't", "come"],
                explanation: "完了の否定文は hasn't + 過去分詞 ... yet です。"
            },
            {
                id: "qB3",
                subQuestion: "私は長い間彼を知っています。",
                sentenceParts: ["I have known him", "{slot}", "a", "{slot}", "time."],
                words: ["for", "long", "since", "short"],
                correctOrder: ["for", "long"],
                explanation: "継続を表す「長い間」は for a long time です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "あなたは今までにコアラを見たことがありますか？",
                words: ["Have", "you", "ever", "seen", "a", "koala", "?"],
                explanation: "経験を尋ねる Have you ever ...? の形です。"
            },
            {
                id: "qC2",
                subQuestion: "彼女はすでに昼食を食べてしまいました。",
                words: ["She", "has", "already", "eaten", "lunch"],
                explanation: "完了を表す already は has の後ろに置きます。"
            }
        ],
        summary: [
            "形はすべて have/has + 過去分詞",
            "継続(for/since), 経験(ever/never), 完了(just/yet) のキーワードで見分ける",
            "have been to（経験）と have gone to（完了）を区別する"
        ]
    },
    "interrogative-infinitive": {
        id: "interrogative-infinitive",
        grade: 3,
        menuTitle: "疑問詞 ＋ to ＋ 動詞の原形",
        intro: {
            title: "どうやって～するか / 何を～すべきか",
            subtitle: "意味：～のしかた / ～すべきこと",
            goals: [
                "how to（～のしかた）をマスターする",
                "what to（何を～すべきか）、where to（どこへ～すべきか）を覚える",
                "文の目的語として使えるようにする"
            ]
        },
        grammar: {
            formula: [
                { text: "疑問詞", type: "red" },
                { text: "+", type: "text" },
                { text: "to", type: "blue" },
                { text: "+", type: "text" },
                { text: "動詞の原形", type: "blue" }
            ],
            text: "「疑問詞＋to不定詞」のカタマリで、「何を～すればよいか」「いつ～すればよいか」などの意味を作ります。",
            items: [
                { title: "how to ～", desc: "「～のしかた」「どうやって～するか」", icon: "tool", color: "blue" },
                { title: "what to ～", desc: "「何を～すべきか」「何を～したらよいか」", icon: "help-circle", color: "rose" },
                { title: "where to ～", desc: "「どこへ～すべきか」「どこで～したらよいか」", icon: "map-pin", color: "orange" }
            ]
        },
        points: {
            badExample: "I don't know what do.",
            goodExample: "I don't know <strong>what to do</strong>.",
            description: "疑問詞の後ろには必ず to + 動詞の原形 を置きます。know や tell, teach などの動詞の後ろによく来ます。"
        },
        examples: [
            {
                engDisplay: 'I know <span class="text-blue-600 font-bold">how to use</span> this computer.',
                engRead: "I know how to use this computer.",
                jp: "私はこのコンピュータの使い方を知っています。",
                icon: "monitor",
                color: "blue"
            },
            {
                engDisplay: 'Please tell me <span class="text-rose-600 font-bold">what to buy</span>.',
                engRead: "Please tell me what to buy.",
                jp: "何を買えばよいか私に教えてください。",
                icon: "shopping-cart",
                color: "rose"
            },
            {
                engDisplay: 'We decided <span class="text-orange-600 font-bold">where to go</span>.',
                engRead: "We decided where to go.",
                jp: "私たちはどこへ行くか決めました。",
                icon: "map",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "Do you know (　　　) to cook curry?",
                options: ["how", "what", "which", "who"],
                correctIndex: 0,
                explanation: "「カレーの作り方（どうやって作るか）」なので how to を使います。"
            },
            {
                id: "qA2",
                subQuestion: "I don't know (　　　) to start.",
                options: ["when", "how many", "why", "whose"],
                correctIndex: 0,
                explanation: "「いつ始めたらよいか」という意味で when to を使います。"
            },
            {
                id: "qA3",
                subQuestion: "Please tell me where (　　　) go.",
                options: ["to", "for", "at", "do"],
                correctIndex: 0,
                explanation: "疑問詞 + to + 動詞の原形 です。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私は泳ぎ方を知りません。",
                sentenceParts: ["I don't know", "{slot}", "{slot}", "swim."],
                words: ["how", "to", "what", "for"],
                correctOrder: ["how", "to"],
                explanation: "how to swim で「泳ぎ方」です。"
            },
            {
                id: "qB2",
                subQuestion: "私に何をすべきか教えてください。",
                sentenceParts: ["Please tell me", "{slot}", "{slot}", "do."],
                words: ["what", "to", "how", "that"],
                correctOrder: ["what", "to"],
                explanation: "what to do で「何をすべきか」となります。"
            },
            {
                id: "qB3",
                subQuestion: "彼らはいつ出発するか話し合いました。",
                sentenceParts: ["They discussed", "{slot}", "{slot}", "start."],
                words: ["when", "to", "where", "how"],
                correctOrder: ["when", "to"],
                explanation: "when to start で「いつ出発すべきか」です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "どのバスに乗ればよいか教えてくれますか？",
                words: ["Can", "you", "tell", "me", "which", "bus", "to", "take", "?"],
                explanation: "which 名詞 to ...（どの～を...すべきか）の形です。"
            },
            {
                id: "qC2",
                subQuestion: "私はどこへ行けばよいかわかりませんでした。",
                words: ["I", "didn't", "know", "where", "to", "go"],
                explanation: "where to go で「どこへ行くべきか」です。"
            }
        ],
        summary: [
            "how to ～（～のしかた）",
            "what to ～（何を～すべきか）",
            "where to ～（どこへ～すべきか）",
            "when to ～（いつ～すべきか）"
        ]
    },
    "it-is-for-to": {
        id: "it-is-for-to",
        grade: 3,
        menuTitle: "It is ... for ... to ... 構文",
        intro: {
            title: "形式主語の It",
            subtitle: "意味：(人)にとって～することは…だ",
            goals: [
                "It is 形容詞 for 人 to 動詞 の語順を覚える",
                "本当の主語は to 以下であることを理解する",
                "for 人 を省略するパターンを知る"
            ]
        },
        grammar: {
            formula: [
                { text: "It is", type: "red" },
                { text: "+", type: "text" },
                { text: "形容詞", type: "blue" },
                { text: "+", type: "text" },
                { text: "for 人", type: "orange" },
                { text: "+", type: "text" },
                { text: "to ＋ 動詞の原形", type: "red" }
            ],
            text: "「～することは…だ」と言うとき、主語が長くなりすぎるのを防ぐために、仮の主語 It を最初に置く形です。",
            items: [
                { title: "It", desc: "仮の主語（形式主語）。日本語には訳さない", icon: "box", color: "blue" },
                { title: "for 人", desc: "行為をする人。「～にとって」", icon: "user", color: "orange" },
                { title: "to ～", desc: "本当の主語。「～すること」", icon: "arrow-right-circle", color: "rose" }
            ]
        },
        points: {
            badExample: "To study English is important for me. (文法的には〇だが硬い)",
            goodExample: "It is important for me <strong>to study</strong> English.",
            description: "英語は頭でっかちな文（主語が長い文）を嫌います。It で軽く始めて、大事な内容は後ろ（to以下）に置きます。"
        },
        examples: [
            {
                engDisplay: 'It is <span class="text-blue-600 font-bold">easy</span> for me <span class="text-rose-600 font-bold">to read</span> this book.',
                engRead: "It is easy for me to read this book.",
                jp: "私にとってこの本を読むことは簡単です。",
                icon: "book-open",
                color: "blue"
            },
            {
                engDisplay: 'It is <span class="text-blue-600 font-bold">important</span> <span class="text-rose-600 font-bold">to eat</span> breakfast.',
                engRead: "It is important to eat breakfast.",
                jp: "朝食を食べることは重要です（一般論なので for人は省略）。",
                icon: "utensils",
                color: "rose"
            },
            {
                engDisplay: 'It is <span class="text-blue-600 font-bold">dangerous</span> for children <span class="text-rose-600 font-bold">to swim</span> here.',
                engRead: "It is dangerous for children to swim here.",
                jp: "子供たちがここで泳ぐのは危険です。",
                icon: "alert-triangle",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "It is difficult (　　　) me to speak French.",
                options: ["for", "to", "of", "in"],
                correctIndex: 0,
                explanation: "「私にとって」と行為者を示すときは for を使います。"
            },
            {
                id: "qA2",
                subQuestion: "It is interesting to (　　　) English.",
                options: ["study", "studying", "studied", "studies"],
                correctIndex: 0,
                explanation: "to の後ろは動詞の原形（不定詞）です。"
            },
            {
                id: "qA3",
                subQuestion: "(　　　) is necessary to sleep well.",
                options: ["It", "That", "This", "He"],
                correctIndex: 0,
                explanation: "形式主語の It を文頭に置きます。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私にとって早起きは難しいです。",
                sentenceParts: ["It is difficult", "{slot}", "{slot}", "to get up early."],
                words: ["for", "me", "to", "my"],
                correctOrder: ["for", "me"],
                explanation: "「私にとって」は for me と表します。"
            },
            {
                id: "qB2",
                subQuestion: "テニスをすることは楽しいです。",
                sentenceParts: ["{slot}", "is fun", "{slot}", "play tennis."],
                words: ["It", "to", "That", "for"],
                correctOrder: ["It", "to"],
                explanation: "It is ... to ... の構文を使います。"
            },
            {
                id: "qB3",
                subQuestion: "彼にとってその問題を解くのは簡単でした。",
                sentenceParts: ["It was easy", "{slot}", "{slot}", "to solve the problem."],
                words: ["for", "him", "to", "his"],
                correctOrder: ["for", "him"],
                explanation: "for の後ろは目的格(him)を使います。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "英語を話すことは大切です。",
                words: ["It", "is", "important", "to", "speak", "English"],
                explanation: "It is 形容詞 to 動詞 ... の語順です。"
            },
            {
                id: "qC2",
                subQuestion: "あなたにとって毎日勉強することは良いことです。",
                words: ["It", "is", "good", "for", "you", "to", "study", "every", "day"],
                explanation: "for you を 形容詞と to の間に入れます。"
            }
        ],
        summary: [
            "It is 形容詞 (for 人) to 動詞の原形",
            "「(人)にとって～することは…だ」",
            "It は訳さない形式的な主語"
        ]
    },
    "indirect-question": {
        id: "indirect-question",
        grade: 3,
        menuTitle: "間接疑問文",
        intro: {
            title: "文の中に疑問文を入れる",
            subtitle: "意味：～か（ということ）",
            goals: [
                "「疑問詞 ＋ 主語 ＋ 動詞」の語順を覚える",
                "普通の疑問文（疑問詞＋動詞＋主語）との違いを理解する",
                "do/does/did が消えるパターンに慣れる"
            ]
        },
        grammar: {
            formula: [
                { text: "メインの文", type: "box" },
                { text: "+", type: "text" },
                { text: "疑問詞", type: "red" },
                { text: "+", type: "text" },
                { text: "主語", type: "blue" },
                { text: "+", type: "text" },
                { text: "動詞", type: "blue" }
            ],
            text: "「彼が誰か知ってる？」「どこに住んでいるか教えて」など、疑問文を別の文の一部（目的語）として組み込む形です。",
            items: [
                { title: "語順の変化", desc: "「疑問詞＋S＋V」（肯定文の語順）に戻る！", icon: "refresh-cw", color: "blue" },
                { title: "do/does/did", desc: "これらは消える。動詞の形（三単現や過去形）に注意", icon: "scissors", color: "rose" },
                { title: "疑問詞なし", desc: "Yes/Noで答える文を埋め込むときは if（～かどうか）を使う", icon: "help-circle", color: "orange" }
            ]
        },
        points: {
            badExample: "I know who is he. / Do you know where does he live?",
            goodExample: "I know <strong>who he is</strong>. / Do you know <strong>where he lives</strong>?",
            description: "疑問文の語順（Is he...? / Does he...?）のままつなげてはいけません。主語＋動詞の順に戻します。"
        },
        examples: [
            {
                engDisplay: 'I don\'t know <span class="text-blue-600 font-bold">where he lives</span>.',
                engRead: "I don't know where he lives.",
                jp: "私は彼がどこに住んでいるか知りません。",
                icon: "home",
                color: "blue"
            },
            {
                engDisplay: 'Please tell me <span class="text-rose-600 font-bold">what this is</span>.',
                engRead: "Please tell me what this is.",
                jp: "これが何なのか私に教えてください。",
                icon: "help-circle",
                color: "rose"
            },
            {
                engDisplay: 'Do you know <span class="text-orange-600 font-bold">when he will come</span>?',
                engRead: "Do you know when he will come?",
                jp: "彼がいつ来るか知っていますか？",
                icon: "clock",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I know who (　　　).",
                options: ["she is", "is she", "does she", "she does"],
                correctIndex: 0,
                explanation: "間接疑問文は「疑問詞＋主語＋動詞」の語順になります。"
            },
            {
                id: "qA2",
                subQuestion: "Do you know where (　　　)?",
                options: ["Ken lives", "does Ken live", "lives Ken", "is Ken live"],
                correctIndex: 0,
                explanation: "does が消えて、動詞 live に s がつきます（lives）。"
            },
            {
                id: "qA3",
                subQuestion: "Please tell me (　　　) you want.",
                options: ["what", "that", "where", "who"],
                correctIndex: 0,
                explanation: "「あなたが何が欲しいか」なので what を使います。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私はそれが何なのかわかりません。",
                sentenceParts: ["I don't know", "{slot}", "{slot}", "{slot}", "."],
                words: ["what", "it", "is", "that"],
                correctOrder: ["what", "it", "is"],
                explanation: "what is it? ではなく what it is の語順にします。"
            },
            {
                id: "qB2",
                subQuestion: "彼がいつ来るか知っていますか？",
                sentenceParts: ["Do you know", "{slot}", "{slot}", "{slot}", "?"],
                words: ["when", "he", "will come", "will he come"],
                correctOrder: ["when", "he", "will come"],
                explanation: "未来形 will も主語の後ろに置きます。"
            },
            {
                id: "qB3",
                subQuestion: "なぜ彼女が泣いているのか教えてください。",
                sentenceParts: ["Tell me", "{slot}", "{slot}", "{slot}", "crying."],
                words: ["why", "she", "is", "does"],
                correctOrder: ["why", "she", "is"],
                explanation: "why is she...? ではなく why she is... です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "私は彼が誰なのか知りません。",
                words: ["I", "don't", "know", "who", "he", "is"],
                explanation: "who is he? を組み込んで who he is とします。"
            },
            {
                id: "qC2",
                subQuestion: "ケンがどこに行ったか知っていますか？",
                words: ["Do", "you", "know", "where", "Ken", "went", "?"],
                explanation: "Where did Ken go? の did が消えて went（過去形）になります。"
            }
        ],
        summary: [
            "疑問詞＋主語＋動詞の語順になる（肯定文と同じ）",
            "do / does / did は消す（三単現や過去形を動詞に戻す）",
            "文の一部（目的語）として使われる"
        ]
    },
    "participle-modifier": {
        id: "participle-modifier",
        grade: 3,
        menuTitle: "後置修飾 (現在分詞・過去分詞)",
        intro: {
            title: "分詞による後置修飾",
            subtitle: "意味：～している(人/物) / ～された(人/物)",
            goals: [
                "名詞の後ろから説明を加えるルールを覚える",
                "～ing（している）と 過去分詞（された）の使い分けを理解する",
                "2語以上のカタマリの時に後ろに置くことを知る"
            ]
        },
        grammar: {
            formula: [
                { text: "名詞", type: "box" },
                { text: "+", type: "text" },
                { text: "～ing / 過去分詞", type: "red" },
                { text: "+", type: "text" },
                { text: "他の語句", type: "blue" }
            ],
            text: "「公園で走っている少年」「母によって作られたケーキ」のように、長い説明を名詞の後ろにくっつけます。",
            items: [
                { title: "現在分詞 (ing)", desc: "「～している」という能動的な意味 (running, playing)", icon: "activity", color: "blue" },
                { title: "過去分詞 (ed)", desc: "「～された」という受け身的な意味 (made, used)", icon: "check-circle", color: "rose" },
                { title: "位置", desc: "1語なら前(running boy)、2語以上なら後ろ(boy running in the park)", icon: "arrow-right", color: "orange" }
            ]
        },
        points: {
            badExample: "The running in the park boy is Ken. / The made in Japan car is cool.",
            goodExample: "The boy <strong>running in the park</strong> is Ken. / The car <strong>made in Japan</strong> is cool.",
            description: "説明が長い（2語以上）ときは、日本語と違って必ず名詞の「後ろ」に置きます。"
        },
        examples: [
            {
                engDisplay: 'The girl <span class="text-blue-600 font-bold">playing tennis</span> is Yumi.',
                engRead: "The girl playing tennis is Yumi.",
                jp: "テニスをしている女の子はユミです。",
                icon: "user",
                color: "blue"
            },
            {
                engDisplay: 'This is a book <span class="text-rose-600 font-bold">written by</span> Soseki.',
                engRead: "This is a book written by Soseki.",
                jp: "これは漱石によって書かれた本です。",
                icon: "book",
                color: "rose"
            },
            {
                engDisplay: 'Look at the <span class="text-orange-600 font-bold">sleeping</span> baby.',
                engRead: "Look at the sleeping baby.",
                jp: "眠っている赤ちゃんを見て。（1語なので前から修飾）",
                icon: "smile",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "The man (　　　) over there is my teacher.",
                options: ["standing", "stood", "stands", "is standing"],
                correctIndex: 0,
                explanation: "「立っている」なので現在分詞 standing を使います。"
            },
            {
                id: "qA2",
                subQuestion: "I have a watch (　　　) in Switzerland.",
                options: ["made", "make", "making", "makes"],
                correctIndex: 0,
                explanation: "「作られた」なので過去分詞 made を使います。"
            },
            {
                id: "qA3",
                subQuestion: "Do you know the boy (　　　) a book?",
                options: ["reading", "read", "reads", "is reading"],
                correctIndex: 0,
                explanation: "「読んでいる」なので reading を使います。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "向こうで走っている少年はケンです。",
                sentenceParts: ["The boy", "{slot}", "{slot}", "over there is Ken."],
                words: ["running", "run", "ran", "is"],
                correctOrder: ["running"],
                explanation: "「走っている」少年なので running を後ろに置きます。"
            },
            {
                id: "qB2",
                subQuestion: "英語で書かれた手紙を受け取りました。",
                sentenceParts: ["I received a letter", "{slot}", "{slot}", "English."],
                words: ["written", "in", "write", "wrote"],
                correctOrder: ["written", "in"],
                explanation: "「書かれた」なので過去分詞 written を使います。"
            },
            {
                id: "qB3",
                subQuestion: "ステージで歌っている少女を知っていますか？",
                sentenceParts: ["Do you know the girl", "{slot}", "{slot}", "the stage?"],
                words: ["singing", "on", "sing", "sang"],
                correctOrder: ["singing", "on"],
                explanation: "「歌っている」なので singing です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "これは私の母によって作られたケーキです。",
                words: ["This", "is", "a", "cake", "made", "by", "my", "mother"],
                explanation: "a cake の後ろに made by... を続けます。"
            },
            {
                id: "qC2",
                subQuestion: "ベンチに座っている男性は私の父です。",
                words: ["The", "man", "sitting", "on", "the", "bench", "is", "my", "father"],
                explanation: "The man + sitting on the bench が主語になります。"
            }
        ],
        summary: [
            "名詞 ＋ ing ～（～している…）",
            "名詞 ＋ 過去分詞 ～（～された…）",
            "長い説明は後ろから前の名詞を詳しくする"
        ]
    },
    "past-tense-regular": {
        id: "past-tense-regular",
        grade: 2,
        menuTitle: "一般動詞の過去形 (ed形)",
        intro: {
            title: "一般動詞の過去形",
            subtitle: "意味：〜した（過去の動作・状態）",
            goals: ["過去形の作り方（ed）を覚える", "「〜した」という文を作る", "過去を表す語句（yesterday等）を知る"]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "動詞の過去形", type: "red" },
                { text: "(edなど)", type: "text" }
            ],
            text: "「（主語が）〜した」と過去のことを表すときは、動詞の語尾に ed をつけます。",
            items: [
                { title: "基本のed", desc: "多くの動詞はそのまま ed をつける (play→played)", icon: "edit", color: "blue" },
                { title: "eで終わる", desc: "d だけをつける (use→used, live→lived)", icon: "smile", color: "rose" },
                { title: "過去の語句", desc: "yesterday, last night などと一緒に使う", icon: "calendar", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I play soccer yesterday.",
            goodExample: "I <strong>played</strong> soccer yesterday.",
            description: "過去の文では、主語が三人称単数でも -s ではなく -ed を使います。"
        },
        examples: [
            { engDisplay: 'I <span class="text-red-600 font-bold">watched</span> TV last night.', engRead: "I watched TV last night.", jp: "私は昨夜、テレビを見ました。", icon: "tv", color: "blue" },
            { engDisplay: 'He <span class="text-red-600 font-bold">lived</span> in Tokyo two years ago.', engRead: "He lived in Tokyo two years ago.", jp: "彼は2年前、東京に住んでいました。", icon: "home", color: "rose" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "I (　　　) tennis yesterday.", options: ["play", "plays", "played", "playing"], correctIndex: 2, explanation: "yesterday（昨日）があるので過去形playedにします。" },
            { id: "qA2", subQuestion: "She (　　　) lunch for us.", options: ["cook", "cooks", "cooked", "cooking"], correctIndex: 2, explanation: "「料理した」という過去の動作はcookedです。" },
            { id: "qA3", subQuestion: "They (　　　) to music last night.", options: ["listen", "listened", "listens", "listening"], correctIndex: 1, explanation: "last nightがあるので過去形を選びます。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "私は昨日、その箱を使いました。", sentenceParts: ["I", "{slot}", "the box", "{slot}"], words: ["used", "yesterday", "use", "last"], correctOrder: ["used", "yesterday"], explanation: "useはeで終わるのでdだけをつけます。" },
            { id: "qB2", subQuestion: "彼は一晩中勉強しました。", sentenceParts: ["He", "{slot}", "all night."], words: ["studied", "study", "studies"], correctOrder: ["studied"], explanation: "studyはyをiに変えてedをつけます。" },
            { id: "qB3", subQuestion: "私たちは放課後、サッカーを練習しました。", sentenceParts: ["We", "{slot}", "soccer after school."], words: ["practiced", "practice", "practices"], correctOrder: ["practiced"], explanation: "「練習した」という過去の形にします。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "私は昨夜、手紙を書きました。", words: ["I", "wrote", "a", "letter", "last", "night"], explanation: "writeの過去形は不規則変化のwroteです。" },
            { id: "qC2", subQuestion: "彼らはその公園を歩きました。", words: ["They", "walked", "in", "the", "park"], explanation: "walkにedをつけて過去形にします。" }
        ],
        summary: ["過去形は動詞に ed をつけるのが基本", "「〜した」という過去の動作を表す", "yesterday や last 〜 とセットで使うことが多い"]
    },
    "past-continuous": {
        id: "past-continuous",
        grade: 2,
        menuTitle: "過去進行形",
        intro: {
            title: "過去進行形",
            subtitle: "意味：〜しているところでした",
            goals: ["過去進行形の形（was/were + 〜ing）を覚える", "「その時〜していた」という状態を表現する", "否定文・疑問文の作り方を理解する"]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "was / were", type: "red" },
                { text: "+", type: "text" },
                { text: "動詞のing形", type: "blue" }
            ],
            text: "「（過去のある時点で）〜していた」という動作の最中を表します。",
            items: [
                { title: "be動詞の過去形", desc: "主語に合わせて was か were を選ぶ", icon: "refresh-cw", color: "rose" },
                { title: "ing形", desc: "動詞の語尾にingをつける（作り方は現在進行形と同じ）", icon: "edit", color: "blue" },
                { title: "then / at that time", desc: "「その時」という言葉と一緒に使われやすい", icon: "clock", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I playing tennis then.",
            goodExample: "I <strong>was playing</strong> tennis then.",
            description: "be動詞（was/were）を忘れないように注意しましょう。"
        },
        examples: [
            { engDisplay: 'I <span class="text-red-600 font-bold">was studying</span> math then.', engRead: "I was studying math then.", jp: "私はその時、数学を勉強していました。", icon: "book-open", color: "blue" },
            { engDisplay: 'They <span class="text-red-600 font-bold">were running</span> in the park.', engRead: "They were running in the park.", jp: "彼らは公園で走っていました。", icon: "user", color: "rose" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "He (　　　) breakfast then.", options: ["is eating", "was eating", "eaten", "were eating"], correctIndex: 1, explanation: "主語がHeで、then（その時）があるのでwas＋ing形にします。" },
            { id: "qA2", subQuestion: "We (　　　) soccer at that time.", options: ["was playing", "were playing", "played", "playing"], correctIndex: 1, explanation: "主語がWeなのでwereを使います。" },
            { id: "qA3", subQuestion: "(　　　) you taking a bath then?", options: ["Was", "Did", "Were", "Are"], correctIndex: 2, explanation: "Youの過去進行形の疑問文はWereで始めます。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "彼女はその時、ピアノを弾いていましたか？", sentenceParts: ["{slot}", "she", "{slot}", "the piano then?"], words: ["Was", "playing", "Were", "play"], correctOrder: ["Was", "playing"], explanation: "Sheが主語なのでWasを使い、動詞をing形にします。" },
            { id: "qB2", subQuestion: "私はその時、眠っていませんでした。", sentenceParts: ["I", "{slot}", "{slot}", "then."], words: ["was", "not", "sleeping", "were"], correctOrder: ["was", "not", "sleeping"], explanation: "be動詞の後にnotを置き、その後にing形を続けます。" },
            { id: "qB3", subQuestion: "彼らは夕食を作っていました。", sentenceParts: ["They", "{slot}", "{slot}", "dinner."], words: ["were", "making", "was", "make"], correctOrder: ["were", "making"], explanation: "Theyに合わせてwereを選び、makeのeを取ってingをつけます。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "あなたは何をしていましたか？", words: ["What", "were", "you", "doing", "?"], explanation: "「何をしていましたか」はWhat were you doing?となります。" },
            { id: "qC2", subQuestion: "雨が降っていました。", words: ["It", "was", "raining"], explanation: "天候のItを主語にして、was rainingとします。" }
        ],
        summary: ["過去進行形は「was/were ＋ ing形」", "意味は「（その時）〜していた」", "否定文・疑問文のルールはbe動詞と同じ"]
    },
    "sensory-verbs": {
        id: "sensory-verbs",
        grade: 2,
        menuTitle: "感覚を表す動詞 (SVC)",
        intro: {
            title: "五感を表す動詞",
            subtitle: "意味：〜の感じがする／〜な味がする",
            goals: ["look, sound, taste, feel, smell の意味を覚える", "「動詞 + 形容詞」の形をマスターする", "五感を使った表現を身につける"]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "感覚動詞", type: "red" },
                { text: "+", type: "text" },
                { text: "形容詞", type: "blue" }
            ],
            text: "「主語 ＝ 形容詞」の状態を、目・耳・舌・肌・鼻の五感を通して説明する文です。",
            items: [
                { title: "look / sound", desc: "見て「〜に見える」／聞いて「〜に聞こえる」", icon: "eye", color: "rose" },
                { title: "taste / smell", desc: "食べて「〜な味がする」／嗅いで「〜な匂いがする」", icon: "utensils", color: "orange" },
                { title: "feel", desc: "触れて・心で「〜な感じがする」", icon: "smile", color: "blue" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "This soup tastes saltily.",
            goodExample: "This soup <strong>tastes salty</strong>.",
            description: "「〜に」と訳しても、後ろには必ず形容詞（salty, happy等）を置きます。"
        },
        examples: [
            { engDisplay: 'This flower <span class="text-red-600 font-bold">smells sweet</span>.', engRead: "This flower smells sweet.", jp: "この花は甘い香りがします。", icon: "flower", color: "rose" },
            { engDisplay: 'I <span class="text-blue-600 font-bold">feel happy</span> today.', engRead: "I feel happy today.", jp: "今日は幸せな気分です。", icon: "smile", color: "blue" },
            { engDisplay: 'That story <span class="text-orange-600 font-bold">sounds interesting</span>.', engRead: "That story sounds interesting.", jp: "その話は面白そうに聞こえます。", icon: "message-circle", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "The lemon (　　　) sour.", options: ["tastes", "sounds", "looks at", "looks like"], correctIndex: 0, explanation: "レモンの「味がする」なのでtastesを選びます。" },
            { id: "qA2", subQuestion: "His story (　　　) strange.", options: ["listens", "hears", "sounds", "feels"], correctIndex: 2, explanation: "話を聞いて「〜に聞こえる（思える）」ときはsoundsです。" },
            { id: "qA3", subQuestion: "The silk (　　　) smooth.", options: ["smells", "feels", "tastes", "looks at"], correctIndex: 1, explanation: "手触りが「〜な感じがする」ときはfeelsを使います。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "そのケーキはとても美味しそうな匂いがします。", sentenceParts: ["The cake smells", "very", "{slot}."], words: ["good", "well", "nice"], correctOrder: ["good"], explanation: "「匂いがする」はsmells、その後に形容詞のgoodを置きます。" },
            { id: "qB2", subQuestion: "あなたの考えは素晴らしく聞こえます（名案ですね）。", sentenceParts: ["Your idea sounds", "{slot}."], words: ["great", "greatly", "nice"], correctOrder: ["great"], explanation: "三人称単数のsを付けたsoundsの後に形容詞を置きます。" },
            { id: "qB3", subQuestion: "このスープは少し苦い味がします。", sentenceParts: ["This soup tastes", "a little", "{slot}."], words: ["bitter", "bitterly", "hot"], correctOrder: ["bitter"], explanation: "「味がする」はtastesを使い、後ろに形容詞のbitter（苦い）を置きます。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "彼女は今日、悲しそうに見えます。", words: ["She", "looks", "sad", "today"], explanation: "look + 形容詞の語順です。" },
            { id: "qC2", subQuestion: "この布団は柔らかい感じがします。", words: ["This", "futon", "feels", "soft"], explanation: "感触を表すときはfeelを使います。" }
        ],
        summary: ["五感（見る・聞く・味わう・嗅ぐ・感じる）を表す動詞", "後ろには「形容詞」を置くのがルール", "主語が三人称単数のときの s に注意"]
    },
    "be-going-to": {
        id: "be-going-to",
        grade: 2,
        menuTitle: "be going to (未来の文)",
        intro: {
            title: "未来を表す表現",
            subtitle: "意味：〜するつもりです／〜しそうです",
            goals: ["be going to の形を理解する", "予定や計画を英語で言えるようにする", "否定文・疑問文の形を覚える"]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "am/is/are", type: "red" },
                { text: "going to", type: "blue" },
                { text: "+", type: "text" },
                { text: "動詞の原形", type: "red" }
            ],
            text: "「〜する予定だ」という、すでに心に決めている未来の計画を表します。",
            items: [
                { title: "be動詞", desc: "主語に合わせて am / is / are を選ぶ", icon: "refresh-cw", color: "rose" },
                { title: "going to", desc: "セットで未来を表す。go（行く）という意味ではない", icon: "fast-forward", color: "blue" },
                { title: "動詞の原形", desc: "to の後ろは必ず元の形（s や ed をつけない）", icon: "edit", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I going to play soccer tomorrow.",
            goodExample: "I <strong>am going to play</strong> soccer tomorrow.",
            description: "be動詞を忘れがちなので注意！また、toの後ろは必ず「原形」にします。"
        },
        examples: [
            { engDisplay: 'I <span class="text-red-600 font-bold">am going to visit</span> Kyoto next week.', engRead: "I am going to visit Kyoto next week.", jp: "私は来週、京都を訪れるつもりです。", icon: "map-pin", color: "rose" },
            { engDisplay: 'He <span class="text-blue-600 font-bold">is going to cook</span> dinner tonight.', engRead: "He is going to cook dinner tonight.", jp: "彼は今夜、夕食を作る予定です。", icon: "utensils", color: "blue" },
            { engDisplay: 'It <span class="text-orange-600 font-bold">is going to rain</span> tomorrow.', engRead: "It is going to rain tomorrow.", jp: "明日は雨が降るでしょう。", icon: "cloud-rain", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "We (　　　) going to play tennis this afternoon.", options: ["is", "are", "am", "be"], correctIndex: 1, explanation: "主語がWeなのでbe動詞はareを使います。" },
            { id: "qA2", subQuestion: "She is going to (　　　) a new car.", options: ["buy", "buys", "bought", "buying"], correctIndex: 0, explanation: "be going to の後ろは動詞の原形です。" },
            { id: "qA3", subQuestion: "(　　　) you going to study tonight?", options: ["Is", "Do", "Are", "Will"], correctIndex: 2, explanation: "Youが主語の疑問文なのでAreで始めます。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "私は明日、勉強するつもりはありません。", sentenceParts: ["I", "{slot}", "{slot}", "{slot}", "tomorrow."], words: ["am", "not", "going to study", "is"], correctOrder: ["am", "not", "going to study"], explanation: "否定文はbe動詞の後にnotを置きます。" },
            { id: "qB2", subQuestion: "あなたは何をする予定ですか？", sentenceParts: ["What", "{slot}", "you", "{slot}", "to do?"], words: ["are", "going", "is", "go"], correctOrder: ["are", "going"], explanation: "疑問詞の後は「be動詞＋主語」の順です。" },
            { id: "qB3", subQuestion: "彼は日本に来る予定です。", sentenceParts: ["He", "{slot}", "{slot}", "{slot}", "Japan."], words: ["is", "going", "to visit", "visited"], correctOrder: ["is", "going", "to visit"], explanation: "Heに合わせてisを使い、toの後は原形にします。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "私たちは明日、海に行くつもりです。", words: ["We", "are", "going", "to", "go", "to", "the", "sea", "tomorrow"], explanation: "「行くつもり」はgoing to goと表現します。" },
            { id: "qC2", subQuestion: "それはもうすぐ始まります。", words: ["It", "is", "going", "to", "start", "soon"], explanation: "soon（すぐに）などの語句と相性が良いです。" }
        ],
        summary: ["be going to ＋ 動詞の原形で「〜するつもり」", "否定文は be動詞の後ろに not", "疑問文は be動詞を主語の前に出す"]
    },
    "svoo-sentence": {
        id: "svoo-sentence",
        grade: 2,
        menuTitle: "give / show など (SVOO)",
        intro: {
            title: "「AにBを〜する」文",
            subtitle: "意味：〜に…をあげる／見せる／教える",
            goals: ["「人 + 物」の語順をマスターする", "give や show などの動詞の使い方を覚える", "書き換え（to や for を使う形）を理解する"]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "動詞", type: "red" },
                { text: "+", type: "text" },
                { text: "人", type: "blue" },
                { text: "+", type: "text" },
                { text: "物", type: "orange" }
            ],
            text: "「（人）に（物）を〜する」という、対象が2つある文の形です。",
            items: [
                { title: "語順が重要", desc: "必ず「人」が先で「物」が後にくる", icon: "arrow-right-left", color: "rose" },
                { title: "give / show", desc: "相手に何かが移動する動詞（tell, teachも）", icon: "gift", color: "blue" },
                { title: "buy / make", desc: "相手のために何かをする動詞", icon: "shopping-cart", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I gave a present my mother.",
            goodExample: "I gave <strong>my mother a present</strong>.",
            description: "「人に物を」の順番を逆にしてはいけません。逆にしたい場合は to や for が必要です。"
        },
        examples: [
            { engDisplay: 'My father <span class="text-red-600 font-bold">gave me this watch</span>.', engRead: "My father gave me this watch.", jp: "父は私にこの時計をくれました。", icon: "watch", color: "rose" },
            { engDisplay: 'She <span class="text-blue-600 font-bold">showed us some pictures</span>.', engRead: "She showed us some pictures.", jp: "彼女は私たちに何枚かの写真を見せてくれました。", icon: "image", color: "blue" },
            { engDisplay: 'He <span class="text-orange-600 font-bold">bought her a flower</span>.', engRead: "He bought her a flower.", jp: "彼は彼女に花を買ってあげました。", icon: "flower", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "I will (　　　) you my notebook.", options: ["show", "look", "see", "watch"], correctIndex: 0, explanation: "「あなたにノートを見せる」なのでshowを使います。" },
            { id: "qA2", subQuestion: "Mr. Tanaka teaches (　　　) English.", options: ["we", "our", "us", "ours"], correctIndex: 2, explanation: "動詞の後ろなので、目的格のus（私たちに）を置きます。" },
            { id: "qA3", subQuestion: "My mother made (　　　) a cake.", options: ["to me", "me", "for me", "I"], correctIndex: 1, explanation: "「動詞 ＋ 人 ＋ 物」の語順なので、直接meを置きます。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "私にあなたの辞書を貸してください。", sentenceParts: ["Please", "{slot}", "{slot}", "your dictionary."], words: ["lend", "me", "to me", "lent"], correctOrder: ["lend", "me"], explanation: "「人に物を貸す」は lend ＋ 人 ＋ 物 です。" },
            { id: "qB2", subQuestion: "彼は私に面白い話をしました。", sentenceParts: ["He", "{slot}", "{slot}", "a funny story."], words: ["told", "me", "tell", "to me"], correctOrder: ["told", "me"], explanation: "「人に話す」はtellを使います。過去形なのでtoldです。" },
            { id: "qB3", subQuestion: "彼女は私に素敵なバッグを買ってくれました。", sentenceParts: ["She", "{slot}", "{slot}", "a nice bag."], words: ["bought", "me", "buy", "for me"], correctOrder: ["bought", "me"], explanation: "「人に物を買う」は buy ＋ 人 ＋ 物 です。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "私は母に手紙を書きました。", words: ["I", "wrote", "my", "mother", "a", "letter"], explanation: "wrote ＋ 人（my mother）＋ 物（a letter）の順です。" },
            { id: "qC2", subQuestion: "その質問を私に教えてください。", words: ["Please", "tell", "me", "the", "answer"], explanation: "「教えて」は教える内容によって tell や teach を使い分けます。" }
        ],
        summary: ["基本は「動詞 ＋ 人 ＋ 物」の語順", "give, show, tell, teach などが代表的", "buy, make などもこの形をとれる"]
    },
    "infinitive-noun": {
        id: "infinitive-noun",
        grade: 2,
        menuTitle: "不定詞(1) 名詞的用法",
        intro: {
            title: "不定詞：名詞的用法",
            subtitle: "意味：〜すること",
            goals: ["「to + 動詞の原形」の形を覚える", "「〜すること」という訳し方をマスターする", "主語や目的語としての使い方を理解する"]
        },
        grammar: {
            formula: [
                { text: "to", type: "red" },
                { text: "+", type: "text" },
                { text: "動詞の原形", type: "blue" }
            ],
            text: "動詞を「〜すること」という名詞のカタマリに変える使い方です。",
            items: [
                { title: "目的語になる", desc: "want to 〜（〜したい）などの形でよく使う", icon: "heart", color: "rose" },
                { title: "主語になる", desc: "文の最初に置いて「〜することは…だ」と言う", icon: "star", color: "blue" },
                { title: "原形が鉄則", desc: "to の後は s や ed をつけない元の形", icon: "edit", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I like to playing soccer.",
            goodExample: "I like <strong>to play</strong> soccer.",
            description: "like to 〜 の後は必ず動詞の原形（play）にします。ing形と混ぜないよう注意。"
        },
        examples: [
            { engDisplay: 'I want <span class="text-red-600 font-bold">to be</span> a teacher.', engRead: "I want to be a teacher.", jp: "私は先生になりたいです。", icon: "user", color: "rose" },
            { engDisplay: '<span class="text-blue-600 font-bold">To speak</span> English is fun.', engRead: "To speak English is fun.", jp: "英語を話すことは楽しいです。", icon: "message-circle", color: "blue" },
            { engDisplay: 'He likes <span class="text-orange-600 font-bold">to cook</span> dinner.', engRead: "He likes to cook dinner.", jp: "彼は夕食を作ることが好きです。", icon: "utensils", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "I hope (　　　) you again.", options: ["see", "seeing", "to see", "saw"], correctIndex: 2, explanation: "hope to 〜 で「〜することを望む」という名詞的用法になります。" },
            { id: "qA2", subQuestion: "(　　　) tennis is my hobby.", options: ["To play", "Play", "Plays", "Played"], correctIndex: 0, explanation: "文の主語にするには「To ＋ 動詞の原形」の形にします。" },
            { id: "qA3", subQuestion: "She decided (　　　) a doctor.", options: ["become", "to become", "becoming", "became"], correctIndex: 1, explanation: "decide to 〜 で「〜することに決める」となります。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "私はピアノを弾くことが好きです。", sentenceParts: ["I like", "{slot}", "{slot}", "the piano."], words: ["to", "play", "playing", "plays"], correctOrder: ["to", "play"], explanation: "like to ＋ 原形で「〜することが好き」と表します。" },
            { id: "qB2", subQuestion: "あなたは将来、何になりたいですか？", sentenceParts: ["What do you", "{slot}", "{slot}", "{slot}", "in the future?"], words: ["want", "to", "be", "is"], correctOrder: ["want", "to", "be"], explanation: "「何になりたいか」は want to be を使います。" },
            { id: "qB3", subQuestion: "早く起きることは大切です。", sentenceParts: ["{slot}", "{slot}", "up early is important."], words: ["To", "get", "Getting", "Got"], correctOrder: ["To", "get"], explanation: "「起きること」を主語にするために To get とします。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "私の夢は世界を旅することです。", words: ["My", "dream", "is", "to", "travel", "around", "the", "world"], explanation: "「〜することです」は is to 〜 で表現できます。" },
            { id: "qC2", subQuestion: "彼らはテレビを見始めました。", words: ["They", "started", "to", "watch", "TV"], explanation: "start to 〜 で「〜し始める」となります。" }
        ],
        summary: ["不定詞の名詞的用法は「〜すること」と訳す", "want to / like to / hope to などでよく使われる", "文の主語（〜することは…だ）にもなれる"]
    },
    "infinitive-adjective": {
        id: "infinitive-adjective",
        grade: 2,
        menuTitle: "不定詞(2) 形容詞的用法",
        intro: {
            title: "不定詞：形容詞的な役割",
            subtitle: "意味：〜するための／〜すべき",
            goals: ["「名詞 + to + 原形」の語順を理解する", "前の名詞を詳しく説明する感覚をつかむ", "something to drink などの定番表現を覚える"]
        },
        grammar: {
            formula: [
                { text: "名詞", type: "box" },
                { text: "+", type: "text" },
                { text: "to", type: "red" },
                { text: "+", type: "text" },
                { text: "動詞の原形", type: "blue" }
            ],
            text: "直前の名詞を後ろから修飾して、「どんな（名詞）か」を詳しく説明します。",
            items: [
                { title: "後ろから説明", desc: "日本語と違い、to以下が名詞の後にくる（後置修飾）", icon: "arrow-left", color: "rose" },
                { title: "something 〜", desc: "something to eat（食べるもの）の形は超重要", icon: "utensils", color: "blue" },
                { title: "役割", desc: "「〜するための」や「〜すべき」と訳すとスムーズ", icon: "book-open", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I have to read many books.",
            goodExample: "I have <strong>many books to read</strong>.",
            description: "「読むべき本」と言いたい時は、名詞(books)をtoの前に置きます。have to（〜しなければならない）と混同しないように。"
        },
        examples: [
            { engDisplay: 'I want <span class="text-blue-600 font-bold">something to drink</span>.', engRead: "I want something to drink.", jp: "私は何か飲むものが欲しいです。", icon: "smile", color: "rose" },
            { engDisplay: 'He has <span class="text-blue-600 font-bold">a lot of homework to do</span>.', engRead: "He has a lot of homework to do.", jp: "彼にはやるべき宿題がたくさんあります。", icon: "edit", color: "blue" },
            { engDisplay: 'I have <span class="text-blue-600 font-bold">no time to watch</span> TV.', engRead: "I have no time to watch TV.", jp: "私にはテレビを見る時間がありません。", icon: "clock", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "I have a lot of things (　　　) today.", options: ["do", "doing", "to do", "done"], correctIndex: 2, explanation: "things（こと）を修飾して「すべきこと」とする不定詞です。" },
            { id: "qA2", subQuestion: "Give me something (　　　). I'm hungry.", options: ["to eat", "to drink", "eat", "drinking"], correctIndex: 0, explanation: "空腹（hungry）なので「食べるための何か」を選びます。" },
            { id: "qA3", subQuestion: "There are many places (　　　) in Kyoto.", options: ["visit", "visiting", "to visit", "visited"], correctIndex: 2, explanation: "places（場所）を修飾して「訪れるべき場所」となります。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "何か温かい飲み物が欲しいです。", sentenceParts: ["I want", "{slot}", "{slot}", "{slot}."], words: ["something", "hot", "to drink", "anything"], correctOrder: ["something", "hot", "to drink"], explanation: "something + 形容詞 + to不定詞 の語順に注意しましょう。" },
            { id: "qB2", subQuestion: "私には英語を勉強するための友達が必要です。", sentenceParts: ["I need", "{slot}", "{slot}", "{slot}", "English."], words: ["friends", "to", "study", "studied"], correctOrder: ["friends", "to", "study"], explanation: "「勉強するための友達」は friends to study です。" },
            { id: "qB3", subQuestion: "彼は書くためのペンを持っていません。", sentenceParts: ["He has", "{slot}", "{slot}", "{slot}."], words: ["no", "pen", "to write", "with"], correctOrder: ["no", "pen", "to write"], explanation: "「書くためのペン」という形容詞的用法です。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "あなたは何か話すことがありますか？", words: ["Do", "you", "have", "anything", "to", "talk", "about", "?"], explanation: "anything to talk about で「話すべきこと」となります。" },
            { id: "qC2", subQuestion: "私には今日、するべきことが何もありません。", words: ["I", "have", "nothing", "to", "do", "today"], explanation: "nothing to do で「することが何もない」という意味です。" }
        ],
        summary: ["「名詞 ＋ to ＋ 原形」で、後ろから名詞を詳しく説明する", "訳し方は「〜するための」「〜すべき」", "something hot to drink の語順（形容詞の位置）に注意"]
    },
    "infinitive-adverb-purpose": {
        id: "infinitive-adverb-purpose",
        grade: 2,
        menuTitle: "不定詞(3) 副詞的用法（目的）",
        intro: {
            title: "不定詞：目的を表す",
            subtitle: "意味：〜するために",
            goals: ["「〜するために」という目的の付け加え方を覚える", "文のメイン部分とのつながりを理解する", "go to ... to 〜 などのよく使うパターンを身につける"]
        },
        grammar: {
            formula: [
                { text: "文のメイン部分", type: "box" },
                { text: "+", type: "text" },
                { text: "to", type: "red" },
                { text: "+", type: "text" },
                { text: "動詞の原形", type: "blue" }
            ],
            text: "動作の理由や目的を説明するために、文の後ろに情報を付け足す使い方です。",
            items: [
                { title: "目的を説明", desc: "「なぜそこへ行ったのか？」などの理由を表す", icon: "help-circle", color: "rose" },
                { title: "置く場所", desc: "基本的には文の終わり（動詞の後ろ側）に置く", icon: "align-left", color: "blue" },
                { title: "副詞の役割", desc: "動詞（行く、勉強するなど）を詳しく説明する", icon: "fast-forward", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I went to the library for study English.",
            goodExample: "I went to the library <strong>to study</strong> English.",
            description: "「〜するために」と言う時は for ではなく to + 原形を使います。"
        },
        examples: [
            { engDisplay: 'I get up early <span class="text-red-600 font-bold">to cook</span> breakfast.', engRead: "I get up early to cook breakfast.", jp: "私は朝食を作るために早く起きます。", icon: "sun", color: "orange" },
            { engDisplay: 'He went to the park <span class="text-blue-600 font-bold">to play</span> soccer.', engRead: "He went to the park to play soccer.", jp: "彼はサッカーをするために公園へ行きました。", icon: "award", color: "blue" },
            { engDisplay: 'They use computers <span class="text-rose-600 font-bold">to study</span> math.', engRead: "They use computers to study math.", jp: "彼らは数学を勉強するためにコンピュータを使います。", icon: "monitor", color: "rose" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "I went to the kitchen (　　　) some water.", options: ["drink", "to drink", "drinking", "drank"], correctIndex: 1, explanation: "「水を飲むために」という目的を表す不定詞を選びます。" },
            { id: "qA2", subQuestion: "She studied hard (　　　) a doctor.", options: ["to become", "become", "becomes", "became"], correctIndex: 0, explanation: "「医者になるために」勉強した、という目的を付け加えます。" },
            { id: "qA3", subQuestion: "We use English (　　　) with people.", options: ["talk", "talking", "to talk", "talks"], correctIndex: 2, explanation: "「話すために」英語を使う、という副詞的用法です。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "彼は本を買うために本屋へ行きました。", sentenceParts: ["He went to the bookstore", "{slot}", "{slot}", "a book."], words: ["to", "buy", "buying", "for"], correctOrder: ["to", "buy"], explanation: "「〜するために」は to ＋ 原形で表します。" },
            { id: "qB2", subQuestion: "私はテニスをするために放課後残りました。", sentenceParts: ["I stayed after school", "{slot}", "{slot}", "tennis."], words: ["to", "play", "playing", "plays"], correctOrder: ["to", "play"], explanation: "動作の目的を後ろに付け足します。" },
            { id: "qB3", subQuestion: "母を助けるために家に帰りました。", sentenceParts: ["I went home", "{slot}", "{slot}", "my mother."], words: ["to", "help", "helping", "helped"], correctOrder: ["to", "help"], explanation: "「助けるために」という目的の不定詞です。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "彼女はカメラを買うためにお金を貯めています。", words: ["She", "is", "saving", "money", "to", "buy", "a", "camera"], explanation: "saving money（お金を貯めている）の後に目的を続けます。" },
            { id: "qC2", subQuestion: "私はあなたに会うためにここへ来ました。", words: ["I", "came", "here", "to", "see", "you"], explanation: "came here（ここに来た）＋ to see you（あなたに会うために）の順です。" }
        ],
        summary: ["不定詞の副詞的用法は「〜するために」と訳す", "動作を行う「目的」を説明する役割", "文のメイン部分の後ろに to ＋ 原形を置く"]
    },
    "infinitive-adverb-emotion": {
        id: "infinitive-adverb-emotion",
        grade: 2,
        menuTitle: "不定詞(4) 副詞的用法（感情の原因）",
        intro: {
            title: "不定詞：感情の理由",
            subtitle: "意味：〜して（嬉しい、驚くなど）",
            goals: ["感情を表す形容詞との組み合わせを覚える", "「〜して…だ」という心の動きを表現する", "happy, glad, sorry などの定番語句をマスターする"]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "be動詞", type: "text" },
                { text: "+", type: "text" },
                { text: "感情の形容詞", type: "red" },
                { text: "+", type: "text" },
                { text: "to", type: "red" },
                { text: "+", type: "text" },
                { text: "動詞の原形", type: "blue" }
            ],
            text: "なぜそのような気持ちになったのか、その「原因」を不定詞で説明します。",
            items: [
                { title: "感情の単語", desc: "happy, glad, sad, surprised, sorry などがくる", icon: "smile", color: "rose" },
                { title: "訳し方のコツ", desc: "「〜して（嬉しい）」のように、原因から先に訳すと自然", icon: "message-circle", color: "blue" },
                { title: "セットで覚える", icon: "link", color: "orange", desc: "I am happy to meet you.（会えて嬉しい）は超定番" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I am happy to meeting you.",
            goodExample: "I am happy <strong>to meet</strong> you.",
            description: "「会えて」という原因も、不定詞(to + 原形)の形を崩してはいけません。"
        },
        examples: [
            { engDisplay: 'I am <span class="text-rose-600 font-bold">happy to see</span> you.', engRead: "I am happy to see you.", jp: "あなたに会えて嬉しいです。", icon: "smile", color: "rose" },
            { engDisplay: 'She was <span class="text-blue-600 font-bold">surprised to hear</span> the news.', engRead: "She was surprised to hear the news.", jp: "彼女はそのニュースを聞いて驚きました。", icon: "message-circle", color: "blue" },
            { engDisplay: 'I am <span class="text-orange-600 font-bold">sorry to be</span> late.', engRead: "I am sorry to be late.", jp: "遅れてしまってすみません（遅れて残念に思う）。", icon: "clock", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "We were very glad (　　　) your letter.", options: ["receive", "to receive", "receiving", "received"], correctIndex: 1, explanation: "glad（嬉しい）の原因を「受け取って」と不定詞で説明します。" },
            { id: "qA2", subQuestion: "I was sad (　　　) the movie.", options: ["to watch", "watch", "watches", "watched"], correctIndex: 0, explanation: "「見て（悲しかった）」という感情の原因を表す不定詞です。" },
            { id: "qA3", subQuestion: "He was (　　　) to win the game.", options: ["happy", "happily", "happiness", "happier"], correctIndex: 0, explanation: "to不定詞の前に来るのは「感情を表す形容詞」です。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "その話を聞いて驚きました。", sentenceParts: ["I was", "{slot}", "{slot}", "{slot}", "the story."], words: ["surprised", "to", "hear", "hearing"], correctOrder: ["surprised", "to", "hear"], explanation: "感情(surprised) + 不定詞(to hear) の順です。" },
            { id: "qB2", subQuestion: "あなたにまた会えて嬉しいです。", sentenceParts: ["I am", "{slot}", "{slot}", "{slot}", "you again."], words: ["glad", "to", "see", "seen"], correctOrder: ["glad", "to", "see"], explanation: "glad to see you は「会えて嬉しい」の決まり文句です。" },
            { id: "qB3", subQuestion: "その知らせを知って悲しいです。", sentenceParts: ["I am", "{slot}", "{slot}", "{slot}", "the news."], words: ["sad", "to", "know", "knowing"], correctOrder: ["sad", "to", "know"], explanation: "「知って悲しい」という感情の原因を表します。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "彼女はあなたに会えてとても幸せでした。", words: ["She", "was", "very", "happy", "to", "meet", "you"], explanation: "感情を表す形容詞の後に to + 原形を続けます。" },
            { id: "qC2", subQuestion: "ご迷惑をおかけしてすみません。", words: ["I", "am", "sorry", "to", "trouble", "you"], explanation: "sorry to 〜 で「〜して申し訳ない」という定型表現です。" }
        ],
        summary: ["感情を表す単語（happy, glad等）＋ to ＋ 原形", "意味は「〜して（嬉しい、驚くなど）」", "感情が湧き上がった「原因」を後ろから説明する"]
    },
    "future-will": {
        id: "future-will",
        grade: 2,
        menuTitle: "未来形 will",
        intro: {
            title: "助動詞 will",
            subtitle: "意味：〜するつもりだ／〜でしょう",
            goals: ["will の基本形（will + 原形）を覚える", "「その場での決心」や「予測」の表現を学ぶ", "be going to との違いを理解する"]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "will", type: "red" },
                { text: "+", type: "text" },
                { text: "動詞の原形", type: "blue" }
            ],
            text: "未来のことを表す助動詞です。主語に関わらず、後ろの動詞は必ず「原形」になります。",
            items: [
                { title: "意志", desc: "「（その場で決めて）〜するよ」という強い意志", icon: "zap", color: "orange" },
                { title: "推量", desc: "「（おそらく）〜だろう」という未来の予測", icon: "cloud-sun", color: "blue" },
                { title: "短縮形", desc: "I will → I'll, He will → He'll のように短縮される", icon: "scissors", color: "rose" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I will plays soccer tomorrow.",
            goodExample: "I will <strong>play</strong> soccer tomorrow.",
            description: "will は助動詞（canなどと同じ仲間）なので、後ろの動詞に s や ed をつけてはいけません。"
        },
        examples: [
            { engDisplay: 'I <span class="text-red-600 font-bold">will help</span> you.', engRead: "I will help you.", jp: "私があなたを手伝いましょう（手伝うよ）。", icon: "smile", color: "rose" },
            { engDisplay: 'It <span class="text-blue-600 font-bold">will be</span> sunny tomorrow.', engRead: "It will be sunny tomorrow.", jp: "明日は晴れるでしょう。", icon: "sun", color: "orange" },
            { engDisplay: 'We <span class="text-orange-600 font-bold">will visit</span> Okinawa next month.', engRead: "We will visit Okinawa next month.", jp: "私たちは来月、沖縄を訪れるつもりです。", icon: "map-pin", color: "blue" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "He (　　　) arrive here soon.", options: ["will", "is", "be", "do"], correctIndex: 0, explanation: "未来の予測「〜するだろう」なので will を使います。" },
            { id: "qA2", subQuestion: "I will (　　　) my best.", options: ["do", "does", "did", "doing"], correctIndex: 0, explanation: "助動詞 will の後は必ず動詞の原形です。" },
            { id: "qA3", subQuestion: "The movie (　　　) start at seven.", options: ["will", "going to", "is", "will be"], correctIndex: 0, explanation: "未来の予測を表す will を使い、動詞は原形 start にします。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "私は今夜、手紙を書くつもりです。", sentenceParts: ["I", "{slot}", "{slot}", "a letter tonight."], words: ["will", "write", "writes", "going"], correctOrder: ["will", "write"], explanation: "「〜するつもり」という意志を will + 原形で表します。" },
            { id: "qB2", subQuestion: "明日は寒くなるでしょう。", sentenceParts: ["It", "{slot}", "{slot}", "cold tomorrow."], words: ["will", "be", "is", "get"], correctOrder: ["will", "be"], explanation: "「〜になるだろう」は will be を使います。" },
            { id: "qB3", subQuestion: "彼女はすぐに戻ってきます。", sentenceParts: ["She", "{slot}", "{slot}", "back soon."], words: ["will", "come", "comes", "be"], correctOrder: ["will", "come"], explanation: "未来の動作を表す will を使い、動詞は原形にします。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "私が窓を開けましょう。", words: ["I", "will", "open", "the", "window"], explanation: "その場で決めた意志（〜しましょう）は will で表現します。" },
            { id: "qC2", subQuestion: "あなたは有名な歌手になるでしょう。", words: ["You", "will", "be", "a", "famous", "singer"], explanation: "未来の予測「〜になるだろう」は will be 〜 です。" }
        ],
        summary: ["will ＋ 動詞の原形で「〜するつもり／〜だろう」", "主語が何であっても動詞は原形", "その場での決心や、根拠に基づかない予測に使う"]
    },
    "will-negative-and-question": {
        id: "will-negative-and-question",
        grade: 2,
        menuTitle: "willの否定文・疑問文",
        intro: {
            title: "willの否定と疑問",
            subtitle: "意味：〜しないだろう／〜してくれますか",
            goals: ["否定形 won't (will not) を使いこなす", "疑問文の語順（Will + 主語）をマスターする", "依頼と予測の答え方を練習する"]
        },
        grammar: {
            formula: [
                { text: "否定：won't", type: "red" },
                { text: "+ 原形", type: "text" },
                { text: " / ", type: "text" },
                { text: "疑問：Will + 主語", type: "blue" },
                { text: "+ 原形", type: "text" }
            ],
            text: "否定文では not を入れ、疑問文では Will を主語の前に出します。どちらも動詞は「原形」です。",
            items: [
                { title: "否定 (won't)", desc: "「〜しないだろう」「〜しないつもりだ」", icon: "minus-circle", color: "rose" },
                { title: "疑問 (Will ...?)", desc: "「〜でしょうか」または「〜してくれますか」", icon: "help-circle", color: "blue" },
                { title: "答え方", desc: "Yes, ~ will. / No, ~ won't. で答える", icon: "message-square", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "Will you helping me? / I will not plays.",
            goodExample: "Will you <strong>help</strong> me? / I <strong>won't play</strong>.",
            description: "否定でも疑問でも、willがある文の動詞は常に「原形」であることを忘れないでください。"
        },
        examples: [
            { engDisplay: 'I <span class="text-red-600 font-bold">won\'t forget</span> your help.', engRead: "I won't forget your help.", jp: "あなたの助けを忘れません。", icon: "smile", color: "rose" },
            { engDisplay: '<span class="text-blue-600 font-bold">Will it be</span> cold tomorrow?', engRead: "Will it be cold tomorrow?", jp: "明日は寒くなるでしょうか？", icon: "thermometer", color: "blue" },
            { engDisplay: '<span class="text-orange-600 font-bold">Will you close</span> the window?', engRead: "Will you close the window?", jp: "窓を閉めてくれませんか？", icon: "door-closed", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "(　　　) you show me your picture?", options: ["Will", "Do", "Are", "Is"], correctIndex: 0, explanation: "相手に依頼（見せてくれませんか）をするので Will を使います。" },
            { id: "qA2", subQuestion: "It (　　　) rain this evening.", options: ["won't", "isn't", "not will", "won't be"], correctIndex: 0, explanation: "「降らないだろう」という未来の否定予測は won't + 原形です。" },
            { id: "qA3", subQuestion: "Will he come soon? --- No, he (　　　).", options: ["won't", "doesn't", "isn't", "not"], correctIndex: 0, explanation: "Will の疑問文には won't (will not) で答えます。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "私はその秘密を誰にも言わないつもりです。", sentenceParts: ["I", "{slot}", "{slot}", "anyone the secret."], words: ["won't", "tell", "tell not", "will"], correctOrder: ["won't", "tell"], explanation: "「〜しないつもり」という強い意志の否定は won't です。" },
            { id: "qB2", subQuestion: "手伝ってくれませんか？ --- もちろん。", sentenceParts: ["{slot}", "you", "{slot}", "me? --- Sure."], words: ["Will", "help", "Do", "helping"], correctOrder: ["Will", "help"], explanation: "依頼の Will you + 原形 の形です。" },
            { id: "qB3", subQuestion: "明日は晴れないでしょう。", sentenceParts: ["It", "{slot}", "{slot}", "sunny tomorrow."], words: ["won't", "be", "not", "is"], correctOrder: ["won't", "be"], explanation: "未来の状態の否定は won't be を使います。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "あなたは明日、暇でしょうか？", words: ["Will", "you", "be", "free", "tomorrow", "?"], explanation: "未来の状態を尋ねる疑問文の語順です。" },
            { id: "qC2", subQuestion: "彼らはパーティーに来ないでしょう。", words: ["They", "won't", "come", "to", "the", "party"], explanation: "won't ＋ 動詞の原形を置きます。" }
        ],
        summary: ["否定は won't + 原形（〜しないだろう）", "疑問は Will + 主語 + 原形？（〜でしょうか／〜してくれますか）", "答え方は will / won't を使って短く答える"]
    },
    "have-to": {
        id: "have-to",
        grade: 2,
        menuTitle: "have to (義務)",
        intro: {
            title: "have to / has to",
            subtitle: "意味：〜しなければならない",
            goals: ["have to + 動詞の原形の形を覚える", "主語による have と has の使い分けを理解する", "「義務」を表す表現をマスターする"]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "have / has to", type: "red" },
                { text: "+", type: "text" },
                { text: "動詞の原形", type: "blue" }
            ],
            text: "「〜する必要がある」「〜しなければならない」という義務や必要性を表します。",
            items: [
                { title: "has to", desc: "主語が三人称単数（he, she, Tanaka-san等）の時に使う", icon: "user", color: "rose" },
                { title: "動詞の原形", desc: "to の後ろの動詞は常に元の形にする", icon: "edit", color: "blue" },
                { title: "must との入れ替え", desc: "助動詞 must とほぼ同じ意味で使える", icon: "refresh-cw", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "He have to study math.",
            goodExample: "He <strong>has to study</strong> math.",
            description: "主語が三人称単数のときは have ではなく has を使う点に注意しましょう。"
        },
        examples: [
            { engDisplay: 'I <span class="text-red-600 font-bold">have to go</span> home now.', engRead: "I have to go home now.", jp: "私はもう家に帰らなければなりません。", icon: "home", color: "rose" },
            { engDisplay: 'She <span class="text-blue-600 font-bold">has to help</span> her mother.', engRead: "She has to help her mother.", jp: "彼女は母親を手伝わなければなりません。", icon: "smile", color: "blue" },
            { engDisplay: 'We <span class="text-orange-600 font-bold">have to wash</span> the dishes.', engRead: "We have to wash the dishes.", jp: "私たちは皿を洗わなければなりません。", icon: "utensils", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "I (　　　) to study for the test.", options: ["have", "has", "must", "am"], correctIndex: 0, explanation: "I が主語なので have to を使います。" },
            { id: "qA2", subQuestion: "Ken (　　　) to practice the piano.", options: ["have", "has", "do", "is"], correctIndex: 1, explanation: "Ken は三人称単数なので has to になります。" },
            { id: "qA3", subQuestion: "You have to (　　　) early.", options: ["get up", "gets up", "got up", "getting up"], correctIndex: 0, explanation: "to の後は動詞の原形です。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "彼は明日、早く起きなければなりません。", sentenceParts: ["He", "{slot}", "{slot}", "up early tomorrow."], words: ["has", "to get", "have", "gets"], correctOrder: ["has", "to get"], explanation: "主語がHeなのでhas toを使います。" },
            { id: "qB2", subQuestion: "私は靴を脱がなければなりませんか？", sentenceParts: ["Do I", "{slot}", "{slot}", "off my shoes?"], words: ["have", "to take", "has", "take"], correctOrder: ["have", "to take"], explanation: "疑問文でも have to ＋ 原形の形は変わりません。" },
            { id: "qB3", subQuestion: "私たちは今日、学校へ行かなければなりません。", sentenceParts: ["We", "{slot}", "{slot}", "to school today."], words: ["have", "to go", "has", "go"], correctOrder: ["have", "to go"], explanation: "「〜しなければならない」は have to ＋ 原形です。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "あなたはここで待たなければなりません。", words: ["You", "have", "to", "wait", "here"], explanation: "have to + 動詞の原形の語順です。" },
            { id: "qC2", subQuestion: "彼女は今、昼食を作らなければなりません。", words: ["She", "has", "to", "make", "lunch", "now"], explanation: "三人称単数のhasを忘れずに使いましょう。" }
        ],
        summary: ["have to / has to ＋ 動詞の原形で「〜しなければならない」", "主語が三人称単数のときは has to を使う", "客観的な必要性や義務を表す"]
    },
    "have-to-negative-and-question": {
        id: "have-to-negative-and-question",
        grade: 2,
        menuTitle: "have to の否定文・疑問文",
        intro: {
            title: "have to の否定と疑問",
            subtitle: "意味：〜する必要はない／〜しなければなりませんか",
            goals: ["don't have to（〜する必要はない）の意味を覚える", "疑問文の作り方（Do/Does + 主語 + have to）をマスターする", "否定文での「禁止（must not）」との違いを理解する"]
        },
        grammar: {
            formula: [
                { text: "否定：don't/doesn't", type: "red" },
                { text: "have to", type: "text" },
                { text: " / ", type: "text" },
                { text: "疑問：Do/Does + 主語", type: "blue" },
                { text: "have to", type: "text" }
            ],
            text: "一般動詞と同じように do / does を使って否定文や疑問文を作ります。三人称単数でも否定・疑問では have に戻ります。",
            items: [
                { title: "don't have to", desc: "「〜する必要はない（しなくてもよい）」という意味になる", icon: "slash", color: "rose" },
                { title: "疑問文", desc: "Do / Does を文頭に置く。答えは Yes, I do. / No, I don't. など", icon: "help-circle", color: "blue" },
                { title: "s の脱落", desc: "does を使うときは has ではなく have に戻る", icon: "refresh-cw", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "Does he has to go? / You must not have to go.",
            goodExample: "Does he <strong>have to</strong> go? / You <strong>don't have to</strong> go.",
            description: "否定文 don't have to は「禁止（ダメ）」ではなく「不要（しなくていい）」という意味になるのが最大のポイントです。"
        },
        examples: [
            { engDisplay: 'You <span class="text-red-600 font-bold">don\'t have to hurry</span>.', engRead: "You don't have to hurry.", jp: "急ぐ必要はありません。", icon: "zap-off", color: "rose" },
            { engDisplay: '<span class="text-blue-600 font-bold">Does she have to</span> cook tonight?', engRead: "Does she have to cook tonight?", jp: "彼女は今夜、料理をしなければなりませんか？", icon: "utensils", color: "blue" },
            { engDisplay: 'He <span class="text-orange-600 font-bold">doesn\'t have to wash</span> the car.', engRead: "He doesn't have to wash the car.", jp: "彼は車を洗う必要はありません。", icon: "truck", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "You (　　　) have to come tomorrow. You can rest.", options: ["don't", "doesn't", "not", "must not"], correctIndex: 0, explanation: "「（休めるから）来る必要はない」とするには don't have to です。" },
            { id: "qA2", subQuestion: "(　　　) he have to study now?", options: ["Do", "Does", "Is", "Has"], correctIndex: 1, explanation: "主語がheの疑問文なので Does を使い、has は have に戻します。" },
            { id: "qA3", subQuestion: "Do I have to do this? --- No, you (　　　).", options: ["don't", "doesn't", "mustn't", "haven't"], correctIndex: 0, explanation: "Do で聞かれたら do / don't で答えます。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "彼女は今日、働く必要はありません。", sentenceParts: ["She", "{slot}", "{slot}", "{slot}", "today."], words: ["doesn't", "have", "to work", "has"], correctOrder: ["doesn't", "have", "to work"], explanation: "「〜する必要はない」は doesn't have to + 原形です。" },
            { id: "qB2", subQuestion: "私たちは靴を脱がなければなりませんか？", sentenceParts: ["{slot}", "we", "{slot}", "{slot}", "off our shoes?"], words: ["Do", "have", "to take", "Does"], correctOrder: ["Do", "have", "to take"], explanation: "Do + 主語 + have to 〜? の語順です。" },
            { id: "qB3", subQuestion: "あなたはそれを買う必要はありません。", sentenceParts: ["You", "{slot}", "{slot}", "{slot}", "it."], words: ["don't", "have", "to buy", "buy"], correctOrder: ["don't", "have", "to buy"], explanation: "don't have to で「不必要」を表します。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "彼は明日、ここに来なければなりませんか？", words: ["Does", "he", "have", "to", "come", "here", "tomorrow", "?"], explanation: "Does で始めたら have to (has ではない) を使います。" },
            { id: "qC2", subQuestion: "あなたは何も言う必要はありません。", words: ["You", "don't", "have", "to", "say", "anything"], explanation: "don't have to say anything で「何も言う必要はない」となります。" }
        ],
        summary: ["don't have to ＝ 〜する必要はない（不要）", "Do/Does ＋ 主語 ＋ have to 〜? ＝ 〜しなければなりませんか（疑問）", "否定文・疑問文では三人称単数でも have を使う"]
    },
    "auxiliary-must": {
        id: "auxiliary-must",
        grade: 2,
        menuTitle: "助動詞 must (義務)",
        intro: {
            title: "助動詞 must",
            subtitle: "意味：〜しなければならない",
            goals: ["must の基本形（must + 原形）を覚える", "have to とのニュアンスの違いを理解する", "話し手の強い意志や圧力を表現する"]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "must", type: "red" },
                { text: "+", type: "text" },
                { text: "動詞の原形", type: "blue" }
            ],
            text: "強い義務や命令を表す助動詞です。have to よりも「どうしても〜すべきだ」という強制力が強くなります。",
            items: [
                { title: "助動詞のルール", desc: "主語が誰でも形は変わらず、後ろは必ず原形", icon: "shield-check", color: "rose" },
                { title: "強い義務", desc: "規則や法律、または話し手の強い命令を表す", icon: "alert-circle", color: "orange" },
                { title: "書き換え", desc: "多くの場合 have to / has to で書き換えが可能", icon: "refresh-cw", color: "blue" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "You must to go home.",
            goodExample: "You <strong>must go</strong> home.",
            description: "must は助動詞なので、to をつけてはいけません。直接動詞の原形を置きます。"
        },
        examples: [
            { engDisplay: 'You <span class="text-red-600 font-bold">must be</span> quiet here.', engRead: "You must be quiet here.", jp: "ここでは静かにしなければなりません。", icon: "volume-x", color: "rose" },
            { engDisplay: 'I <span class="text-blue-600 font-bold">must finish</span> my homework.', engRead: "I must finish my homework.", jp: "私は宿題を終わらせなければなりません。", icon: "edit", color: "blue" },
            { engDisplay: 'We <span class="text-orange-600 font-bold">must help</span> each other.', engRead: "We must help each other.", jp: "私たちは互いに助け合わなければなりません。", icon: "users", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "You (　　　) follow the rules.", options: ["must", "has to", "are", "must to"], correctIndex: 0, explanation: "義務を表す助動詞 must を使います。to は不要です。" },
            { id: "qA2", subQuestion: "She must (　　　) early tomorrow.", options: ["gets up", "get up", "got up", "getting up"], correctIndex: 1, explanation: "must の後は必ず動詞の原形です。" },
            { id: "qA3", subQuestion: "We (　　　) study hard.", options: ["must", "have", "are", "musts"], correctIndex: 0, explanation: "助動詞に s がつくことはありません。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "あなたは今日、そこへ行かなければなりません。", sentenceParts: ["You", "{slot}", "{slot}", "there today."], words: ["must", "go", "to go", "goes"], correctOrder: ["must", "go"], explanation: "must + 動詞の原形の形にします。" },
            { id: "qB2", subQuestion: "私は今、寝なければなりません。", sentenceParts: ["I", "{slot}", "{slot}", "now."], words: ["must", "sleep", "must to", "sleeping"], correctOrder: ["must", "sleep"], explanation: "「〜しなければならない」という強い義務です。" },
            { id: "qB3", subQuestion: "彼は車を運転する時、注意しなければなりません。", sentenceParts: ["He", "{slot}", "{slot}", "careful when he drives."], words: ["must", "be", "is", "was"], correctOrder: ["must", "be"], explanation: "状態（〜である）を表す場合は must be とします。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "あなたは靴を脱がなければなりません。", words: ["You", "must", "take", "off", "your", "shoes"], explanation: "must + 動詞の原形（take off）の順です。" },
            { id: "qC2", subQuestion: "私たちはこの川を守らなければなりません。", words: ["We", "must", "protect", "this", "river"], explanation: "主語 + must + 動詞の原形を並べます。" }
        ],
        summary: ["must ＋ 動詞の原形で「〜しなければならない」", "have to よりも強制力が強い響きがある", "主語が何であっても形は変わらない"]
    },
    "must-negative-and-question": {
        id: "must-negative-and-question",
        grade: 2,
        menuTitle: "must の否定文・疑問文",
        intro: {
            title: "must の否定と疑問",
            subtitle: "意味：〜してはいけない／〜すべきですか",
            goals: ["禁止を表す must not (mustn't) をマスターする", "疑問文 Must ~? とその答え方を覚える", "don't have to との意味の違いを理解する"]
        },
        grammar: {
            formula: [
                { text: "否定：must not", type: "red" },
                { text: "+ 原形", type: "text" },
                { text: " / ", type: "text" },
                { text: "疑問：Must + 主語", type: "blue" },
                { text: "+ 原形", type: "text" }
            ],
            text: "否定文は「強い禁止」、疑問文は「義務の確認」を表します。助動詞なので主語の前に Must を出します。",
            items: [
                { title: "must not", desc: "「〜してはいけない」という強い禁止を表す", icon: "slash", color: "rose" },
                { title: "Must ~?", desc: "「〜しなければなりませんか」と義務を尋ねる", icon: "help-circle", color: "blue" },
                { title: "Noの答え方", desc: "No, you don't have to.（その必要はない）と答えるのが一般的", icon: "message-square", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "You must not to run. / Must you running?",
            goodExample: "You <strong>must not run</strong>. / <strong>Must you go</strong>?",
            description: "must not は「〜する必要はない」ではなく「〜してはダメ！」という強い禁止です。to は不要です。"
        },
        examples: [
            { engDisplay: 'You <span class="text-red-600 font-bold">must not use</span> your phone here.', engRead: "You must not use your phone here.", jp: "ここで電話を使ってはいけません。", icon: "phone-off", color: "rose" },
            { engDisplay: '<span class="text-blue-600 font-bold">Must I finish</span> this today?', engRead: "Must I finish this today?", jp: "私は今日、これを終わらせなければなりませんか？", icon: "calendar", color: "blue" },
            { engDisplay: 'We <span class="text-orange-600 font-bold">mustn\'t forget</span> our promise.', engRead: "We mustn't forget our promise.", jp: "私たちは約束を忘れてはいけません。", icon: "lock", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "You (　　　) eat too much candy. It's bad for you.", options: ["must not", "don't have to", "must", "not must"], correctIndex: 0, explanation: "「食べてはいけない」という禁止なので must not を選びます。" },
            { id: "qA2", subQuestion: "Must I go there? --- No, you (　　　).", options: ["don't have to", "mustn't", "not must", "doesn't have to"], correctIndex: 0, explanation: "Must I ~? への否定の答えは「しなくてよい」という意味の don't have to が自然です。" },
            { id: "qA3", subQuestion: "(　　　) we be quiet in the library?", options: ["Must", "Do", "Are", "Will"], correctIndex: 0, explanation: "「静かにしなければなりませんか」という義務を尋ねる Must を使います。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "ここで泳いではいけません。", sentenceParts: ["You", "{slot}", "{slot}", "here."], words: ["must", "not swim", "don't", "swimming"], correctOrder: ["must", "not swim"], explanation: "「〜してはいけない」は must not ＋ 原形です。" },
            { id: "qB2", subQuestion: "私は今、行かなければなりませんか？", sentenceParts: ["{slot}", "I", "{slot}", "now?"], words: ["Must", "go", "Do", "going"], correctOrder: ["Must", "go"], explanation: "Must ＋ 主語 ＋ 原形の語順にします。" },
            { id: "qB3", subQuestion: "嘘をついてはいけません。", sentenceParts: ["You", "{slot}", "{slot}", "lies."], words: ["must", "not tell", "don't", "telling"], correctOrder: ["must", "not tell"], explanation: "強い禁止を表す must not を使います。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "このボタンを押してはいけません。", words: ["You", "must", "not", "push", "this", "button"], explanation: "must not ＋ 動詞の原形を並べます。" },
            { id: "qC2", subQuestion: "私たちはそこへ行かなければなりませんか？", words: ["Must", "we", "go", "there", "?"], explanation: "義務を確認する疑問文の形です。" }
        ],
        summary: ["must not ＝ 〜してはいけない（禁止）", "Must ＋ 主語 ＋ 原形？ ＝ 〜しなければなりませんか", "疑問への答えが「いいえ」なら No, you don't have to."]
    },
    "auxiliary-may": {
        id: "auxiliary-may",
        grade: 2,
        menuTitle: "助動詞 may",
        intro: {
            title: "助動詞 may",
            subtitle: "意味：〜してもよい／〜かもしれない",
            goals: ["「許可」と「推量」の2つの意味を理解する", "May I ~? を使った丁寧な依頼を覚える", "助動詞の基本（後ろは原形）を再確認する"]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "may", type: "red" },
                { text: "+", type: "text" },
                { text: "動詞の原形", type: "blue" }
            ],
            text: "「〜してもよい」という許可と、「〜かもしれない」という推測を表します。canよりも丁寧で、可能性は少し低めなニュアンスです。",
            items: [
                { title: "許可", desc: "May I ~? で「〜してもよろしいですか」と丁寧に尋ねる", icon: "user-check", color: "rose" },
                { title: "推量", desc: "「（ひょっとすると）〜かもしれない」という控えめな予想", icon: "help-circle", color: "blue" },
                { title: "否定形", desc: "may not で「〜してはいけない」または「〜ではないかも」", icon: "slash", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "May I helping you?",
            goodExample: "May I <strong>help</strong> you?",
            description: "may の後ろも必ず「動詞の原形」です。進行形や過去形にしないよう注意しましょう。"
        },
        examples: [
            { engDisplay: '<span class="text-red-600 font-bold">May I come</span> in?', engRead: "May I come in?", jp: "入ってもよろしいですか？", icon: "log-in", color: "rose" },
            { engDisplay: 'It <span class="text-blue-600 font-bold">may rain</span> tonight.', engRead: "It may rain tonight.", jp: "今夜は雨が降るかもしれません。", icon: "cloud-rain", color: "blue" },
            { engDisplay: 'He <span class="text-orange-600 font-bold">may be</span> busy now.', engRead: "He may be busy now.", jp: "彼は今、忙しいかもしれません。", icon: "clock", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "(　　　) I use your pen? --- Sure.", options: ["May", "Must", "Do", "Are"], correctIndex: 0, explanation: "相手に丁寧に許可を求めているので May を使います。" },
            { id: "qA2", subQuestion: "She may (　　　) late for the meeting.", options: ["be", "is", "was", "being"], correctIndex: 0, explanation: "may の後は動詞の原形なので be を置きます。" },
            { id: "qA3", subQuestion: "That story (　　　) be true.", options: ["may", "is", "can't", "must to"], correctIndex: 0, explanation: "「本当かもしれない」という推測の表現です。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "あなたの名前を伺ってもよろしいですか？", sentenceParts: ["{slot}", "I", "{slot}", "your name?"], words: ["May", "ask", "Do", "asking"], correctOrder: ["May", "ask"], explanation: "丁寧な質問の形 May I + 原形 です。" },
            { id: "qB2", subQuestion: "彼女は明日、ここに来るかもしれません。", sentenceParts: ["She", "{slot}", "{slot}", "here tomorrow."], words: ["may", "come", "comes", "be"], correctOrder: ["may", "come"], explanation: "「〜かもしれない」という推測の may + 原形です。" },
            { id: "qB3", subQuestion: "窓を開けてもいいですか？", sentenceParts: ["{slot}", "I", "{slot}", "the window?"], words: ["May", "open", "opening", "Can't"], correctOrder: ["May", "open"], explanation: "許可を求める丁寧な表現です。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "ここで写真を撮ってもいいですか？", words: ["May", "I", "take", "pictures", "here", "?"], explanation: "May I ＋ 動詞の原形 の語順にします。" },
            { id: "qC2", subQuestion: "そのニュースは本当ではないかもしれません。", words: ["The", "news", "may", "not", "be", "true"], explanation: "推測の否定は may の後に not を置きます。" }
        ],
        summary: ["May I ~? で「〜してもよいですか」という丁寧な許可", "「〜かもしれない」という可能性（推量）を表す", "助動詞なので後ろは常に動詞の原形"]
    },
    "auxiliary-should": {
        id: "auxiliary-should",
        grade: 2,
        menuTitle: "助動詞 should",
        intro: {
            title: "助動詞 should",
            subtitle: "意味：〜すべきだ／〜したほうがよい",
            goals: ["「〜すべきだ」というアドバイスの表現を覚える", "must ほど強くない、マイルドな義務を理解する", "否定形 should not (shouldn't) をマスターする"]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "should", type: "red" },
                { text: "+", type: "text" },
                { text: "動詞の原形", type: "blue" }
            ],
            text: "相手にアドバイスをしたり、「そうするのが当然だ」というマイルドな義務を伝えたりするときに使います。",
            items: [
                { title: "アドバイス", desc: "「〜したほうがいいよ」と親切に勧める", icon: "message-circle", color: "rose" },
                { title: "否定 (shouldn't)", desc: "「〜すべきではない」とたしなめる", icon: "slash", color: "blue" },
                { title: "強さのイメージ", desc: "must（絶対） ＞ should（すべき・おすすめ）", icon: "activity", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "You should to study English.",
            goodExample: "You <strong>should study</strong> English.",
            description: "should も助動詞なので、後ろに to を置いてはいけません。直接動詞の原形を置きます。"
        },
        examples: [
            { engDisplay: 'You <span class="text-red-600 font-bold">should go</span> to bed early.', engRead: "You should go to bed early.", jp: "あなたは早く寝るべきです（寝たほうがいいですよ）。", icon: "moon", color: "rose" },
            { engDisplay: 'We <span class="text-blue-600 font-bold">should help</span> him.', engRead: "We should help him.", jp: "私たちは彼を助けるべきです。", icon: "smile", color: "blue" },
            { engDisplay: 'You <span class="text-orange-600 font-bold">shouldn\'t eat</span> too much.', engRead: "You shouldn't eat too much.", jp: "食べ過ぎてはいけません（食べ過ぎるべきではありません）。", icon: "utensils", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "You (　　　) be kind to old people.", options: ["should", "should to", "are", "do"], correctIndex: 0, explanation: "「〜すべきだ」というアドバイスの should を使います。" },
            { id: "qA2", subQuestion: "You shouldn't (　　　) late for school.", options: ["be", "is", "was", "being"], correctIndex: 0, explanation: "否定文でも should の後ろは動詞の原形 be を使います。" },
            { id: "qA3", subQuestion: "(　　　) I call him now?", options: ["Should", "Do", "Am", "Will to"], correctIndex: 0, explanation: "「今彼に電話すべき（したほうがいい）ですか？」と尋ねる文です。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "あなたはもっと野菜を食べるべきです。", sentenceParts: ["You", "{slot}", "{slot}", "more vegetables."], words: ["should", "eat", "eats", "to eat"], correctOrder: ["should", "eat"], explanation: "should ＋ 動詞の原形でアドバイスを表します。" },
            { id: "qB2", subQuestion: "私たちは毎日英語を練習すべきです。", sentenceParts: ["We", "{slot}", "{slot}", "English every day."], words: ["should", "practice", "practices", "should to"], correctOrder: ["should", "practice"], explanation: "「〜すべき」は should ＋ 原形です。" },
            { id: "qB3", subQuestion: "ここで走ってはいけません（すべきではない）。", sentenceParts: ["You", "{slot}", "{slot}", "here."], words: ["should", "not run", "should to", "not running"], correctOrder: ["should", "not run"], explanation: "「すべきでない」は should not (shouldn't) を使います。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "あなたは医者に診てもらうべきです。", words: ["You", "should", "see", "a", "doctor"], explanation: "should ＋ 動詞の原形（see）の語順です。" },
            { id: "qC2", subQuestion: "私は何を買うべきですか？", words: ["What", "should", "I", "buy", "?"], explanation: "疑問詞の後は「should ＋ 主語 ＋ 原形」の順になります。" }
        ],
        summary: ["should ＋ 動詞の原形で「〜すべきだ／〜したほうがよい」", "否定形 shouldn't は「〜すべきではない」", "must よりも柔らかい、アドバイスや提案にぴったりの言葉"]
    },
    "conjunction-when": {
        id: "conjunction-when",
        grade: 2,
        menuTitle: "接続詞 when",
        intro: {
            title: "接続詞 when",
            subtitle: "意味：〜する時",
            goals: ["when が作る「文のカタマリ」を理解する", "カンマ（,）を使う位置とルールを覚える", "時を表す節（副詞節）の語順をマスターする"]
        },
        grammar: {
            formula: [
                { text: "when", type: "red" },
                { text: "+ 主語 + 動詞", type: "blue" },
                { text: ", (カンマ)", type: "text" },
                { text: "メインの文", type: "box" }
            ],
            text: "「〜する時、…だ」と、2つの文をつなげて時を表す役割をします。",
            items: [
                { title: "カタマリで考える", desc: "when ＋ 主語 ＋ 動詞 で「〜する時」という大きな副詞の役割をする", icon: "package", color: "rose" },
                { title: "カンマのルール", desc: "whenの節が前に来る時は、文の途中にカンマを置く", icon: "edit", color: "blue" },
                { title: "入れ替え可能", desc: "メインの文を先に書くこともできる（その場合はカンマ不要）", icon: "refresh-cw", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "When I was a child I liked apples.",
            goodExample: "When I was a child<strong>,</strong> I liked apples.",
            description: "whenが文頭に来る場合は、区切りを示すカンマを忘れないようにしましょう。"
        },
        examples: [
            { engDisplay: '<span class="text-red-600 font-bold">When I arrived</span> home, it was raining.', engRead: "When I arrived home, it was raining.", jp: "私が家に着いた時、雨が降っていました。", icon: "cloud-rain", color: "blue" },
            { engDisplay: 'I was happy <span class="text-blue-600 font-bold">when I saw</span> her.', engRead: "I was happy when I saw her.", jp: "彼女に会った時、私は幸せでした。", icon: "smile", color: "rose" },
            { engDisplay: '<span class="text-orange-600 font-bold">When you are</span> free, please help me.', engRead: "When you are free, please help me.", jp: "暇な時、手伝ってください。", icon: "hand", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "(　　　) I was a child, I lived in Tokyo.", options: ["When", "If", "Because", "But"], correctIndex: 0, explanation: "「子供だった時」という時を表す接続詞 when を使います。" },
            { id: "qA2", subQuestion: "Call me when you (　　　) home.", options: ["get", "gets", "got", "getting"], correctIndex: 0, explanation: "接続詞 when の後ろも、主語に合わせて動詞を正しく置きます。" },
            { id: "qA3", subQuestion: "I was watching TV when he (　　　).", options: ["came", "come", "comes", "coming"], correctIndex: 0, explanation: "「彼が来た時」という過去の時点を表すので過去形にします。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "私が起きた時、父は台所にいました。", sentenceParts: ["{slot}", "I", "{slot}", "up, my father was in the kitchen."], words: ["When", "got", "Get", "Is"], correctOrder: ["When", "got"], explanation: "When ＋ 主語 ＋ 動詞 の形にします。" },
            { id: "qB2", subQuestion: "暇な時にこの本を読んでください。", sentenceParts: ["Please read this book", "{slot}", "you", "{slot}", "free."], words: ["when", "are", "is", "were"], correctOrder: ["when", "are"], explanation: "文の後半に when 節を置く場合はカンマがいりません。" },
            { id: "qB3", subQuestion: "彼女はとても忙しい時、音楽を聴きます。", sentenceParts: ["{slot}", "she is very busy, she", "{slot}", "to music."], words: ["When", "listens", "Listen", "Is"], correctOrder: ["When", "listens"], explanation: "時を表すカタマリ(When節)とメインの文をつなぎます。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "私が彼を見た時、彼は走っていました。", words: ["When", "I", "saw", "him", ",", "he", "was", "running"], explanation: "When ＋ 文 , ＋ 文 の語順です。" },
            { id: "qC2", subQuestion: "あなたは日本に来た時、何を食べましたか？", words: ["What", "did", "you", "eat", "when", "you", "came", "to", "Japan", "?"], explanation: "疑問文の最後に when 節を付け加える形です。" }
        ],
        summary: ["「when ＋ 主語 ＋ 動詞」で「〜する時」", "文頭に when が来たら途中にカンマ（,）が必要", "メインの文と when 節は前後を入れ替えられる"]
    },
    "there-is-are": {
        id: "there-is-are",
        grade: 2,
        menuTitle: "There is / are (存在)",
        intro: {
            title: "There is / are 〜",
            subtitle: "意味：〜がある、〜がいる",
            goals: ["「〜がある／いる」という存在の表し方を覚える", "単数(is)と複数(are)の使い分けを理解する", "否定文・疑問文の形をマスターする"]
        },
        grammar: {
            formula: [
                { text: "There", type: "text" },
                { text: "+", type: "text" },
                { text: "is / are", type: "red" },
                { text: "+", type: "text" },
                { text: "物・人", type: "blue" },
                { text: "+", type: "text" },
                { text: "場所", type: "orange" }
            ],
            text: "新しい情報を相手に伝えるときの「〜があるよ」という表現です。主語はbe動詞の直後にくる「物・人」になります。",
            items: [
                { title: "is と are", desc: "後ろにくる名詞が単数なら is、複数なら are を選ぶ", icon: "refresh-cw", color: "rose" },
                { title: "場所の語句", desc: "in the room, on the table など場所を表す言葉を最後に置く", icon: "map-pin", color: "blue" },
                { title: "疑問文", desc: "Is there 〜? / Are there 〜? とbe動詞を前に出す", icon: "help-circle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "There are a book on the desk.",
            goodExample: "There <strong>is a book</strong> on the desk.",
            description: "There is/are の文では、be動詞の「後ろ」にある名詞を見て is か are かを決めます。"
        },
        examples: [
            { engDisplay: 'There <span class="text-red-600 font-bold">is a cat</span> under the table.', engRead: "There is a cat under the table.", jp: "テーブルの下に猫が1匹います。", icon: "smile", color: "rose" },
            { engDisplay: 'There <span class="text-blue-600 font-bold">are many trees</span> in the park.', engRead: "There are many trees in the park.", jp: "公園にはたくさんの木があります。", icon: "tree-pine", color: "blue" },
            { engDisplay: 'There <span class="text-orange-600 font-bold">are some pictures</span> on the wall.', engRead: "There are some pictures on the wall.", jp: "壁に何枚か写真が掛かっています。", icon: "image", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "There (　　　) a big tree in my garden.", options: ["is", "are", "be", "am"], correctIndex: 0, explanation: "後ろの名詞が a big tree（単数）なので is を使います。" },
            { id: "qA2", subQuestion: "(　　　) there any students in the classroom?", options: ["Is", "Are", "Do", "Does"], correctIndex: 1, explanation: "any students（複数）を尋ねる疑問文なので Are で始めます。" },
            { id: "qA3", subQuestion: "There (　　　) any cookies in the box.", options: ["isn't", "aren't", "don't", "not"], correctIndex: 1, explanation: "cookies（複数）の否定文なので aren't を使います。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "この近くに図書館はありますか？", sentenceParts: ["{slot}", "{slot}", "a library near here?"], words: ["Is", "there", "Are", "it"], correctOrder: ["Is", "there"], explanation: "「〜はありますか？」という疑問文は Is there 〜? です。" },
            { id: "qB2", subQuestion: "私のバッグの中にペンが3本あります。", sentenceParts: ["{slot}", "{slot}", "three pens in my bag."], words: ["There", "are", "is", "Has"], correctOrder: ["There", "are"], explanation: "3本のペン（複数）なので There are になります。" },
            { id: "qB3", subQuestion: "公園には誰もいませんでした。", sentenceParts: ["There", "{slot}", "{slot}", "anyone in the park."], words: ["was", "not", "were", "no"], correctOrder: ["was", "not"], explanation: "過去の存在を否定する場合は There was not 〜 とします。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "机の上にリンゴがいくつかあります。", words: ["There", "are", "some", "apples", "on", "the", "desk"], explanation: "There are ＋ 複数名詞 ＋ 場所 の順です。" },
            { id: "qC2", subQuestion: "この町には古いお寺がたくさんあります。", words: ["There", "are", "many", "old", "temples", "in", "this", "town"], explanation: "場所を表す語句は文の最後に置きます。" }
        ],
        summary: ["There is / are 〜 で「〜がある／いる」を表す", "be動詞の後ろにくる名詞に合わせて is か are を選ぶ", "否定文は be動詞 ＋ not、疑問文は be動詞を文頭に置く"]
    },
    "conjunction-because": {
        id: "conjunction-because",
        grade: 2,
        menuTitle: "接続詞 because",
        intro: {
            title: "接続詞 because",
            subtitle: "意味：〜なので／なぜなら〜だから",
            goals: ["理由を説明する because の使い方を覚える", "「because + 主語 + 動詞」のカタマリを理解する", "Why? に対する答え方をマスターする"]
        },
        grammar: {
            formula: [
                { text: "メインの文", type: "box" },
                { text: "+", type: "text" },
                { text: "because", type: "red" },
                { text: "+ 主語 + 動詞", type: "blue" }
            ],
            text: "「なぜなら〜だから」と、はっきりと理由を付け加えるときに使います。",
            items: [
                { title: "理由を後付け", desc: "メインの文の後ろに because 節を置くのが一般的", icon: "message-circle", color: "orange" },
                { title: "文頭の because", desc: "文頭に置く場合は途中にカンマ（,）が必要", icon: "edit", color: "rose" },
                { title: "Why とのセット", desc: "Why...?（なぜ？）と聞かれたら Because... で答える", icon: "help-circle", color: "blue" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I like him because kind.",
            goodExample: "I like him <strong>because he is kind</strong>.",
            description: "because の後ろには必ず「主語 ＋ 動詞」が必要です。単語だけを置いてはいけません。"
        },
        examples: [
            { engDisplay: 'I was late <span class="text-red-600 font-bold">because it rained</span>.', engRead: "I was late because it rained.", jp: "雨が降ったので、私は遅れました。", icon: "cloud-rain", color: "blue" },
            { engDisplay: 'He is happy <span class="text-blue-600 font-bold">because he won</span> the game.', engRead: "He is happy because he won the game.", jp: "試合に勝ったので、彼は幸せです。", icon: "award", color: "rose" },
            { engDisplay: 'I stayed home <span class="text-orange-600 font-bold">because I was</span> sick.', engRead: "I stayed home because I was sick.", jp: "病気だったので、私は家にいました。", icon: "frown", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "I ate an apple (　　　) I was hungry.", options: ["because", "if", "when", "that"], correctIndex: 0, explanation: "「お腹が空いていたから」という理由を表す because を使います。" },
            { id: "qA2", subQuestion: "She studied hard (　　　) she wanted to be a teacher.", options: ["because", "but", "if", "so"], correctIndex: 0, explanation: "勉強した「理由」を説明する接続詞を選びます。" },
            { id: "qA3", subQuestion: "Why were you late? --- (　　　) I missed the bus.", options: ["Because", "If", "When", "That"], correctIndex: 0, explanation: "Why に対する返答は Because で始めます。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "疲れていたので、早く寝ました。", sentenceParts: ["I went to bed early", "{slot}", "I", "{slot}", "tired."], words: ["because", "was", "is", "were"], correctOrder: ["because", "was"], explanation: "理由を表す because と、過去の文なので was を使います。" },
            { id: "qB2", subQuestion: "暑かったので、窓を開けました。", sentenceParts: ["I opened the window", "{slot}", "it", "{slot}", "hot."], words: ["because", "was", "is", "so"], correctOrder: ["because", "was"], explanation: "「〜なので」は because です。天候の it が主語になります。" },
            { id: "qB3", subQuestion: "忙しかったので、そこへ行けませんでした。", sentenceParts: ["I couldn't go there", "{slot}", "I", "{slot}", "busy."], words: ["because", "was", "am", "if"], correctOrder: ["because", "was"], explanation: "because + 主語 + 動詞 の形を崩さないようにしましょう。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "雪が降っていたので、彼女は来ませんでした。", words: ["She", "didn't", "come", "because", "it", "was", "snowing"], explanation: "メインの文の後に because 節を続けます。" },
            { id: "qC2", subQuestion: "彼は親切なので、みんな彼が好きです。", words: ["Everyone", "likes", "him", "because", "he", "is", "kind"], explanation: "「〜だから」という理由を文の後半に置きます。" }
        ],
        summary: ["because ＋ 主語 ＋ 動詞 で「〜なので」", "Why...? に対する答えとして使われる", "動作の「はっきりした理由」を付け加える"]
    },
    "conjunction-if": {
        id: "conjunction-if",
        grade: 2,
        menuTitle: "接続詞 if",
        intro: {
            title: "接続詞 if",
            subtitle: "意味：もし〜ならば",
            goals: ["条件を表す if の使い方を覚える", "カンマ（,）を使う位置のルールを理解する", "if節の中では未来のことでも現在形を使うルールを知る"]
        },
        grammar: {
            formula: [
                { text: "if", type: "red" },
                { text: "+ 主語 + 現在形動詞", type: "blue" },
                { text: ", (カンマ)", type: "text" },
                { text: "メインの文", type: "box" }
            ],
            text: "「もし〜なら、…だ」と、ある条件のもとで起こることを表します。",
            items: [
                { title: "条件の if", desc: "「もし〜なら」という前提条件を作る", icon: "help-circle", color: "blue" },
                { title: "カンマの有無", desc: "if が文頭ならカンマが必要。文の中央なら不要", icon: "edit", color: "rose" },
                { title: "時制のルール", desc: "未来のことでも if の中では現在形を使うのが鉄則", icon: "calendar", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "If it will rain tomorrow, I will stay home.",
            goodExample: "If it <strong>rains</strong> tomorrow, I will stay home.",
            description: "「もし明日〜なら」という未来の話でも、if の中は will を使わず現在形にします。"
        },
        examples: [
            { engDisplay: '<span class="text-red-600 font-bold">If it is</span> sunny tomorrow, let\'s go.', engRead: "If it is sunny tomorrow, let's go.", jp: "もし明日晴れたら、行きましょう。", icon: "sun", color: "orange" },
            { engDisplay: 'I will help you <span class="text-blue-600 font-bold">if you are</span> busy.', engRead: "I will help you if you are busy.", jp: "もしあなたが忙しいなら、手伝います。", icon: "hand", color: "blue" },
            { engDisplay: '<span class="text-rose-600 font-bold">If you have</span> time, please call me.', engRead: "If you have time, please call me.", jp: "もし時間があれば、電話してください。", icon: "phone", color: "rose" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "(　　　) it rains tomorrow, I will stay home.", options: ["If", "When", "Because", "That"], correctIndex: 0, explanation: "「もし雨なら」という条件の if を使います。" },
            { id: "qA2", subQuestion: "If you (　　　) tired, you can sleep.", options: ["are", "will be", "is", "be"], correctIndex: 0, explanation: "if 節の中では主語(you)に合わせた現在形を使います。" },
            { id: "qA3", subQuestion: "Tell me (　　　) you need any help.", options: ["if", "that", "because", "but"], correctIndex: 0, explanation: "「もし助けが必要なら」という意味の if です。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "もし明日暇なら、買い物に行きましょう。", sentenceParts: ["{slot}", "you", "{slot}", "free tomorrow, let's go shopping."], words: ["If", "are", "will be", "is"], correctOrder: ["If", "are"], explanation: "If + 主語 + 現在形 で条件を表します。" },
            { id: "qB2", subQuestion: "もし彼が来たら、私に教えてください。", sentenceParts: ["{slot}", "he", "{slot}", ", please tell me."], words: ["If", "comes", "come", "will come"], correctOrder: ["If", "comes"], explanation: "三人称単数の s (comes) を忘れないようにしましょう。" },
            { id: "qB3", subQuestion: "もし良ければ、私の辞書を使っていいですよ。", sentenceParts: ["You can use my dictionary", "{slot}", "you", "{slot}", "."], words: ["if", "like", "will like", "liked"], correctOrder: ["if", "like"], explanation: "if you like で「もし良ければ」という定番表現です。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "もし質問があれば、私に聞いてください。", words: ["If", "you", "have", "any", "questions", ",", "please", "ask", "me"], explanation: "If が前にあるので途中にカンマが必要です。" },
            { id: "qC2", subQuestion: "雨が降ったら、私たちは野球をしません。", words: ["We", "won't", "play", "baseball", "if", "it", "rains"], explanation: "if it rains は未来のことでも現在形にします。" }
        ],
        summary: ["if ＋ 主語 ＋ 現在形 で「もし〜ならば」", "文頭ならカンマ（,）が必要。文の後半なら不要", "未来の話でも if 節の中は will を使わない"]
    },
    "comparative": {
        id: "comparative",
        grade: 2,
        menuTitle: "比較級 (Comparative)",
        intro: {
            title: "比較級",
            subtitle: "意味：AはBより〜だ",
            goals: ["比較級の作り方（-er / more）を覚える", "than を使った比較の語順をマスターする", "「もっと〜」という変化の付け方を理解する"]
        },
        grammar: {
            formula: [
                { text: "A", type: "box" },
                { text: "+ be動詞 +", type: "text" },
                { text: "形容詞・副詞の比較級", type: "red" },
                { text: "+", type: "text" },
                { text: "than", type: "blue" },
                { text: "+ B", type: "box" }
            ],
            text: "2つのものを比べて「Aの方がBよりも〜だ」と言う時の形です。",
            items: [
                { title: "-er形", desc: "短い単語は語尾に er をつける (old → older)", icon: "trending-up", color: "rose" },
                { title: "more形", desc: "長い単語は前に more を置く (more famous)", icon: "plus-circle", color: "blue" },
                { title: "than", desc: "「〜よりも」という意味。比較対象(B)の前に置く", icon: "arrow-right", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "This pen is more cheap than that one.",
            goodExample: "This pen is <strong>cheaper than</strong> that one.",
            description: "短い単語に more をつけてはいけません。基本は -er、長い語(目安は3音節以上)は more と使い分けましょう。"
        },
        examples: [
            { engDisplay: 'This apple <span class="text-red-600 font-bold">is bigger than</span> that one.', engRead: "This apple is bigger than that one.", jp: "このリンゴはあのリンゴよりも大きいです。", icon: "apple", color: "rose" },
            { engDisplay: 'English <span class="text-blue-600 font-bold">is more interesting than</span> math.', engRead: "English is more interesting than math.", jp: "英語は数学よりもおもしろいです。", icon: "book", color: "blue" },
            { engDisplay: 'He <span class="text-orange-600 font-bold">runs faster than</span> Ken.', engRead: "He runs faster than Ken.", jp: "彼はケンよりも速く走ります。", icon: "award", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "Kyoto is (　　　) than Nara.", options: ["old", "older", "oldest", "more old"], correctIndex: 1, explanation: "than があるので比較級(older)を使います。" },
            { id: "qA2", subQuestion: "This book is (　　　) difficult than that one.", options: ["more", "most", "er", "very"], correctIndex: 0, explanation: "difficult は長い単語なので前に more を置きます。" },
            { id: "qA3", subQuestion: "Tom is taller (　　　) Bob.", options: ["than", "that", "then", "to"], correctIndex: 0, explanation: "「〜よりも」は than で表します。綴りに注意。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "この車はあの車よりも新しいです。", sentenceParts: ["This car is ", "{slot}", " ", "{slot}", " that one."], words: ["newer", "than", "new", "more new"], correctOrder: ["newer", "than"], explanation: "new の比較級は newer です。" },
            { id: "qB2", subQuestion: "テニスはサッカーよりも人気があります。", sentenceParts: ["Tennis is ", "{slot}", " ", "{slot}", " ", "{slot}", " soccer."], words: ["more", "popular", "than", "er"], correctOrder: ["more", "popular", "than"], explanation: "popular は長い単語なので more ＋ 原形 ＋ than になります。" },
            { id: "qB3", subQuestion: "私は弟よりも早く起きます。", sentenceParts: ["I get up ", "{slot}", " ", "{slot}", " my brother."], words: ["earlier", "than", "early", "more early"], correctOrder: ["earlier", "than"], explanation: "early は y を i に変えて er をつけます。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "ケンはトムよりも背が高いです。", words: ["Ken", "is", "taller", "than", "Tom"], explanation: "A + be動詞 + 比較級 + than + B の語順です。" },
            { id: "qC2", subQuestion: "健康は、お金よりも大切です。", words: ["Health", "is", "more", "important", "than", "money"], explanation: "important のような長い語は more を使います。" }
        ],
        summary: ["比較級（-er / more） ＋ than で「〜よりも…」", "短い単語は -er、長い単語は more を使う", "than の綴りを then と間違えないように注意"]
    },
    "comparative-rules": {
        id: "comparative-rules",
        grade: 2,
        menuTitle: "比較級の変化ルール",
        intro: {
            title: "比較級のつくりかた",
            subtitle: "語尾の変化 5種 ＋ more",
            goals: ["単語に合わせた変化（-er）を完璧にする", "more を使う長い単語の見分け方を知る", "不規則に変化する重要語を覚える"]
        },
        grammar: {
            formula: [
                { text: "形容詞・副詞", type: "box" },
                { text: "→", type: "text" },
                { text: "比較級 (-er / more)", type: "red" }
            ],
            text: "比較級の形を作るときは、単語のスペルによって以下の6つのルールを使い分けます。",
            items: [
                { title: "基本 (-er)", desc: "そのまま er をつける (old → older)", icon: "plus", color: "blue" },
                { title: "eで終わる (-r)", desc: "r だけをつける (large → larger)", icon: "edit", color: "rose" },
                { title: "yで終わる (-ier)", desc: "y を i に変えて er (happy → happier)", icon: "scissors", color: "orange" },
                { title: "重ねる (-er)", desc: "最後の一文字を重ねる (big → bigger / hot → hotter)", icon: "copy", color: "blue" },
                { title: "不規則 (betterなど)", desc: "形が大きく変わる (good → better / bad → worse)", icon: "star", color: "rose" },
                { title: "長い語 (more)", desc: "前に more を置く (popular → more popular)", icon: "plus-circle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "hoter / biger / easyer",
            goodExample: "<strong>hotter</strong> / <strong>bigger</strong> / <strong>easier</strong>",
            description: "「重ねる」ルールは big や hot のような「短母音＋子音字」の単語が対象です。yをiに変えるルールと混同しないようにしましょう。"
        },
        examples: [
            { engDisplay: 'It is <span class="text-red-600 font-bold">hotter</span> today than yesterday.', engRead: "It is hotter today than yesterday.", jp: "今日は昨日より暑いです。（hot → hotter）", icon: "sun", color: "orange" },
            { engDisplay: 'This box is <span class="text-blue-600 font-bold">bigger</span> than that one.', engRead: "This box is bigger than that one.", jp: "この箱はあの箱より大きいです。（big → bigger）", icon: "package", color: "blue" },
            { engDisplay: 'Soccer is <span class="text-rose-600 font-bold">more popular</span> than tennis.', engRead: "Soccer is more popular than tennis.", jp: "サッカーはテニスより人気があります。（more）", icon: "award", color: "rose" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "Which is correct? 'hot' → (　　　)", options: ["hotter", "hoter", "more hot", "hottest"], correctIndex: 0, explanation: "hotはtを重ねてerをつけます。" },
            { id: "qA2", subQuestion: "Which is correct? 'big' → (　　　)", options: ["biger", "bigger", "more big", "bigest"], correctIndex: 1, explanation: "bigはgを重ねてerをつけます。" },
            { id: "qA3", subQuestion: "The comparative of 'good' is (　　　).", options: ["gooder", "better", "best", "more good"], correctIndex: 1, explanation: "goodは不規則変化でbetterになります。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "今日は昨日より暑い(hot)です。", sentenceParts: ["It is ", "{slot}", " today than yesterday."], words: ["hotter", "hoter", "more hot"], correctOrder: ["hotter"], explanation: "hotはtを重ねてerをつけます。" },
            { id: "qB2", subQuestion: "このカバンはあのカバンより大きい(big)です。", sentenceParts: ["This bag is ", "{slot}", " than that one."], words: ["bigger", "biger", "more big"], correctOrder: ["bigger"], explanation: "bigはgを重ねてerをつけます。" },
            { id: "qB3", subQuestion: "この本はあの本より簡単(easy)です。", sentenceParts: ["This book is ", "{slot}", " than that one."], words: ["easier", "easyer", "more easy"], correctOrder: ["easier"], explanation: "easyはyをiに変えてerをつけます。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "昨日は今日より暑かったです。", words: ["Yesterday", "was", "hotter", "than", "today"], explanation: "hotの比較級はhotterです。" },
            { id: "qC2", subQuestion: "私の犬はあなたの犬より大きいです。", words: ["My", "dog", "is", "bigger", "than", "yours"], explanation: "bigの比較級はbiggerです。" }
        ],
        summary: ["基本は -er、yは -ier、短母音＋子音(big, hot)は重ねる", "good → better / bad → worse は不規則", "長い単語は -er をつけずに more を前に置く"]
    },
    "superlative": {
        id: "superlative",
        grade: 2,
        menuTitle: "最上級 (Superlative)",
        intro: {
            title: "最上級",
            subtitle: "意味：〜の中で一番…だ",
            goals: ["最上級の作り方（the -est / the most）を覚える", "「in」と「of」の使い分けを理解する", "「the」を忘れない習慣をつける"]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+ be動詞 +", type: "text" },
                { text: "the", type: "red" },
                { text: "+", type: "text" },
                { text: "最上級 (-est / most)", type: "red" },
                { text: "+", type: "text" },
                { text: "in / of", type: "blue" },
                { text: "+ 範囲", type: "box" }
            ],
            text: "3つ以上のものを比べて「もっとも〜だ」と言う時の形です。形容詞の前には必ず the を置きます。",
            items: [
                { title: "-est形", desc: "短い単語は語尾に est をつける (young → youngest)", icon: "trending-up", color: "rose" },
                { title: "most形", desc: "長い単語は前に most を置く (the most beautiful)", icon: "plus-circle", color: "blue" },
                { title: "in と of", desc: "場所や集団（in Japan）なら in、数字や同類（of all）なら of を使う", icon: "map-pin", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "He is youngest in the class.",
            goodExample: "He is <strong>the youngest</strong> in the class.",
            description: "最上級の前には原則として <strong>the</strong> が必要です。スペルのルール（yをiに変える等）は比較級と同じです。"
        },
        examples: [
            { engDisplay: 'Mt. Fuji is <span class="text-red-600 font-bold">the highest</span> mountain in Japan.', engRead: "Mt. Fuji is the highest mountain in Japan.", jp: "富士山は日本で一番高い山です。", icon: "mountain", color: "blue" },
            { engDisplay: 'This is <span class="text-blue-600 font-bold">the most expensive</span> watch in this shop.', engRead: "This is the most expensive watch in this shop.", jp: "これはこの店で一番高価な時計です。", icon: "watch", color: "rose" },
            { engDisplay: 'He is <span class="text-orange-600 font-bold">the best</span> player of the five.', engRead: "He is the best player of the five.", jp: "彼は5人の中で最高の選手です。", icon: "award", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "Shinano River is the (　　　) river in Japan.", options: ["longer", "long", "longest", "more long"], correctIndex: 2, explanation: "「日本で一番長い」とするには最上級の longest を使います。" },
            { id: "qA2", subQuestion: "Tennis is the (　　　) popular sport in our school.", options: ["more", "most", "est", "best"], correctIndex: 1, explanation: "popular は長い単語なので the most popular とします。" },
            { id: "qA3", subQuestion: "He is the fastest (　　　) all the students.", options: ["in", "of", "than", "to"], correctIndex: 1, explanation: "all the students（全員の中で）と複数を並べる時は of を使います。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "これは世界で一番古い建物です。", sentenceParts: ["This is ", "{slot}", " ", "{slot}", " building in the world."], words: ["the", "oldest", "old", "more old"], correctOrder: ["the", "oldest"], explanation: "最上級には the ＋ -est が必要です。" },
            { id: "qB2", subQuestion: "彼女は私のクラスで一番親切です。", sentenceParts: ["She is ", "{slot}", " ", "{slot}", " ", "{slot}", " our class."], words: ["the", "kindest", "in", "most"], correctOrder: ["the", "kindest", "in"], explanation: "kind は kindest（短い単語）になり、場所・範囲には in を使います。" },
            { id: "qB3", subQuestion: "私は3人の中で一番早く起きます。", sentenceParts: ["I get up ", "{slot}", " ", "{slot}", " the three."], words: ["the", "earliest", "of", "in"], correctOrder: ["the", "earliest", "of"], explanation: "early を y→i＋est に変え、数字の前なので of を置きます。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "野球は日本で一番人気のあるスポーツです。", words: ["Baseball", "is", "the", "most", "popular", "sport", "in", "Japan"], explanation: "the most ＋ 形容詞 ＋ 名詞 ＋ in 範囲 の語順です。" },
            { id: "qC2", subQuestion: "彼は家族の中で一番背が高いです。", words: ["He", "is", "the", "taller", "tallest", "in", "his", "family"], explanation: "「一番〜」は tallest です。the を忘れないように。" }
        ],
        summary: ["the ＋ 最上級（-est / most）で「一番〜」", "in ＋ 場所・単数名詞（in Japan, in my class）", "of ＋ 数字・複数名詞（of all, of the three）"]
    },
    "superlative-rules": {
        id: "superlative-rules",
        grade: 2,
        menuTitle: "最上級の変化ルール",
        intro: {
            title: "最上級のつくりかた",
            subtitle: "語尾の変化 5種 ＋ most",
            goals: ["単語に合わせた変化（-est）を完璧にする", "most を使う長い単語の見分け方を知る", "the を忘れない癖をつける"]
        },
        grammar: {
            formula: [
                { text: "the", type: "red" },
                { text: "+", type: "text" },
                { text: "最上級 (-est / most)", type: "red" }
            ],
            text: "最上級の形を作るときは、形容詞や副詞の語尾を以下のように変化させ、前に the を置きます。",
            items: [
                { title: "基本 (-est)", desc: "そのまま est をつける (old → oldest)", icon: "plus", color: "blue" },
                { title: "eで終わる (-st)", desc: "st だけをつける (large → largest)", icon: "edit", color: "rose" },
                { title: "yで終わる (-iest)", desc: "y を i に変えて est (happy → happiest)", icon: "scissors", color: "orange" },
                { title: "重ねる (-est)", desc: "最後の一文字を重ねる (big → biggest / hot → hottest)", icon: "copy", color: "blue" },
                { title: "不規則 (bestなど)", desc: "形が大きく変わる (good → best / bad → worst)", icon: "star", color: "rose" },
                { title: "長い語 (most)", desc: "前に most を置く (popular → most popular)", icon: "plus-circle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "the hotest / the bigest / the most fastest",
            goodExample: "the <strong>hottest</strong> / the <strong>biggest</strong> / the <strong>fastest</strong>",
            description: "「重ねる」ルールは big や hot のように「短母音＋子音字」で終わる短い語に適用されます。"
        },
        examples: [
            { engDisplay: 'August is <span class="text-red-600 font-bold">the hottest</span> month.', engRead: "August is the hottest month.", jp: "8月は一番暑い月です。（hot → hottest）", icon: "sun", color: "orange" },
            { engDisplay: 'This is <span class="text-blue-600 font-bold">the biggest</span> city in Japan.', engRead: "This is the biggest city in Japan.", jp: "これは日本で一番大きな都市です。（big → biggest）", icon: "map-pin", color: "blue" },
            { engDisplay: 'This is <span class="text-rose-600 font-bold">the most interesting</span> book.', engRead: "This is the most interesting book.", jp: "これは一番おもしろい本です。（most）", icon: "book", color: "rose" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "Which is correct? 'hot' → the (　　　)", options: ["hottest", "hotest", "most hot", "hottier"], correctIndex: 0, explanation: "hotはtを重ねてestをつけます。" },
            { id: "qA2", subQuestion: "Which is correct? 'big' → the (　　　)", options: ["bigest", "biggest", "most big", "biger"], correctIndex: 1, explanation: "bigはgを重ねてestをつけます。" },
            { id: "qA3", subQuestion: "The superlative of 'bad' is (　　　).", options: ["baddest", "worst", "worse", "most bad"], correctIndex: 1, explanation: "badは不規則変化でworstになります。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "今日は一年で一番暑い(hot)日です。", sentenceParts: ["It is ", "{slot}", " ", "{slot}", " day of the year."], words: ["the", "hottest", "hoter", "hotest"], correctOrder: ["the", "hottest"], explanation: "hotはtを重ねてestをつけます。" },
            { id: "qB2", subQuestion: "これは世界で一番大きい(big)動物です。", sentenceParts: ["This is ", "{slot}", " ", "{slot}", " animal in the world."], words: ["the", "biggest", "bigest", "most big"], correctOrder: ["the", "biggest"], explanation: "bigはgを重ねてestをつけます。" },
            { id: "qB3", subQuestion: "彼女はクラスで一番幸せ(happy)です。", sentenceParts: ["She is ", "{slot}", " ", "{slot}", " in her class."], words: ["the", "happiest", "happyest", "most happy"], correctOrder: ["the", "happiest"], explanation: "happyはyをiに変えてestをつけます。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "これがこの店で一番大きなケーキです。", words: ["This", "is", "the", "biggest", "cake", "in", "this", "shop"], explanation: "bigの最上級はbiggestです。" },
            { id: "qC2", subQuestion: "一年で一番暑い月はいつですか？", words: ["What", "is", "the", "hottest", "month", "of", "the", "year", "?"], explanation: "hotの最上級はhottestです。" }
        ],
        summary: ["基本は -est、yは -iest、短母音＋子音(big, hot)は重ねる", "good → best / bad → worst は不規則", "長い単語は -est をつけずに most を前に置く"]
    },
    "as-as-comparison": {
        id: "as-as-comparison",
        grade: 2,
        menuTitle: "as 〜 as (同等比較)",
        intro: {
            title: "as 〜 as B",
            subtitle: "意味：Bと同じくらい〜だ",
            goals: ["as 〜 as の間に「原形」を置くルールを覚える", "否定形 not as 〜 as（Bほど〜ない）をマスターする", "比較級・最上級との形の違いを理解する"]
        },
        grammar: {
            formula: [
                { text: "A", type: "box" },
                { text: "+ be動詞 +", type: "text" },
                { text: "as", type: "red" },
                { text: "+", type: "text" },
                { text: "形容詞・副詞の原形", type: "blue" },
                { text: "+", type: "text" },
                { text: "as", type: "red" },
                { text: "+ B", type: "box" }
            ],
            text: "2つのものを比べて「同じくらいだ」と言う時に使います。形容詞や副詞は er をつけない元の形（原形）のまま挟みます。",
            items: [
                { title: "原形が鉄則", desc: "as と as の間は taller ではなく tall を使う", icon: "check-circle", color: "blue" },
                { title: "否定形", desc: "not as 〜 as B で「Bほど〜ではない」となる", icon: "minus-circle", color: "rose" },
                { title: "副詞もOK", desc: "形容詞だけでなく、fast などの副詞も挟める", icon: "zap", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "He is as taller as Ken. / He is not as tall than Ken.",
            goodExample: "He is <strong>as tall as</strong> Ken. / He is <strong>not as tall as</strong> Ken.",
            description: "「同じくらい」の時は than ではなく as を使います。また、比較級の -er 形にしてはいけません。"
        },
        examples: [
            { engDisplay: 'I am <span class="text-red-600 font-bold">as tall as</span> my father.', engRead: "I am as tall as my father.", jp: "私は父と同じくらいの背の高さです。", icon: "user", color: "blue" },
            { engDisplay: 'This book is <span class="text-blue-600 font-bold">as interesting as</span> that one.', engRead: "This book is as interesting as that one.", jp: "この本はあの本と同じくらいおもしろいです。", icon: "book", color: "rose" },
            { engDisplay: 'He runs <span class="text-orange-600 font-bold">as fast as</span> a rabbit.', engRead: "He runs as fast as a rabbit.", jp: "彼はウサギと同じくらい速く走ります。", icon: "award", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "Soccer is as (　　　) as baseball in Japan.", options: ["popular", "more popular", "popularer", "most popular"], correctIndex: 0, explanation: "as 〜 as の間には形容詞の原形（popular）を置きます。" },
            { id: "qA2", subQuestion: "This movie is not (　　　) as that one.", options: ["as", "than", "so as", "more"], correctIndex: 0, explanation: "否定文でも「Bほど〜ない」は not as 〜 as です。" },
            { id: "qA3", subQuestion: "Ken can swim as (　　　) as his brother.", options: ["fast", "faster", "fastest", "fastly"], correctIndex: 0, explanation: "副詞の fast も原形のまま挟みます。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "私の犬はあなたの犬と同じくらい大きいです。", sentenceParts: ["My dog is ", "{slot}", " ", "{slot}", " ", "{slot}", " yours."], words: ["as", "big", "as", "bigger"], correctOrder: ["as", "big", "as"], explanation: "as ＋ 原形 ＋ as の語順です。" },
            { id: "qB2", subQuestion: "今日は昨日ほど暑くありません。", sentenceParts: ["It is not ", "{slot}", " ", "{slot}", " ", "{slot}", " yesterday."], words: ["as", "hot", "as", "hotter"], correctOrder: ["as", "hot", "as"], explanation: "not as 〜 as で「〜ほど…ない」という否定を表します。" },
            { id: "qB3", subQuestion: "私はトムと同じくらい早く起きます。", sentenceParts: ["I get up ", "{slot}", " ", "{slot}", " ", "{slot}", " Tom."], words: ["as", "early", "as", "earlier"], correctOrder: ["as", "early", "as"], explanation: "副詞 early の原形を挟みます。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "この車はあの車と同じくらい古いです。", words: ["This", "car", "is", "as", "old", "as", "that", "one"], explanation: "as old as で「同じくらい古い」となります。" },
            { id: "qC2", subQuestion: "私はあなたほど上手にテニスができません。", words: ["I", "cannot", "play", "tennis", "as", "well", "as", "you"], explanation: "not as well as で「あなたほど上手ではない」という意味です。" }
        ],
        summary: ["as ＋ 原形 ＋ as で「〜と同じくらい…」", "否定形 not as 〜 as は「〜ほど…ない」", "er や est は絶対につけない"]
    },
    "want-ask-tell": {
        id: "want-ask-tell",
        grade: 2,
        menuTitle: "want / ask / tell 人 to do",
        intro: {
            title: "want / ask / tell 人 to do",
            subtitle: "意味：〜に…してほしい／するように頼む・言う",
            goals: ["「want / ask / tell + 人 + to do」の形がわかる", "「だれに」「何を」を英語で言える", "日常のお願いを英語で言える"]
        },
        grammar: {
            formula: [
                { text: "want / tell / ask", type: "red" }, { text: "+", type: "text" },
                { text: "人", type: "box" }, { text: "+", type: "text" },
                { text: "to", type: "text" }, { text: "+", type: "text" }, { text: "動詞の原形", type: "blue" }
            ],
            text: "「誰かに～してほしい」「～するように言う・頼む」形です。",
            items: [
                { title: "want + 人 + to ...", desc: "〜に…してほしい", icon: "heart", color: "rose" },
                { title: "ask + 人 + to ...", desc: "〜に…するように頼む", icon: "help-circle", color: "blue" },
                { title: "tell + 人 + to ...", desc: "〜に…するように言う", icon: "message-circle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I want to help you.",
            goodExample: "I want <strong>you</strong> to help me.",
            description: "人を必ず入れること！toの後は必ず動詞の原形。"
        },
        examples: [
            { engDisplay: 'I <span class="text-rose-500 font-bold">want</span> you <span class="text-blue-500 font-bold">to play</span> soccer.', engRead: "I want you to play soccer.", jp: "私はあなたにサッカーをしてほしい。", icon: "activity", color: "rose" },
            { engDisplay: 'She <span class="text-blue-600 font-bold">asked</span> me <span class="text-blue-500 font-bold">to help</span> her.', engRead: "She asked me to help her.", jp: "彼女は私に手伝うように頼んだ。", icon: "help-circle", color: "blue" },
            { engDisplay: 'The teacher <span class="text-orange-500 font-bold">told</span> us <span class="text-blue-500 font-bold">to be</span> quiet.', engRead: "The teacher told us to be quiet.", jp: "先生は私たちに静かにするように言った。", icon: "mic-off", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "I want you (　　　) my homework.", options: ["do", "to do", "doing", "does"], correctIndex: 1, explanation: "want + 人 + to + 原形" },
            { id: "qA2", subQuestion: "She asked me (　　　) the window.", options: ["close", "to close", "closing", "closes"], correctIndex: 1, explanation: "ask + 人 + to + 原形" },
            { id: "qA3", subQuestion: "My mother told me (　　　) early.", options: ["get up", "to get up", "getting up", "gets up"], correctIndex: 1, explanation: "tell + 人 + to + 原形" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "私はあなたにいっしょにテニスをしてほしい。", sentenceParts: ["I", "{slot}", "{slot}", "{slot}", "{slot}", "tennis."], words: ["want", "to", "you", "play", "asked"], correctOrder: ["want", "you", "to", "play"], explanation: "want + 人 + to + 原形" },
            { id: "qB2", subQuestion: "彼女は私に手伝うように頼みました。", sentenceParts: ["She", "{slot}", "{slot}", "{slot}", "{slot}", "her."], words: ["asked", "me", "to", "help", "tell"], correctOrder: ["asked", "me", "to", "help"], explanation: "ask + 人 + to + 原形" },
            { id: "qB3", subQuestion: "父は私に部屋をそうじするように言いました。", sentenceParts: ["My father", "{slot}", "{slot}", "{slot}", "{slot}", "room."], words: ["told", "me", "to", "clean", "want"], correctOrder: ["told", "me", "to", "clean"], explanation: "tell + 人 + to + 原形" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "彼女は私に手伝うように頼みました。", words: ["She", "asked", "me", "to", "help"], explanation: "語順：ask + 人 + to + 動詞" },
            { id: "qC2", subQuestion: "私はあなたに英語を勉強してほしい。", words: ["I", "want", "you", "to", "study", "English"], explanation: "語順：want + 人 + to + 動詞" }
        ],
        summary: ["動詞 + 人 + to + 動詞の原形", "want=〜してほしい / ask=頼む / tell=言う", "人は必須"]
    },
    "svoc-make-call": {
        id: "svoc-make-call",
        grade: 2,
        menuTitle: "SVOC (make / call / name)",
        intro: {
            title: "SVOC (make / call / name)",
            subtitle: "意味：〜を…にする／〜を…と呼ぶ・名づける",
            goals: [
                "make / call / name を使った SVOC文型 を理解する",
                "「OをCにする」という形を作れるようになる",
                "自分や友だちについて英語で言えるようになる"
            ]
        },
        grammar: {
            formula: [
                { text: "make / call / name", type: "red" },
                { text: "+", type: "text" },
                { text: "O (目的語)", type: "box" },
                { text: "+", type: "text" },
                { text: "C (補語)", type: "blue" }
            ],
            text: "「誰・何を(O)」「どうする・何と呼ぶ(C)」という説明を加える形です。",
            items: [
                { title: "make + O + C", desc: "OをCにする(状態)", icon: "smile", color: "rose" },
                { title: "call + O + C", desc: "OをCと呼ぶ", icon: "phone", color: "blue" },
                { title: "name + O + C", desc: "OをCと名づける", icon: "tag", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "The news made happy me.",
            goodExample: "The news made <strong>me sad</strong>.",
            description: "語順が命！「誰を(O)」のあとに「どんな状態・名前に(C)」を置きます。Cには形容詞か名詞がきます。"
        },
        examples: [
            {
                engDisplay: 'Music <span class="text-rose-500 font-bold">makes</span> me <span class="text-blue-500 font-bold">happy</span>.',
                engRead: "Music makes me happy.",
                jp: "音楽は私を幸せにします。",
                icon: "music",
                color: "rose"
            },
            {
                engDisplay: 'We <span class="text-blue-600 font-bold">call</span> him <span class="text-blue-500 font-bold">Ken</span>.',
                engRead: "We call him Ken.",
                jp: "私たちは彼をケンと呼びます。",
                icon: "user",
                color: "blue"
            },
            {
                engDisplay: 'They <span class="text-orange-500 font-bold">named</span> the dog <span class="text-blue-500 font-bold">Pochi</span>.',
                engRead: "They named the dog Pochi.",
                jp: "彼らはその犬をポチと名づけました。",
                icon: "dog",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "The news made me (　　　).",
                options: ["sad", "sadly", "to sad", "saded"],
                correctIndex: 0,
                explanation: "make + O + C(形容詞)の形。sad（悲しい）が正解。"
            },
            {
                id: "qA2",
                subQuestion: "We call (　　　) Ken.",
                options: ["he", "his", "him", "himself"],
                correctIndex: 2,
                explanation: "目的語(O)の位置には目的格の him を入れます。"
            },
            {
                id: "qA3",
                subQuestion: "They named the baby (　　　) Yui.",
                options: ["for", "to", "as", "（不要）"],
                correctIndex: 3,
                explanation: "name + O + C の間に前置詞は不要です。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "そのニュースは私を悲しくしました。",
                sentenceParts: ["The news", "{slot}", "{slot}", "{slot}", "."],
                words: ["made", "me", "sad", "make"],
                correctOrder: ["made", "me", "sad"],
                explanation: "「悲しくさせた」ので過去形 made を使い、SVOCの順に並べます。"
            },
            {
                id: "qB2",
                subQuestion: "私たちは彼をリーダーにしました。",
                sentenceParts: ["We", "{slot}", "{slot}", "{slot}", "."],
                words: ["made", "him", "leader", "call"],
                correctOrder: ["made", "him", "leader"],
                explanation: "make + 人 + 役職(名詞) で「〜を…にする」となります。"
            },
            {
                id: "qB3",
                subQuestion: "彼らはその赤ちゃんをユイと名づけました。",
                sentenceParts: ["They", "{slot}", "{slot}", "{slot}", "."],
                words: ["named", "the baby", "Yui", "name"],
                correctOrder: ["named", "the baby", "Yui"],
                explanation: "name + O + C の語順で「OをCと名づける」です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "音楽は私を幸せにします。",
                words: ["Music", "makes", "me", "happy"],
                explanation: "主語がMusic（単数）なので、makeにsがついたmakesを使います。"
            },
            {
                id: "qC2",
                subQuestion: "私はその犬をポチと呼びます。",
                words: ["I", "call", "the dog", "Pochi"],
                explanation: "call + O（その犬）+ C（ポチ）の語順です。"
            }
        ],
        summary: [
            "SVOCは「OをCにする・呼ぶ」という形",
            "makeは「〜にする」、call / nameは「〜と呼ぶ・名づける」",
            "V + O + C の語順を絶対に守る（前置詞は不要）"
        ]
    },
    "passive-voice": {
        id: "passive-voice",
        grade: 2,
        menuTitle: "受動態 (Passive Voice)",
        intro: {
            title: "受動態 (Passive Voice)",
            subtitle: "意味：〜される／〜によって…される",
            goals: [
                "受動態の形（be動詞＋過去分詞）を理解する",
                "「〜される」という文を作れるようになる",
                "by〜を使って「〜によって」を言えるようになる"
            ]
        },
        grammar: {
            formula: [
                { text: "主語", type: "box" },
                { text: "+", type: "text" },
                { text: "be動詞", type: "red" },
                { text: "+", type: "text" },
                { text: "過去分詞", type: "blue" }
            ],
            text: "「（主語が）〜される」という受け身の意味を表す形です。",
            items: [
                { title: "be動詞", desc: "主語に合わせて am/is/are/was/were を選ぶ", icon: "refresh-cw", color: "blue" },
                { title: "過去分詞", desc: "規則動詞はed、不規則動詞は固有の形", icon: "edit", color: "rose" },
                { title: "by + 人", desc: "「〜によって」と動作主を表す", icon: "users", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "This book read by many people.",
            goodExample: "This book <strong>is read</strong> by many people.",
            description: "be動詞を絶対に忘れないこと！また、過去分詞のスペル（特に不規則動詞 speak-spoken など）に注意しましょう。"
        },
        examples: [
            {
                engDisplay: 'English <span class="text-red-600 font-bold">is spoken</span> in our class.',
                engRead: "English is spoken in our class.",
                jp: "英語は私たちのクラスで話されています。",
                icon: "message-circle",
                color: "blue"
            },
            {
                engDisplay: 'This cake <span class="text-red-600 font-bold">is made</span> <span class="text-blue-500 font-bold">by</span> my mother.',
                engRead: "This cake is made by my mother.",
                jp: "このケーキは母によって作られます。",
                icon: "utensils",
                color: "rose"
            },
            {
                engDisplay: 'Soccer <span class="text-red-600 font-bold">is played</span> in the park.',
                engRead: "Soccer is played in the park.",
                jp: "サッカーは公園で行われます。",
                icon: "award",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "English (　　　) in many countries.",
                options: ["speaks", "is spoken", "speaking", "spoke"],
                correctIndex: 1,
                explanation: "主語が「英語」なので「話されている」という受動態（be+過去分詞）にします。"
            },
            {
                id: "qA2",
                subQuestion: "This song was (　　　) by him.",
                options: ["sing", "sang", "sung", "singing"],
                correctIndex: 2,
                explanation: "sing の過去分詞は sung です。不規則動詞の変化に注意。"
            },
            {
                id: "qA3",
                subQuestion: "The room is (　　　) every day.",
                options: ["clean", "cleans", "cleaned", "cleaning"],
                correctIndex: 2,
                explanation: "「そうじされる」という意味なので be + 過去分詞の形を選びます。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "この本は多くの人に読まれています。",
                sentenceParts: ["This book", "{slot}", "{slot}", "by many people."],
                words: ["is", "read", "are", "reading"],
                correctOrder: ["is", "read"],
                explanation: "read の過去分詞はつづりは同じですが発音が「レッド」になります。"
            },
            {
                id: "qB2",
                subQuestion: "英語は世界で使われています。",
                sentenceParts: ["English", "{slot}", "{slot}", "in the world."],
                words: ["is", "used", "was", "use"],
                correctOrder: ["is", "used"],
                explanation: "「使われている（現在）」なので is used となります。"
            },
            {
                id: "qB3",
                subQuestion: "この歌は彼によって歌われました。",
                sentenceParts: ["This song", "{slot}", "{slot}", "by him."],
                words: ["was", "sung", "is", "sing"],
                correctOrder: ["was", "sung"],
                explanation: "「歌われた（過去）」なので be動詞を過去形の was にします。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "このケーキは母によって作られます。",
                words: ["This cake", "is", "made", "by", "my mother"],
                explanation: "「作り手」を表すときは by を使います。"
            },
            {
                id: "qC2",
                subQuestion: "その部屋は毎日そうじされます。",
                words: ["The room", "is", "cleaned", "every day"],
                explanation: "be動詞 + 過去分詞の語順で並べます。"
            }
        ],
        summary: [
            "受動態は「be動詞 ＋ 過去分詞」で「〜される」",
            "be動詞は主語や時制（現在・過去）に合わせて変える",
            "「〜によって」と言いたいときは by を使う"
        ]
    },
    "passive-verb-rules": {
        id: "passive-verb-rules",
        grade: 2,
        menuTitle: "受動態の動詞変化",
        intro: {
            title: "受動態の形：過去分詞",
            subtitle: "be動詞 ＋ 過去分詞",
            goals: ["過去分詞の作り方（規則変化）を覚える", "間違いやすいスペルルールを理解する", "不規則変化の重要語（A-B-C型など）をマスターする"]
        },
        grammar: {
            formula: [
                { text: "be動詞", type: "red" },
                { text: "+", type: "text" },
                { text: "過去分詞 (p.p.)", type: "blue" }
            ],
            text: "受動態を作るには、動詞を「過去分詞形」に変える必要があります。規則変化は過去形と同じルールですが、不規則変化は個別に覚える必要があります。",
            items: [
                { title: "基本 (-ed)", desc: "語尾に ed をつける (play → played / watch → watched)", icon: "plus", color: "blue" },
                { title: "eで終わる (-d)", desc: "d だけをつける (use → used / love → loved)", icon: "edit", color: "rose" },
                { title: "子音＋y (-ied)", desc: "y を i に変えて ed (study → studied / try → tried)", icon: "scissors", color: "orange" },
                { title: "重ねる (-ed)", desc: "最後を重ねて ed (stop → stopped)", icon: "copy", color: "blue" },
                { title: "不規則変化", desc: "形が大きく変わる (speak → spoken / write → written / give → given)", icon: "star", color: "rose" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "This book was writed by him. / English is speaked here.",
            goodExample: "This book was <strong>written</strong>. / English is <strong>spoken</strong>.",
            description: "過去分詞は、過去形と同じもの（規則変化）と、全く形が変わるもの（不規則変化）があります。受動態ではこの「不規則変化」が特に出題されます。"
        },
        examples: [
            { engDisplay: 'This room <span class="text-red-600 font-bold">is cleaned</span> every day.', engRead: "This room is cleaned every day.", jp: "この部屋は毎日掃除されます。（規則変化：ed）", icon: "home", color: "blue" },
            { engDisplay: 'The letter <span class="text-blue-600 font-bold">was written</span> in English.', engRead: "The letter was written in English.", jp: "その手紙は英語で書かれました。（不規則：write-wrote-written）", icon: "mail", color: "rose" },
            { engDisplay: 'This song <span class="text-orange-600 font-bold">is loved</span> by many people.', engRead: "This song is loved by many people.", jp: "この歌は多くの人に愛されています。（eで終わる：d）", icon: "music", color: "orange" }
        ],
        quizChoiceList: [
            { id: "qA1", subQuestion: "Which is the correct past participle of 'study'?", options: ["studyed", "studied", "studing", "studies"], correctIndex: 1, explanation: "子音字+yで終わる語はyをiに変えてedをつけます。" },
            { id: "qA2", subQuestion: "The past participle of 'speak' is (　　　).", options: ["speaked", "spoke", "spoken", "speaking"], correctIndex: 2, explanation: "speakは不規則に変化し、過去分詞はspokenになります。" },
            { id: "qA3", subQuestion: "Which is correct? 'stop' → (　　　)", options: ["stoped", "stopped", "stoppen", "stopping"], correctIndex: 1, explanation: "stopはpを重ねてedをつけます。" }
        ],
        quizFillList: [
            { id: "qB1", subQuestion: "この寺は400年前に建てられました(build)。", sentenceParts: ["This temple was ", "{slot}", " 400 years ago."], words: ["builded", "built", "builds"], correctOrder: ["built"], explanation: "buildの過去分詞は不規則変化のbuiltです。" },
            { id: "qB2", subQuestion: "その窓はケンによって壊されました(break)。", sentenceParts: ["The window was ", "{slot}", " by Ken."], words: ["breaked", "broken", "broke"], correctOrder: ["broken"], explanation: "break-broke-brokenの順で変化します。" },
            { id: "qB3", subQuestion: "このコンピュータは日本で作られました(make)。", sentenceParts: ["This computer was ", "{slot}", " in Japan."], words: ["maked", "made", "makes"], correctOrder: ["made"], explanation: "makeの過去分詞はmadeです（過去形と同じ形）。" }
        ],
        quizSortList: [
            { id: "qC1", subQuestion: "この写真は京都で撮られました(take)。", words: ["This", "picture", "was", "taken", "in", "Kyoto"], explanation: "take-took-takenの過去分詞を使います。" },
            { id: "qC2", subQuestion: "米は日本で育てられています(grow)。", words: ["Rice", "is", "grown", "in", "Japan"], explanation: "grow-grew-grownの過去分詞を使います。" }
        ],
        summary: ["規則変化（ed）のルールは過去形と同じ", "不規則変化（written, spoken等）を優先して覚える", "be動詞を忘れずにセットで使う"]
    },
    "contact-clause": {
        id: "contact-clause",
        grade: 3,
        menuTitle: "後置修飾 (名詞＋主語＋動詞)",
        intro: {
            title: "接触節（関係代名詞の省略）",
            subtitle: "意味：(人が)～する(物) / (人が)～した(人)",
            goals: [
                "「名詞 ＋ 主語 ＋ 動詞」の語順を覚える",
                "「私が読んだ本」「彼が作ったケーキ」などを言えるようにする",
                "目的格の関係代名詞が省略されていることを知る"
            ]
        },
        grammar: {
            formula: [
                { text: "名詞", type: "box" },
                { text: "+", type: "text" },
                { text: "主語", type: "blue" },
                { text: "+", type: "text" },
                { text: "動詞", type: "red" }
            ],
            text: "「私が～する（名詞）」のように、文で名詞を説明するとき、接着剤なしで直接くっつける形です。",
            items: [
                { title: "語順", desc: "必ず「名詞」が先！ (book I read 〇 / I read book ×)", icon: "arrow-left", color: "blue" },
                { title: "省略", desc: "本来は間に that/which があるが、省略して接触させる", icon: "scissors", color: "rose" },
                { title: "訳し方", desc: "後ろのS+Vが、前の名詞にかかる (私が・買った・本)", icon: "message-circle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "This is the I bought camera. / The camera is cool I bought.",
            goodExample: "This is <strong>the camera I bought</strong>. / The camera <strong>I bought</strong> is cool.",
            description: "「私が買った」という説明は、カメラの後ろに置きます。説明が長くても「名詞＋S＋V」の順は絶対です。"
        },
        examples: [
            {
                engDisplay: 'This is the book <span class="text-blue-600 font-bold">I read</span> yesterday.',
                engRead: "This is the book I read yesterday.",
                jp: "これは私が昨日読んだ本です。",
                icon: "book",
                color: "blue"
            },
            {
                engDisplay: 'The cake <span class="text-rose-600 font-bold">my mother made</span> was delicious.',
                engRead: "The cake my mother made was delicious.",
                jp: "母が作ったケーキは美味しかったです。",
                icon: "utensils",
                color: "rose"
            },
            {
                engDisplay: 'He is a teacher <span class="text-orange-600 font-bold">everyone likes</span>.',
                engRead: "He is a teacher everyone likes.",
                jp: "彼はみんなが好きな先生です。",
                icon: "user",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "This is the picture (　　　) in Kyoto.",
                options: ["I took", "took I", "I taken", "my took"],
                correctIndex: 0,
                explanation: "「名詞(picture) + 主語(I) + 動詞(took)」の語順です。"
            },
            {
                id: "qA2",
                subQuestion: "The movie (　　　) last night was exciting.",
                options: ["we saw", "saw we", "we see", "us saw"],
                correctIndex: 0,
                explanation: "「私たちが見た（映画）」なので we saw を映画の後ろに置きます。"
            },
            {
                id: "qA3",
                subQuestion: "Do you know the man (　　　)?",
                options: ["Ken is talking to", "talking is Ken", "Ken talking", "to Ken talking"],
                correctIndex: 0,
                explanation: "「ケンが話しかけている（男性）」the man Ken is talking to となります。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "あれは彼が書いた手紙です。",
                sentenceParts: ["That is the letter", "{slot}", "{slot}", "."],
                words: ["he", "wrote", "write", "him"],
                correctOrder: ["he", "wrote"],
                explanation: "名詞(letter)の後ろに S(he)+V(wrote) を続けます。"
            },
            {
                id: "qB2",
                subQuestion: "これが私の欲しかった自転車です。",
                sentenceParts: ["This is the bike", "{slot}", "{slot}", "."],
                words: ["I", "wanted", "my", "want"],
                correctOrder: ["I", "wanted"],
                explanation: "「私が欲しかった」なので I wanted です。"
            },
            {
                id: "qB3",
                subQuestion: "父が料理したカレーは辛かったです。",
                sentenceParts: ["The curry", "{slot}", "{slot}", "{slot}", "was hot."],
                words: ["my", "father", "cooked", "cook"],
                correctOrder: ["my", "father", "cooked"],
                explanation: "The curry [my father cooked] was hot. という構造です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "これらは私が撮った写真です。",
                words: ["These", "are", "the", "pictures", "I", "took"],
                explanation: "pictures の後ろに I took を置きます。"
            },
            {
                id: "qC2",
                subQuestion: "彼が作った夕食はとてもおいしいです。",
                words: ["The", "dinner", "he", "cooked", "is", "very", "delicious"],
                explanation: "The dinner [he cooked] が文の主語になります。"
            }
        ],
        summary: [
            "名詞 ＋ 主語 ＋ 動詞 （接触節）",
            "意味は「（主語）が～する（名詞）」",
            "関係代名詞(that/which/who)が省略された形"
        ]
    },
    "relative-pronoun-who": {
        id: "relative-pronoun-who",
        grade: 3,
        menuTitle: "関係代名詞 who (人)",
        intro: {
            title: "人をつなぐ who",
            subtitle: "意味：～する(人) / ～である(人)",
            goals: [
                "先行詞が「人」のときは who を使う",
                "「～する人」というふうに後ろから人を詳しく説明する",
                "who の後ろにすぐ動詞が来る形（主格）に慣れる"
            ]
        },
        grammar: {
            formula: [
                { text: "名詞(人)", type: "box" },
                { text: "+", type: "text" },
                { text: "who", type: "red" },
                { text: "+", type: "text" },
                { text: "動詞 ...", type: "blue" }
            ],
            text: "「～している人」「～である人」のように、人の名詞（先行詞）を後ろから文で説明するときに使います。",
            items: [
                { title: "先行詞は「人」", desc: "friend, teacher, boy, girl などの後ろに置く", icon: "user", color: "blue" },
                { title: "who + 動詞", desc: "who が主語の働きをして、すぐ後ろに動詞が続く", icon: "arrow-right-circle", color: "rose" },
                { title: "that もOK", desc: "who の代わりに that を使うこともできる", icon: "star", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I have a friend which lives in Osaka.",
            goodExample: "I have a friend <strong>who</strong> lives in Osaka.",
            description: "友達（friend）は「人」なので、which ではなく who を使います。"
        },
        examples: [
            {
                engDisplay: 'I have a friend <span class="text-rose-600 font-bold">who lives</span> in London.',
                engRead: "I have a friend who lives in London.",
                jp: "私にはロンドンに住んでいる友達がいます。",
                icon: "user",
                color: "rose"
            },
            {
                engDisplay: 'The man <span class="text-blue-600 font-bold">who is running</span> is Ken.',
                engRead: "The man who is running is Ken.",
                jp: "走っているその男性はケンです。",
                icon: "activity",
                color: "blue"
            },
            {
                engDisplay: 'Do you know the girl <span class="text-orange-600 font-bold">who likes</span> tennis?',
                engRead: "Do you know the girl who likes tennis?",
                jp: "テニスが好きなその女の子を知っていますか？",
                icon: "heart",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I know the girl (　　　) is standing there.",
                options: ["who", "which", "whose", "whom"],
                correctIndex: 0,
                explanation: "girl（人）を説明するので who を使います。"
            },
            {
                id: "qA2",
                subQuestion: "He is a teacher (　　　) teaches math.",
                options: ["who", "which", "what", "whose"],
                correctIndex: 0,
                explanation: "teacher（人）なので who を選びます。"
            },
            {
                id: "qA3",
                subQuestion: "The boy (　　　) came here yesterday is my brother.",
                options: ["who", "which", "whom", "what"],
                correctIndex: 0,
                explanation: "boy（人）の後ろに続き、came（動詞）の前にあるので who です。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "公園で走っている少年を見て。",
                sentenceParts: ["Look at the boy", "{slot}", "{slot}", "running in the park."],
                words: ["who", "is", "which", "are"],
                correctOrder: ["who", "is"],
                explanation: "boy（人）の後ろに who is running を続けます。"
            },
            {
                id: "qB2",
                subQuestion: "私には英語を話すおじがいます。",
                sentenceParts: ["I have an uncle", "{slot}", "{slot}", "English."],
                words: ["who", "speaks", "speak", "which"],
                correctOrder: ["who", "speaks"],
                explanation: "uncle（一人）なので動詞に s をつけて speaks にします。"
            },
            {
                id: "qB3",
                subQuestion: "ピアノを弾いている女性は誰ですか？",
                sentenceParts: ["Who is the woman", "{slot}", "{slot}", "the piano?"],
                words: ["who", "is playing", "plays", "playing"],
                correctOrder: ["who", "is playing"],
                explanation: "「弾いている（進行形）」なので who is playing です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "英語を話すその男性はケンです。",
                words: ["The", "man", "who", "speaks", "English", "is", "Ken"],
                explanation: "The man [who speaks English] が主語になります。"
            },
            {
                id: "qC2",
                subQuestion: "動物が好きな人たちがいます。",
                words: ["There", "are", "people", "who", "like", "animals"],
                explanation: "people（人々）の後ろに who like animals をつけます。"
            }
        ],
        summary: [
            "人が先行詞のときは who を使う",
            "名詞 ＋ who ＋ 動詞 ... の語順",
            "who の後ろの動詞は、前の名詞の数（単数/複数）に合わせる"
        ]
    },
    "relative-pronoun-which": {
        id: "relative-pronoun-which",
        grade: 3,
        menuTitle: "関係代名詞 which (物・動物)",
        intro: {
            title: "物をつなぐ which",
            subtitle: "意味：～する(物) / ～である(物)",
            goals: [
                "先行詞が「物・動物」のときは which を使う",
                "「～する物」「～された物」と詳しく説明する",
                "which の後ろに動詞が続く形（主格）をマスターする"
            ]
        },
        grammar: {
            formula: [
                { text: "名詞(物)", type: "box" },
                { text: "+", type: "text" },
                { text: "which", type: "red" },
                { text: "+", type: "text" },
                { text: "動詞 ...", type: "blue" }
            ],
            text: "「駅へ行くバス」「日本で作られたコンピュータ」のように、物や動物の名詞（先行詞）を後ろから文で説明します。",
            items: [
                { title: "先行詞は「物」", desc: "bus, dog, book, house などの後ろに置く", icon: "box", color: "blue" },
                { title: "which + 動詞", desc: "which が主語の働きをして、すぐ後ろに動詞が続く", icon: "arrow-right-circle", color: "rose" },
                { title: "that もOK", desc: "which の代わりに that を使うこともできる", icon: "star", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "This is a book who was written by Soseki.",
            goodExample: "This is a book <strong>which</strong> was written by Soseki.",
            description: "本（book）は「物」なので、who ではなく which を使います。"
        },
        examples: [
            {
                engDisplay: 'This is a bus <span class="text-blue-600 font-bold">which goes</span> to the station.',
                engRead: "This is a bus which goes to the station.",
                jp: "これは駅へ行くバスです。",
                icon: "bus",
                color: "blue"
            },
            {
                engDisplay: 'I have a dog <span class="text-rose-600 font-bold">which runs</span> very fast.',
                engRead: "I have a dog which runs very fast.",
                jp: "私はとても速く走る犬を飼っています。",
                icon: "star",
                color: "rose"
            },
            {
                engDisplay: 'The shop <span class="text-orange-600 font-bold">which sells</span> cakes is closed.',
                engRead: "The shop which sells cakes is closed.",
                jp: "ケーキを売っているその店は閉まっています。",
                icon: "shopping-bag",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "This is a computer (　　　) was made in Japan.",
                options: ["which", "who", "whom", "whose"],
                correctIndex: 0,
                explanation: "computer（物）を説明するので which を使います。"
            },
            {
                id: "qA2",
                subQuestion: "I want a house (　　　) has a big garden.",
                options: ["which", "who", "where", "what"],
                correctIndex: 0,
                explanation: "house（物）の後ろにあり、has（動詞）の前なので which です。"
            },
            {
                id: "qA3",
                subQuestion: "Look at the cat (　　　) is sleeping on the bed.",
                options: ["which", "who", "whom", "whose"],
                correctIndex: 0,
                explanation: "cat（動物）なので which を選びます。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "これは漱石によって書かれた本です。",
                sentenceParts: ["This is a book", "{slot}", "{slot}", "written by Soseki."],
                words: ["which", "was", "who", "is"],
                correctOrder: ["which", "was"],
                explanation: "「書かれた」という受動態（was written）につなげます。"
            },
            {
                id: "qB2",
                subQuestion: "机の上にあるペンは私のです。",
                sentenceParts: ["The pen", "{slot}", "{slot}", "on the desk is mine."],
                words: ["which", "is", "who", "are"],
                correctOrder: ["which", "is"],
                explanation: "The pen [which is on the desk] が主語になります。"
            },
            {
                id: "qB3",
                subQuestion: "長い耳を持っている犬が見えます。",
                sentenceParts: ["I see a dog", "{slot}", "{slot}", "long ears."],
                words: ["which", "has", "have", "who"],
                correctOrder: ["which", "has"],
                explanation: "dog（単数）なので動詞は has にします。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "図書館へ行くバスはどれですか？",
                words: ["Which", "is", "the", "bus", "which", "goes", "to", "the", "library", "?"],
                explanation: "最初の Which は「どれ」、2番目の which は関係代名詞です。"
            },
            {
                id: "qC2",
                subQuestion: "これらは英語で書かれた手紙です。",
                words: ["These", "are", "letters", "which", "were", "written", "in", "English"],
                explanation: "letters（複数）なので、関係代名詞の中も were written になります。"
            }
        ],
        summary: [
            "物・動物が先行詞のときは which を使う",
            "名詞 ＋ which ＋ 動詞 ... の語順",
            "which の後ろの動詞は、前の名詞の数（単数/複数）に合わせる"
        ]
    },
    "relative-pronouns-summary": {
        id: "relative-pronouns-summary",
        grade: 3,
        menuTitle: "関係代名詞まとめ (who / which)",
        intro: {
            title: "who と which の使い分け",
            subtitle: "人なら who / 物なら which",
            goals: [
                "先行詞（説明される言葉）を見て who か which を選ぶ",
                "どちらにも使える that の存在を確認する",
                "後ろの動詞の形（sがつくかどうか）に注意する"
            ]
        },
        grammar: {
            formula: [
                { text: "人", type: "box" },
                { text: "+", type: "text" },
                { text: "who", type: "red" },
                { text: " ... / ", type: "text" },
                { text: "物・動物", type: "box" },
                { text: "+", type: "text" },
                { text: "which", type: "blue" },
                { text: " ...", type: "text" }
            ],
            text: "関係代名詞の前の名詞（先行詞）が「人間」か「それ以外」かで使い分けます。",
            items: [
                { title: "who", desc: "先行詞が「人」(boy, teacher, friend...)", icon: "user", color: "rose" },
                { title: "which", desc: "先行詞が「物・動物」(book, dog, car...)", icon: "box", color: "blue" },
                { title: "that", desc: "迷ったらこれ！人にも物にも使える", icon: "star", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I have a dog who runs fast.",
            goodExample: "I have a dog <strong>which</strong> runs fast.",
            description: "ペットでも動物は原則 which を使います（家族同然のペットに who を使うこともありますが、テストでは which が無難です）。"
        },
        examples: [
            {
                engDisplay: 'The <span class="text-rose-600 font-bold">girl who</span> is playing tennis is Yumi.',
                engRead: "The girl who is playing tennis is Yumi.",
                jp: "テニスをしているその女の子（人）はユミです。",
                icon: "user",
                color: "rose"
            },
            {
                engDisplay: 'The <span class="text-blue-600 font-bold">bus which</span> goes to the park is red.',
                engRead: "The bus which goes to the park is red.",
                jp: "公園へ行くバス（物）は赤色です。",
                icon: "bus",
                color: "blue"
            },
            {
                engDisplay: 'I like <span class="text-orange-600 font-bold">movies that</span> make me happy.',
                engRead: "I like movies that make me happy.",
                jp: "私は私を幸せにする映画（物）が好きです。",
                icon: "film",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I have a friend (　　　) lives in Hokkaido.",
                options: ["who", "which", "whose", "whom"],
                correctIndex: 0,
                explanation: "friend（友達）は「人」なので who を選びます。"
            },
            {
                id: "qA2",
                subQuestion: "This is a computer (　　　) was made in China.",
                options: ["which", "who", "whom", "whose"],
                correctIndex: 0,
                explanation: "computer（コンピュータ）は「物」なので which を選びます。"
            },
            {
                id: "qA3",
                subQuestion: "The man (　　　) is standing by the door is my uncle.",
                options: ["that", "which", "whose", "what"],
                correctIndex: 0,
                explanation: "man（男性）は「人」です。who が選択肢にないので that を選びます。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "速く走る犬が欲しいです。",
                sentenceParts: ["I want a dog", "{slot}", "{slot}", "fast."],
                words: ["which", "runs", "who", "run"],
                correctOrder: ["which", "runs"],
                explanation: "dog（動物）なので which。単数なので動詞に s をつけます。"
            },
            {
                id: "qB2",
                subQuestion: "英語を話す生徒たち。",
                sentenceParts: ["Students", "{slot}", "{slot}", "English."],
                words: ["who", "speak", "which", "speaks"],
                correctOrder: ["who", "speak"],
                explanation: "students（人・複数）なので who speak（sは不要）となります。"
            },
            {
                id: "qB3",
                subQuestion: "丘の上に立っている家。",
                sentenceParts: ["The house", "{slot}", "{slot}", "on the hill."],
                words: ["which", "stands", "who", "stand"],
                correctOrder: ["which", "stands"],
                explanation: "house（物・単数）なので which stands です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "ギターを弾いている少年は誰ですか？",
                words: ["Who", "is", "the", "boy", "who", "is", "playing", "the", "guitar", "?"],
                explanation: "「少年（人）」の後ろに who を置きます。"
            },
            {
                id: "qC2",
                subQuestion: "駅へ行くバスはどれですか？",
                words: ["Which", "is", "the", "bus", "which", "goes", "to", "the", "station", "?"],
                explanation: "「バス（物）」の後ろに which を置きます。"
            }
        ],
        summary: [
            "前の名詞（先行詞）が人なら who",
            "前の名詞（先行詞）が物・動物なら which",
            "that はどちらの代わりにもなる万能選手"
        ]
    },
    "prepositions-master": {
        id: "prepositions-master",
        grade: 3,
        menuTitle: "前置詞の使い方 (まとめ)",
        intro: {
            title: "前置詞マスター",
            subtitle: "at / on / in / for / to / of ...",
            goals: [
                "「時」を表す前置詞（at, on, in）を整理する",
                "「場所」を表す前置詞（at, in, on, under）を整理する",
                "その他（for, to, with, of, by）のイメージをつかむ"
            ]
        },
        grammar: {
            formula: [
                { text: "前置詞", type: "red" },
                { text: "+", type: "text" },
                { text: "名詞 / 代名詞", type: "blue" }
            ],
            text: "名詞の前に置いて、時間・場所・方向・手段などを説明する言葉です。",
            items: [
                { title: "時 (Time)", desc: "at 7 (時刻), on Sunday (曜日), in 2025 (年/月)", icon: "clock", color: "blue" },
                { title: "場所 (Place)", desc: "at the station (点), in the box (中), on the desk (上)", icon: "map-pin", color: "rose" },
                { title: "方向・相手", desc: "to school (到着点), for Tokyo (目的地), with Ken (一緒)", icon: "arrow-right-circle", color: "orange" }
            ]
        },
        points: {
            title: "重要ポイント！",
            color: "yellow",
            badExample: "I get up in 7. / I go at school.",
            goodExample: "I get up <strong>at 7</strong>. / I go <strong>to school</strong>.",
            description: "at は「点（ピンポイント）」、in は「広い枠の中」、on は「接触（くっついている）」、to は「矢印（到達）」のイメージです。"
        },
        examples: [
            {
                engDisplay: 'I was born <span class="text-blue-600 font-bold">in</span> 2010.',
                engRead: "I was born in 2010.",
                jp: "私は2010年に生まれました（年は in）。",
                icon: "calendar",
                color: "blue"
            },
            {
                engDisplay: 'The picture is <span class="text-rose-600 font-bold">on</span> the wall.',
                engRead: "The picture is on the wall.",
                jp: "その写真は壁に掛かっています（接触の on）。",
                icon: "image",
                color: "rose"
            },
            {
                engDisplay: 'This present is <span class="text-orange-600 font-bold">for</span> you.',
                engRead: "This present is for you.",
                jp: "このプレゼントはあなたへ（あなたのため）です。",
                icon: "gift",
                color: "orange"
            }
        ],
        quizChoiceList: [
            {
                id: "qA1",
                subQuestion: "I get up (　　　) six o'clock.",
                options: ["at", "on", "in", "to"],
                correctIndex: 0,
                explanation: "時刻（6時）には at を使います。"
            },
            {
                id: "qA2",
                subQuestion: "He lives (　　　) Japan.",
                options: ["in", "at", "on", "to"],
                correctIndex: 0,
                explanation: "国や都市などの広い場所には in を使います。"
            },
            {
                id: "qA3",
                subQuestion: "I go to school (　　　) bus.",
                options: ["by", "in", "with", "on"],
                correctIndex: 0,
                explanation: "交通手段（～で）は by を使います。"
            }
        ],
        quizFillList: [
            {
                id: "qB1",
                subQuestion: "私たちは日曜日にテニスをします。",
                sentenceParts: ["We play tennis", "{slot}", "{slot}", "."],
                words: ["on", "Sunday", "in", "at"],
                correctOrder: ["on", "Sunday"],
                explanation: "曜日・特定の日付には on を使います。"
            },
            {
                id: "qB2",
                subQuestion: "机の下に猫がいます。",
                sentenceParts: ["There is a cat", "{slot}", "{slot}", "desk."],
                words: ["under", "the", "on", "in"],
                correctOrder: ["under", "the"],
                explanation: "「～の下に」は under です。"
            },
            {
                id: "qB3",
                subQuestion: "私は家族と一緒に住んでいます。",
                sentenceParts: ["I live", "{slot}", "{slot}", "family."],
                words: ["with", "my", "to", "for"],
                correctOrder: ["with", "my"],
                explanation: "「～と一緒に」は with です。"
            }
        ],
        quizSortList: [
            {
                id: "qC1",
                subQuestion: "この電車は東京行きです。",
                words: ["This", "train", "is", "for", "Tokyo"],
                explanation: "目的地（～行き）は for を使います。"
            },
            {
                id: "qC2",
                subQuestion: "その箱の中には何が入っていますか？",
                words: ["What", "is", "in", "the", "box", "?"],
                explanation: "「～の中に」は in です。"
            }
        ],
        summary: [
            "時：at (時刻), on (曜日), in (月/年)",
            "場所：at (地点), in (中), on (上/接触)",
            "手段：by (交通/方法), with (道具/同伴)"
        ]
    }
};

/**
 * --------------------------------------------------------------------------
 * アプリロジック
 * --------------------------------------------------------------------------
 */
const STATUS_KEY = 'english_app_status';

function loadStatusMap() {
    try {
        const raw = localStorage.getItem(STATUS_KEY);
        return raw ? JSON.parse(raw) : {};
    } catch {
        return {};
    }
}

function saveStatusMap(map) {
    localStorage.setItem(STATUS_KEY, JSON.stringify(map));
}

function getLessonStatus(id) {
    const map = loadStatusMap();
    return map[id] || null;
}

function setLessonStatus(id, status) {
    const map = loadStatusMap();
    map[id] = status;
    saveStatusMap(map);
}

const state = {
    view: 'gradeSelect',
    currentLessonData: null,
    currentSlide: 0,
    slides: [],
    quizStates: {}
};

const wrapper = document.getElementById('slide-wrapper');
const footer = document.getElementById('nav-footer');
const statusArea = document.getElementById('status-area');
const headerTitle = document.getElementById('header-title');

function init() {
    const urlParams = new URLSearchParams(window.location.search);
    const unitId = urlParams.get('unit');

    if (unitId && LESSONS_DB[unitId]) {
        startLesson(unitId);
    } else {
        renderGradeSelect();
    }
    
    document.getElementById('btn-prev').addEventListener('click', () => changeSlide(-1));
    document.getElementById('btn-next').addEventListener('click', () => changeSlide(1));
}

function renderGradeSelect() {
    state.view = 'gradeSelect';
    footer.classList.add('hidden');
    headerTitle.textContent = "中学英語 学習ナビ";
    statusArea.innerHTML = "";
    
    wrapper.innerHTML = `
        <div class="fade-in max-w-2xl mx-auto w-full py-4 text-center">
            <h2 class="text-2xl font-bold mb-8 text-slate-800 flex items-center justify-center gap-2">
                <i data-lucide="layout"></i> コース一覧
            </h2>
            <div class="grid gap-6">
                ${[1, 2, 3].map(grade => `
                    <button onclick="renderLessonSelect(${grade})" class="group relative flex items-center justify-center bg-white p-8 rounded-2xl border-2 border-slate-200 shadow-sm hover:border-blue-500 hover:shadow-md transition-all">
                        <div class="text-3xl font-black text-blue-600 mr-4 group-hover:scale-110 transition-transform">${grade}<span class="text-sm ml-1 text-slate-400">年</span></div>
                        <div class="text-xl font-bold text-slate-700">英語の学習をはじめる</div>
                        <i data-lucide="chevron-right" class="absolute right-6 text-slate-300 group-hover:text-blue-500 group-hover:translate-x-1 transition-all"></i>
                    </button>
                `).join('')}
            </div>
        </div>
    `;
    lucide.createIcons();
}

function renderLessonSelect(grade) {
    state.view = 'lessonSelect';
    headerTitle.textContent = `${grade}年生のコース`;
    
    const lessons = Object.values(LESSONS_DB).filter(l => l.grade === grade);
    const statusMap = loadStatusMap();
    
    wrapper.innerHTML = `
        <div class="fade-in max-w-2xl mx-auto w-full py-4">
            <div class="flex items-center gap-4 mb-8">
                <button onclick="renderGradeSelect()" class="p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-500">
                    <i data-lucide="arrow-left"></i>
                </button>
                <h2 class="text-2xl font-bold text-slate-800">単元を選択</h2>
            </div>
            <div class="grid gap-3">
                ${lessons.length > 0 ? lessons.map(lesson => `
                    <button onclick="startLesson('${lesson.id}')" class="group flex justify-between items-center bg-white p-4 rounded-xl border border-slate-200 shadow-sm hover:border-blue-400 hover:shadow-md transition-all text-left">
                        <div>
                            <div class="text-lg font-bold text-slate-800 group-hover:text-blue-600 flex items-center gap-2">
                                <span>${lesson.menuTitle}</span>
                                ${statusMap[lesson.id] === 'gold' ? '<span class="text-red-500 text-4xl">💮</span>' : statusMap[lesson.id] === 'silver' ? '<span class="text-blue-500 text-lg">⭕️</span>' : ''}
                            </div>
                            <div class="text-xs text-slate-500">${lesson.intro.subtitle}</div>
                        </div>
                        <i data-lucide="chevron-right" class="text-slate-300 group-hover:text-blue-500"></i>
                    </button>
                `).join('') : `<p class="text-center py-10 text-slate-400 italic">準備中です...</p>`}
            </div>
        </div>
    `;
    lucide.createIcons();
}

function startLesson(id) {
    const l = LESSONS_DB[id];
    state.view = 'lesson';
    state.currentLessonData = l;
    state.currentSlide = 0;
    state.quizStates = {};

    state.slides = [{ type: 'intro' }, { type: 'grammar' }, { type: 'points' }, { type: 'examples' }];
    if (l.quizChoiceList.length) {
        state.slides.push({ type: 'quizA_All_Q' }, { type: 'quizA_All_A' });
        l.quizChoiceList.forEach(q => state.quizStates[q.id] = { selectedIndex: null, isCorrect: false });
    }
    if (l.quizFillList.length) {
        state.slides.push({ type: 'quizB_All_Q' }, { type: 'quizB_All_A' });
        l.quizFillList.forEach(q => state.quizStates[q.id] = { slots: q.correctOrder.map(() => null), pool: [...q.words].sort(() => Math.random() - 0.5), isCorrect: false });
    }
    if (l.quizSortList.length) {
        state.slides.push({ type: 'quizC_All_Q' }, { type: 'quizC_All_A' });
        l.quizSortList.forEach(q => state.quizStates[q.id] = { selected: [], pool: [...q.words].sort(() => Math.random() - 0.5), isCorrect: false });
    }
    state.slides.push({ type: 'summary' });

    footer.classList.remove('hidden');
    headerTitle.textContent = l.intro.title;
    createDots();
    renderSlide(true);
}

// リンクをクリップボードにコピーする関数
function copyCurrentLink() {
    if (!state.currentLessonData) return;
    const url = window.location.origin + window.location.pathname + '?unit=' + state.currentLessonData.id;
    
    const el = document.createElement('textarea');
    el.value = url;
    document.body.appendChild(el);
    el.select();
    document.execCommand('copy');
    document.body.removeChild(el);
    
    const copyBtn = document.getElementById('btn-copy-link');
    const copyText = document.getElementById('copy-text');
    
    copyText.innerText = "コピーしました！";
    copyBtn.classList.replace('text-slate-500', 'text-green-600');
    copyBtn.classList.replace('bg-slate-100', 'bg-green-50');
    
    setTimeout(() => {
        copyText.innerText = "リンクをコピー";
        copyBtn.classList.replace('text-green-600', 'text-slate-500');
        copyBtn.classList.replace('bg-green-50', 'bg-slate-100');
    }, 2000);
}

function goToMenu() {
    window.history.replaceState({}, document.title, window.location.pathname);
    renderGradeSelect();
}

function restartLesson() {
    startLesson(state.currentLessonData.id);
}

function changeSlide(direction) {
    const next = state.currentSlide + direction;
    if (next >= 0 && next < state.slides.length) {
        state.currentSlide = next;
        renderSlide(true);
    }
}

function createDots() {
    const dotsContainer = document.getElementById('dots-container');
    dotsContainer.innerHTML = '';
    state.slides.forEach((_, i) => {
        const dot = document.createElement('div');
        dot.className = `flex-shrink-0 rounded-full transition-all duration-300 ${i === state.currentSlide ? 'bg-blue-600 w-3 h-3' : 'bg-slate-300 w-1.5 h-1.5'}`;
        dotsContainer.appendChild(dot);
    });
}

function updateControls() {
    document.getElementById('btn-prev').disabled = state.currentSlide === 0;
    document.getElementById('btn-next').disabled = state.currentSlide === state.slides.length - 1;
    statusArea.innerHTML = `Slide <span class="text-blue-600 font-bold">${state.currentSlide + 1}</span> / ${state.slides.length}`;
    
    const dotsContainer = document.getElementById('dots-container');
    Array.from(dotsContainer.children).forEach((dot, i) => {
        dot.className = `flex-shrink-0 rounded-full transition-all duration-300 ${i === state.currentSlide ? 'bg-blue-600 w-3 h-3' : 'bg-slate-300 w-1.5 h-1.5'}`;
    });
}

function renderSlide(animate = true) {
    const slide = state.slides[state.currentSlide];
    const lesson = state.currentLessonData;
    const currentScroll = wrapper.scrollTop;

    let html = "";
    switch (slide.type) {
        case 'intro': html = getIntroHtml(lesson); break;
        case 'grammar': html = getGrammarHtml(lesson); break;
        case 'points': html = getPointsHtml(lesson); break;
        case 'examples': html = getExamplesHtml(lesson); break;
        case 'quizA_All_Q': html = getQuizA_All_Q_Html(lesson); break;
        case 'quizA_All_A': html = getQuizA_All_A_Html(lesson); break;
        case 'quizB_All_Q': html = getQuizB_All_Q_Html(lesson); break;
        case 'quizB_All_A': html = getQuizB_All_A_Html(lesson); break;
        case 'quizC_All_Q': html = getQuizC_All_Q_Html(lesson); break;
        case 'quizC_All_A': html = getQuizC_All_A_Html(lesson); break;
        case 'summary': html = getSummaryHtml(lesson); break;
    }

    wrapper.innerHTML = html;
    if (animate) {
        wrapper.classList.remove('fade-in');
        void wrapper.offsetWidth;
        wrapper.classList.add('fade-in');
        wrapper.scrollTop = 0;
    } else {
        wrapper.classList.remove('fade-in');
        wrapper.scrollTop = currentScroll;
    }
    lucide.createIcons();
    updateControls();
}

function speak(text) {
    if (!window.speechSynthesis) return;
    window.speechSynthesis.cancel();
    const utterance = new SpeechSynthesisUtterance(text);
    const voices = window.speechSynthesis.getVoices();
    const enVoice = voices.find(v => v.lang === 'en-US') || voices.find(v => v.lang.startsWith('en'));
    if (enVoice) utterance.voice = enVoice;
    utterance.rate = 0.9;
    window.speechSynthesis.speak(utterance);
}

// --- HTML Generators (Core) ---
function getIntroHtml(l) {
    return `<div class="flex flex-col items-center justify-center h-full text-center space-y-4">
        <div class="p-3 bg-blue-50 rounded-full mb-2"><i data-lucide="flag" class="w-10 h-10 text-blue-600"></i></div>
        <h2 class="text-3xl font-bold text-slate-800">${l.intro.title}</h2>
        <p class="text-lg text-slate-500">${l.intro.subtitle}</p>
        <div class="mt-4 bg-slate-50 p-4 rounded-xl border border-slate-200 text-left w-full max-w-xl">
            <h3 class="text-base font-bold text-slate-700 mb-2 flex items-center gap-2"><i data-lucide="target" class="w-4 h-4 text-red-500"></i> 目標</h3>
            <ul class="space-y-2">${l.intro.goals.map(g => `<li class="flex items-start gap-2 text-lg"><span class="w-1.5 h-1.5 rounded-full bg-blue-500 mt-2"></span>${g}</li>`).join('')}</ul>
        </div>
    </div>`;
}

function getGrammarHtml(l) {
    const fHtml = l.grammar.formula.map(item => {
        let cls = "px-2 py-1 text-xl font-bold rounded mb-1 mx-0.5 inline-block ";
        if (item.type === 'red') cls += "text-red-600 bg-red-50 border border-red-100";
        else if (item.type === 'blue') cls += "text-blue-600 bg-blue-50 border border-blue-100";
        else if (item.type === 'box') cls += "text-slate-800 border-2 border-slate-800 bg-white";
        else cls += "text-slate-400";
        return `<span class="${cls}">${item.text}</span>`;
    }).join('');
    return `<div class="flex flex-col h-full gap-4 justify-center">
        <div class="text-center space-y-4">
            <h3 class="text-xl font-bold text-slate-700">文の形</h3>
            <div class="p-4 bg-slate-50 rounded-xl border border-slate-200 shadow-inner">${fHtml}</div>
            <p class="text-lg text-slate-600">${l.grammar.text}</p>
        </div>
        <div class="grid md:grid-cols-3 gap-3">
            ${l.grammar.items.map(i => `<div class="bg-white p-3 rounded-lg border border-slate-200 shadow-sm flex items-center gap-3">
                <div class="p-2 bg-${i.color}-100 rounded text-${i.color}-600"><i data-lucide="${i.icon}"></i></div>
                <div><h4 class="text-base font-bold text-slate-800">${i.title}</h4><p class="text-slate-600 text-sm">${i.desc}</p></div>
            </div>`).join('')}
        </div>
    </div>`;
}

function getPointsHtml(l) {
    return `<div class="flex flex-col items-center justify-center h-full space-y-6 max-w-2xl mx-auto w-full text-center">
        <div class="flex items-center gap-2 text-yellow-600 mb-2"><i data-lucide="lightbulb" class="w-8 h-8"></i><h3 class="text-2xl font-bold">${l.points.title}</h3></div>
        <div class="w-full space-y-4">
            <div class="p-4 bg-red-50 rounded-xl border border-red-200"><div class="text-xs font-bold text-red-600 mb-1 uppercase">Bad</div><div class="text-xl text-slate-700 line-through">${l.points.badExample}</div></div>
            <i data-lucide="arrow-down" class="mx-auto text-slate-300"></i>
            <div class="p-5 bg-green-50 rounded-xl border border-green-200 shadow-sm"><div class="text-xs font-bold text-green-600 mb-1 uppercase">Good</div><div class="text-2xl text-slate-800 font-bold">${l.points.goodExample}</div><p class="mt-3 text-green-800 pt-3 border-t border-green-200 text-sm font-medium">${l.points.description}</p></div>
        </div>
    </div>`;
}

function getExamplesHtml(l) {
    return `<div class="space-y-4 h-full flex flex-col justify-center">
        <h3 class="text-xl font-bold text-slate-700 flex items-center gap-2 mb-2"><i data-lucide="message-square" class="w-6 h-6 text-blue-500"></i> 例文</h3>
        <div class="grid gap-3">
            ${l.examples.map(ex => `<div class="bg-white p-4 rounded-lg border-l-4 border-${ex.color}-500 shadow-sm flex items-center gap-3 group hover:shadow-md transition-all">
                <button onclick="speak('${ex.engRead.replace(/'/g, "\\'")}')" class="p-2 rounded-full bg-slate-100 text-slate-500 hover:bg-blue-100 hover:text-blue-600 transition-colors"><i data-lucide="volume-2" class="w-5 h-5"></i></button>
                <div class="flex-grow"><p class="text-xl text-slate-800 mb-0.5">${ex.engDisplay}</p><p class="text-slate-500 text-sm">${ex.jp}</p></div>
            </div>`).join('')}
        </div>
    </div>`;
}

function selectOptionA(id, idx) { state.quizStates[id].selectedIndex = idx; renderSlide(false); }

function updateLessonStatus() {
    const l = state.currentLessonData;
    if (!l) return;
    const total = l.quizChoiceList.length + l.quizFillList.length + l.quizSortList.length;
    if (!total) return;

    let correct = 0;
    l.quizChoiceList.forEach(q => { if (state.quizStates[q.id]?.isCorrect) correct++; });
    l.quizFillList.forEach(q => { if (state.quizStates[q.id]?.isCorrect) correct++; });
    l.quizSortList.forEach(q => { if (state.quizStates[q.id]?.isCorrect) correct++; });

    if (correct === total) {
        setLessonStatus(l.id, 'gold');
        return;
    }
    if (correct > 0) {
        const current = getLessonStatus(l.id);
        if (current !== 'gold') setLessonStatus(l.id, 'silver');
    }
}

function checkAllQuizA() {
    state.currentLessonData.quizChoiceList.forEach(q => {
        const s = state.quizStates[q.id];
        s.isCorrect = (s.selectedIndex === q.correctIndex);
    });
    updateLessonStatus();
    changeSlide(1);
}

function getQuizA_All_Q_Html(l) {
    return `<div class="h-full flex flex-col"><h3 class="text-xl font-bold text-slate-800 mb-2 flex items-center gap-2"><i data-lucide="check-square" class="w-6 h-6 text-blue-500"></i> 練習問題 A</h3>
    <div class="flex flex-col gap-2 flex-grow overflow-y-auto justify-center">
        ${l.quizChoiceList.map((q, i) => `<div class="bg-white p-3 rounded-lg border border-slate-200 mb-2">
            <div class="text-xl font-bold text-slate-800 leading-tight mb-2"><span class="text-blue-600 text-base mr-2">Q${i+1}.</span>${q.subQuestion}</div>
            <div class="grid grid-cols-4 gap-2">${q.options.map((opt, idx) => `<button onclick="selectOptionA('${q.id}', ${idx})" class="w-full text-center px-2 py-2 rounded border transition-all font-medium ${state.quizStates[q.id].selectedIndex === idx ? 'bg-blue-600 text-white' : 'bg-white text-slate-700 hover:bg-slate-50'}">${opt}</button>`).join('')}</div>
        </div>`).join('')}
    </div><div class="mt-2 text-center flex-shrink-0"><button onclick="checkAllQuizA()" class="px-10 py-2 bg-blue-600 text-white font-bold rounded-full shadow-lg">答え合わせ</button></div></div>`;
}

function getQuizA_All_A_Html(l) {
    return `<div class="h-full flex flex-col"><h3 class="text-xl font-bold text-slate-800 mb-4 flex items-center gap-2 flex-shrink-0"><i data-lucide="award" class="w-6 h-6 text-yellow-500"></i> 解答・解説</h3>
    <div class="flex flex-col gap-3 flex-grow overflow-y-auto justify-center">
        ${l.quizChoiceList.map(q => {
            const s = state.quizStates[q.id];
            const isCorr = s.selectedIndex === q.correctIndex;
            const sentenceToRead = q.subQuestion.split('<br>')[0].replace('(　　　)', q.options[q.correctIndex]).replace(/'/g, "\\'");
            return `<div class="bg-white p-3 rounded-lg border border-slate-200">
                <div class="flex items-start gap-2">
                    <div class="w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 border ${isCorr ? 'text-green-600 bg-green-50' : 'text-red-600 bg-red-50'}"><i data-lucide="${isCorr ? 'check' : 'x'}"></i></div>
                    <div class="flex-grow min-w-0">
                        <div class="text-xs text-slate-500 mb-0.5">${q.subQuestion.split('<br>')[0]}</div>
                        <div class="text-lg font-bold text-slate-800 mb-1 flex items-center gap-2">
                            <span>正解: <span class="text-blue-600">${q.options[q.correctIndex]}</span></span>
                            <button onclick="speak('${sentenceToRead}')" class="p-1 rounded-full bg-slate-100 text-slate-500 hover:bg-blue-100 hover:text-blue-600 transition-colors"><i data-lucide="volume-2" class="w-4 h-4"></i></button>
                        </div>
                        <div class="text-slate-600 bg-slate-50 p-2 rounded text-sm border border-slate-100">${q.explanation}</div>
                    </div>
                </div>
            </div>`;
        }).join('')}
    </div></div>`;
}

function selectWordB(id, word, poolIdx) { const s = state.quizStates[id]; const emptySlotIdx = s.slots.findIndex(v => v === null); if (emptySlotIdx !== -1) { s.slots[emptySlotIdx] = word; s.pool.splice(poolIdx, 1); renderSlide(false); } }
function returnWordB(id, slotIdx) { const s = state.quizStates[id]; const word = s.slots[slotIdx]; if (word) { s.slots[slotIdx] = null; s.pool.push(word); renderSlide(false); } }
function resetQuizB(id) { const q = state.currentLessonData.quizFillList.find(i => i.id === id); const s = state.quizStates[id]; s.slots = q.correctOrder.map(() => null); s.pool = [...q.words].sort(() => Math.random() - 0.5); renderSlide(false); }

function checkAllB() {
    state.currentLessonData.quizFillList.forEach(q => {
        const s = state.quizStates[q.id];
        s.isCorrect = JSON.stringify(s.slots) === JSON.stringify(q.correctOrder);
    });
    updateLessonStatus();
    changeSlide(1);
}

function getQuizB_All_Q_Html(l) {
    return `<div class="h-full flex flex-col"><h3 class="text-xl font-bold text-slate-800 mb-2 flex items-center gap-2"><i data-lucide="edit-3" class="w-6 h-6 text-blue-500"></i> 練習問題 B</h3>
    <div class="flex flex-col gap-1 flex-grow overflow-y-auto justify-center">
        ${l.quizFillList.map((q, i) => {
            const s = state.quizStates[q.id];
            let sIdx = 0;
            const display = q.sentenceParts.map(p => {
                if (p === "{slot}") {
                    const w = s.slots[sIdx]; const idx = sIdx; sIdx++;
                    return w ? `<button onclick="returnWordB('${q.id}', ${idx})" class="inline-block px-1.5 py-0.5 bg-blue-100 text-blue-700 rounded mx-0.5 font-bold text-lg border border-blue-300">${w}</button>` : `<span class="inline-block w-10 h-6 border-b-2 border-slate-300 mx-0.5 align-bottom bg-slate-50"></span>`;
                }
                return `<span class="text-lg mx-0.5">${p}</span>`;
            }).join('');
            return `<div class="bg-white p-2 rounded-lg border border-slate-200 shadow-sm mb-1">
                <div class="mb-1 flex justify-between items-center">
                    <div class="text-sm font-bold text-slate-700 truncate flex-grow"><span class="text-blue-600 mr-1">Q${i+1}.</span>${q.subQuestion.split('<br>')[0]}</div>
                    <button onclick="resetQuizB('${q.id}')" class="text-xs text-slate-400 hover:text-slate-600 underline flex-shrink-0 ml-2">リセット</button>
                </div>
                <div class="mt-1 p-1 bg-slate-50 rounded border border-slate-100 text-center leading-relaxed text-lg flex items-center justify-center min-h-[40px]">${display}</div>
                <div class="bg-slate-100 p-1 rounded flex flex-wrap gap-1 justify-center min-h-[36px] items-center mt-1">
                    ${s.pool.map((w, pi) => `<button onclick="selectWordB('${q.id}', '${w}', ${pi})" class="px-2 py-1 bg-white border border-slate-300 shadow-sm rounded text-base hover:bg-blue-50 transition-all">${w}</button>`).join('') || '<span class="text-sm text-slate-400">選択済み</span>'}
                </div>
            </div>`;
        }).join('')}
    </div><div class="mt-2 text-center flex-shrink-0"><button onclick="checkAllB()" class="px-10 py-2 bg-blue-600 text-white font-bold rounded-full shadow-lg">答え合わせ</button></div></div>`;
}

function getQuizB_All_A_Html(l) {
    return `<div class="h-full flex flex-col"><h3 class="text-xl font-bold text-slate-800 mb-2 flex items-center gap-2 flex-shrink-0"><i data-lucide="award" class="w-6 h-6 text-yellow-500"></i> 解答・解説</h3>
    <div class="flex-col flex gap-2 flex-grow overflow-y-auto justify-center">
        ${l.quizFillList.map(q => {
            const s = state.quizStates[q.id]; let sIdx = 0; let sIdxRead = 0;
            const res = q.sentenceParts.map(p => (p === "{slot}") ? `<span class="text-blue-600 font-bold underline mx-1">${q.correctOrder[sIdx++]}</span>` : p).join('');
            const sentenceToRead = q.sentenceParts.map(p => (p === "{slot}") ? q.correctOrder[sIdxRead++] : p).join(' ').replace(/'/g, "\\'");
            return `<div class="bg-white p-3 rounded-lg border border-slate-200">
                <div class="flex items-start gap-2">
                    <div class="w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 border ${s.isCorrect ? 'text-green-600 bg-green-50' : 'text-red-600 bg-red-50'}"><i data-lucide="${s.isCorrect ? 'check' : 'x'}"></i></div>
                    <div class="flex-grow min-w-0">
                        <div class="text-slate-500 text-sm mb-1 truncate">${q.subQuestion.split('<br>')[0]}</div>
                        <div class="text-lg font-bold text-slate-800 mb-1 leading-tight flex items-center gap-2">
                            <span>${res}</span>
                            <button onclick="speak('${sentenceToRead}')" class="p-1 rounded-full bg-slate-100 text-slate-500 hover:bg-blue-100 hover:text-blue-600 transition-colors"><i data-lucide="volume-2" class="w-4 h-4"></i></button>
                        </div>
                        <div class="text-slate-600 bg-slate-50 p-2 rounded text-sm border border-slate-100">${q.explanation}</div>
                    </div>
                </div>
            </div>`;
        }).join('')}
    </div></div>`;
}

function selectWordC(id, idx) { const s = state.quizStates[id]; s.selected.push(s.pool.splice(idx, 1)[0]); renderSlide(false); }
function returnWordC(id, idx) { const s = state.quizStates[id]; s.pool.push(s.selected.splice(idx, 1)[0]); renderSlide(false); }

function checkAllC() {
    state.currentLessonData.quizSortList.forEach(q => {
        const s = state.quizStates[q.id];
        s.isCorrect = s.selected.join(' ') === q.words.join(' ');
    });
    updateLessonStatus();
    changeSlide(1);
}

function getQuizC_All_Q_Html(l) {
    return `<div class="h-full flex flex-col"><h3 class="text-xl font-bold text-slate-800 mb-2 flex items-center gap-2"><i data-lucide="move" class="w-6 h-6 text-blue-500"></i> 練習問題 C</h3>
    <div class="flex-grow overflow-y-auto justify-center flex flex-col">
        ${l.quizSortList.map((q, i) => {
            const s = state.quizStates[q.id];
            return `<div class="bg-white p-3 rounded-xl border border-slate-200 shadow-sm mb-3">
                <div class="mb-2 border-b border-slate-100 pb-1 font-bold text-slate-700">
                    <span class="text-blue-600 mr-2">Q${i+1}.</span>${q.subQuestion}
                </div>
                <div class="bg-blue-50 p-2 rounded-lg flex flex-wrap gap-2 items-center min-h-[44px] mb-2 border border-blue-100">
                    ${s.selected.map((w, si) => `<button onclick="returnWordC('${q.id}', ${si})" class="px-2 py-1 bg-blue-100 border border-blue-300 text-blue-800 shadow-sm rounded text-lg font-bold hover:bg-red-100 hover:text-red-600 transition-all">${w}</button>`).join('') || '<span class="text-slate-400 text-base">単語を選んでください</span>'}
                </div>
                <div class="bg-slate-100 p-2 rounded-lg flex flex-wrap gap-2 justify-center min-h-[44px] items-center">
                    ${s.pool.map((w, pi) => `<button onclick="selectWordC('${q.id}', ${pi})" class="px-3 py-1 bg-white border border-slate-300 shadow-sm rounded text-lg font-medium text-slate-700 hover:border-blue-400 transition-all">${w}</button>`).join('') || '<span class="text-slate-400 text-base">全て選択済み</span>'}
                </div>
            </div>`;
        }).join('')}
    </div><div class="mt-2 text-center flex-shrink-0"><button onclick="checkAllC()" class="px-10 py-2 bg-blue-600 text-white font-bold rounded-full shadow-lg">答え合わせ</button></div></div>`;
}

function getQuizC_All_A_Html(l) {
    return `<div class="h-full flex flex-col"><h3 class="text-xl font-bold text-slate-800 mb-4 flex items-center gap-2 flex-shrink-0"><i data-lucide="award" class="w-6 h-6 text-yellow-500"></i> 解答・解説</h3>
    <div class="flex-grow overflow-y-auto flex flex-col justify-center">
        ${l.quizSortList.map(q => {
            const s = state.quizStates[q.id];
            const sentenceToRead = q.words.join(' ').replace(/'/g, "\\'");
            return `<div class="bg-white p-3 rounded-lg border border-slate-200 mb-3 flex items-start gap-3">
                <div class="w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 border ${s.isCorrect ? 'text-green-600 bg-green-50' : 'text-red-600 bg-red-50'}"><i data-lucide="${s.isCorrect ? 'check' : 'x'}"></i></div>
                <div class="flex-grow">
                    <div class="text-slate-500 text-sm mb-1">${q.subQuestion}</div>
                    <div class="text-lg font-bold text-slate-800 mb-1 flex items-center gap-2">
                        <span>${q.words.join(' ')}</span>
                        <button onclick="speak('${sentenceToRead}')" class="p-1 rounded-full bg-slate-100 text-slate-500 hover:bg-blue-100 hover:text-blue-600 transition-colors"><i data-lucide="volume-2" class="w-4 h-4"></i></button>
                    </div>
                    <div class="text-slate-600 bg-slate-50 p-2 rounded text-sm border font-medium">${q.explanation}</div>
                </div>
            </div>`;
        }).join('')}
    </div></div>`;
}

function getSummaryHtml(l) {
    return `<div class="flex flex-col items-center justify-center h-full space-y-6 max-w-2xl mx-auto w-full">
        <h2 class="text-2xl font-bold text-slate-800 flex items-center gap-2"><i data-lucide="check-square" class="w-6 h-6 text-green-500"></i> 本日のまとめ</h2>
        <div class="bg-white rounded-xl shadow-sm border border-slate-200 w-full overflow-hidden">
            ${l.summary.map((t, i) => `<div class="p-4 border-b border-slate-100 last:border-0 flex items-start gap-3 hover:bg-slate-50 transition-colors"><span class="flex-shrink-0 w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm">${i+1}</span><p class="text-lg text-slate-700 font-medium">${t}</p></div>`).join('')}
        </div>
        <div class="text-center pt-4 flex gap-4"><button onclick="restartLesson()" class="text-slate-500 hover:text-blue-600 flex items-center gap-2 text-sm font-bold bg-white px-4 py-2 rounded-full border"><i data-lucide="rotate-ccw" class="w-4 h-4"></i> もう一度解く</button><button onclick="goToMenu()" class="text-white bg-slate-700 hover:bg-slate-800 px-4 py-2 rounded-full text-sm font-bold shadow flex items-center gap-2"><i data-lucide="list" class="w-4 h-4"></i> メニューへ戻る</button></div>
    </div>`;
}

init();
</script>
</body>
</html>
